[
    {
        "id": "ef99c2ad082b389c",
        "type": "tab",
        "label": "Initialize",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f9c195e1b9cee646",
        "type": "tab",
        "label": "Data ACQ",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6e36f219c9f64058",
        "type": "tab",
        "label": "Controls",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "88c051fc5508545d",
        "type": "tab",
        "label": "Column 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "45d9a03292c2917b",
        "type": "tab",
        "label": "column 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8662fc1a8536eebf",
        "type": "tab",
        "label": "Green house & shared (3)",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f905477ca465f455",
        "type": "tab",
        "label": "CSV Logging",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "72c01d5347f89ed1",
        "type": "tab",
        "label": "automation paramters",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7679ace97d2d2d0d",
        "type": "tab",
        "label": "Automation Process",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e84c71dc344a4f56",
        "type": "tab",
        "label": "Automation monitoring",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "783d7cd4552f429f",
        "type": "tab",
        "label": "Testing",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d17c08d50d1770f",
        "type": "ui-base",
        "name": "My Dashboard",
        "path": "/dashboard",
        "appIcon": "",
        "includeClientData": true,
        "acceptsClientConfig": [
            "ui-notification",
            "ui-control"
        ],
        "showPathInSidebar": false,
        "headerContent": "page",
        "navigationStyle": "default",
        "titleBarStyle": "default",
        "showReconnectNotification": true,
        "notificationDisplayTime": 1,
        "showDisconnectNotification": true,
        "allowInstall": true
    },
    {
        "id": "d3e8251c2f05a30e",
        "type": "modbus-client",
        "name": "NodeRedModbusSerMaster",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": true,
        "queueLogEnabled": true,
        "failureLogEnabled": true,
        "tcpHost": "127.0.0.1",
        "tcpPort": 502,
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyAMA5",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "19200",
        "serialDatabits": 8,
        "serialStopbits": 1,
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": 43,
        "commandDelay": 10,
        "clientTimeout": 1000,
        "reconnectOnTimeout": false,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true,
        "showErrors": true,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "c2b3dd79366cad0c",
        "type": "serial-port",
        "name": "tusb",
        "serialport": "/dev/ttyUSB0",
        "serialbaud": "9600",
        "databits": 8,
        "parity": "none",
        "stopbits": 1,
        "waitfor": "0xAA",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "4",
        "bin": "bin",
        "out": "count",
        "addchar": "",
        "responsetimeout": "1000"
    },
    {
        "id": "b423e96545d4ae28",
        "type": "ui-theme",
        "name": "Default Theme",
        "colors": {
            "surface": "#0094ce",
            "primary": "#0094ce",
            "bgPage": "#eeeeee",
            "groupBg": "#ffffff",
            "groupOutline": "#787878"
        },
        "sizes": {
            "density": "comfortable",
            "pagePadding": "12px",
            "groupGap": "12px",
            "groupBorderRadius": "4px",
            "widgetGap": "20px"
        }
    },
    {
        "id": "8aa6d6140cfde471",
        "type": "ui-page",
        "name": "My Process Control",
        "ui": "8d17c08d50d1770f",
        "path": "/page1",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 1,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "c34f777b31ff0d3e",
        "type": "ui-group",
        "name": "Relays - Column 1",
        "page": "8aa6d6140cfde471",
        "width": "6",
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "ps-left",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "6cf2ef424cfcf0b9",
        "type": "ui-group",
        "name": "Relays - Column 2",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 2,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "b135539d7634acf8",
        "type": "ui-group",
        "name": "Fan - Column 1",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 3,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "13816c2f51c27294",
        "type": "ui-group",
        "name": "Fan - Column 2",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 4,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "44de1c430cbb5601",
        "type": "ui-group",
        "name": "EE872 Out (1A02)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 12,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "a94205eff71ff9ec",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "ac6a5966878e6de8",
        "type": "ui-group",
        "name": "EE872 Out (2A12)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 14,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "1b0119535e1d3350",
        "type": "ui-group",
        "name": "EE872 In (1A01)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 11,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "b4e0dab4bd8c05b7",
        "type": "ui-group",
        "name": "EE872 In (2A11)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 13,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "be8e2d192e710aa5",
        "type": "ui-group",
        "name": "Pressure/Energy",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 7,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "14ffaba87334b6a7",
        "type": "ui-group",
        "name": "Pressure/Energy",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 8,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "d0e68dc802300da0",
        "type": "ui-group",
        "name": "Velocity (1A08) ",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 9,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "c4b796b294db2552",
        "type": "ui-group",
        "name": "Velocity (2A18)",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 10,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "7aa27d4b2d1c0ea6",
        "type": "ui-group",
        "name": "Heater - Column 1",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 5,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "1150877cb6638246",
        "type": "ui-group",
        "name": "Heater - Column 2",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 6,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "e86ce08b06c0beb4",
        "type": "ui-group",
        "name": "Logging",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 15,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "81f1ac7f76ca28a5",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": 8086,
        "protocol": "http",
        "database": "database",
        "name": "InfluxDB-out",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "2.0",
        "url": "http://localhost:8086",
        "timeout": 10,
        "rejectUnauthorized": true
    },
    {
        "id": "dd9559acea433198",
        "type": "ui-page",
        "name": "Automation Paramters",
        "ui": "8d17c08d50d1770f",
        "path": "/AT_params",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 2,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "84de1416f50421b6",
        "type": "ui-group",
        "name": "Auto mode control",
        "page": "dd9559acea433198",
        "width": "2",
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "1ac60510e96b49f0",
        "type": "ui-group",
        "name": "Shared Parameters",
        "page": "dd9559acea433198",
        "width": 10,
        "height": 1,
        "order": 4,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "185425e149e377ad",
        "type": "ui-group",
        "name": "Column 1 Parameters",
        "page": "dd9559acea433198",
        "width": 6,
        "height": 1,
        "order": 5,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "ee478620e5f9ed26",
        "type": "ui-group",
        "name": "column 2 parameters",
        "page": "dd9559acea433198",
        "width": 6,
        "height": 1,
        "order": 6,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "2620a6169ad6ddf4",
        "type": "ui-group",
        "name": "Save commands",
        "page": "dd9559acea433198",
        "width": 12,
        "height": 1,
        "order": 7,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "9c5620e632e3b651",
        "type": "ui-page",
        "name": "Testing",
        "ui": "8d17c08d50d1770f",
        "path": "/page3",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 4,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "9893f0a653eb8b5f",
        "type": "ui-group",
        "name": "TestGroup 1",
        "page": "9c5620e632e3b651",
        "width": 6,
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "f75802c0c8dc841f",
        "type": "ui-page",
        "name": "Automatic Mode dashboard",
        "ui": "8d17c08d50d1770f",
        "path": "/page4",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 3,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "3b4416e0e341a409",
        "type": "ui-group",
        "name": "Column 1",
        "page": "dd9559acea433198",
        "width": 5,
        "height": 1,
        "order": 2,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "ac5cd3f739284022",
        "type": "ui-group",
        "name": "Column 2",
        "page": "dd9559acea433198",
        "width": 5,
        "height": 1,
        "order": 3,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "9a2ca501d493e922",
        "type": "global-config",
        "env": [
            {
                "name": "TestMode",
                "value": "false",
                "type": "bool"
            }
        ]
    },
    {
        "id": "1f1e83b76c3ea0e5",
        "type": "change",
        "z": "ef99c2ad082b389c",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentColumnTurn",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "9252a2d49f4a204b",
        "type": "debug",
        "z": "ef99c2ad082b389c",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 540,
        "wires": []
    },
    {
        "id": "7911492e8dfe88fd",
        "type": "inject",
        "z": "ef99c2ad082b389c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$globalContext(\"autoParams\")",
        "payloadType": "jsonata",
        "x": 630,
        "y": 500,
        "wires": [
            [
                "9252a2d49f4a204b"
            ]
        ]
    },
    {
        "id": "06b85f0163fe1ddc",
        "type": "debug",
        "z": "ef99c2ad082b389c",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 640,
        "wires": []
    },
    {
        "id": "c9d2ee7c5884013b",
        "type": "inject",
        "z": "ef99c2ad082b389c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$globalContext(\"autoParams\")\t",
        "payloadType": "jsonata",
        "x": 610,
        "y": 640,
        "wires": [
            [
                "06b85f0163fe1ddc"
            ]
        ]
    },
    {
        "id": "82ad161b101d22f1",
        "type": "inject",
        "z": "ef99c2ad082b389c",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 650,
        "y": 400,
        "wires": [
            [
                "1f1e83b76c3ea0e5"
            ]
        ]
    },
    {
        "id": "2f4e3365b49cea28",
        "type": "modbus-flex-getter",
        "z": "f9c195e1b9cee646",
        "name": "Modbus Flex Getter",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "server": "d3e8251c2f05a30e",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 890,
        "y": 220,
        "wires": [
            [
                "58d27f5d1ed5ca29",
                "89040eecc4c68e9a",
                "28be5d03a3b86026"
            ],
            []
        ]
    },
    {
        "id": "58d27f5d1ed5ca29",
        "type": "modbus-response",
        "z": "f9c195e1b9cee646",
        "name": "",
        "registerShowMax": 20,
        "x": 1130,
        "y": 160,
        "wires": []
    },
    {
        "id": "b1213805386bbb18",
        "type": "function",
        "z": "f9c195e1b9cee646",
        "name": "function 3",
        "func": "\nglobal.set(\"addrInfo\", [\n  // VFDs\n  { tag: \"LVFD\", unitid: 101, fc: 3, address: 2057, quantity: 6 },\n  { tag: \"2FN11\", unitid: 201, fc: 3, address: 2057, quantity: 6 },\n\n  // Energy Meters\n  { tag: \"LEM\", unitid: 102, fc: 4, address: 12, quantity: 2 },\n  { tag: \"REM\", unitid: 202, fc: 4, address: 12, quantity: 2 },\n\n  // PIDs (read variables block 1..15 in one shot)\n  { tag: \"LPID\", unitid: 103, fc: 3, address: 1, quantity: 15 },\n  { tag: \"RPID\", unitid: 203, fc: 3, address: 1, quantity: 15 },\n\n  // EE872 Up (grouped) (1A02 & 2A12)\n  // CO2 avg+raw (0x424..0x427)\n  { tag: \"LUPEE872CO2\", unitid: 111, fc: 4, address: 0x424, quantity: 0x04 },\n  { tag: \"RUPEE872CO2\", unitid: 211, fc: 4, address: 0x424, quantity: 0x04 },\n  // Temp+RH (0x3EA..0x3FD)\n  { tag: \"LUPEE872TRH\", unitid: 111, fc: 4, address: 0x3EA, quantity: 0x14 },\n  { tag: \"RUPEE872TRH\", unitid: 211, fc: 4, address: 0x3EA, quantity: 0x14 },\n  // Pressure (0x4B0..0x4B1)\n  { tag: \"LUPEE872P\", unitid: 111, fc: 4, address: 0x4B0, quantity: 0x02 },\n  { tag: \"RUPEE872P\", unitid: 211, fc: 4, address: 0x4B0, quantity: 0x02 },\n\n  // EE872 Down (grouped)\n  { tag: \"LDOWNEE872CO2\", unitid: 112, fc: 4, address: 0x424, quantity: 0x04 },\n  { tag: \"RDOWNEE872CO2\", unitid: 212, fc: 4, address: 0x424, quantity: 0x04 },\n  { tag: \"LDOWNEE872TRH\", unitid: 112, fc: 4, address: 0x3EA, quantity: 0x14 },\n  { tag: \"RDOWNEE872TRH\", unitid: 212, fc: 4, address: 0x3EA, quantity: 0x14 },\n  { tag: \"LDOWNEE872P\", unitid: 112, fc: 4, address: 0x4B0, quantity: 0x02 },\n  { tag: \"RDOWNEE872P\", unitid: 212, fc: 4, address: 0x4B0, quantity: 0x02 },\n\n  // EE600 (as you had)\n  { tag: \"1A05\", unitid: 113, fc: 4, address: 0x4BE, quantity: 0x02 },\n  { tag: \"2A15\", unitid: 213, fc: 4, address: 0x4BE, quantity: 0x02 },\n\n  // EE650 (as you had)\n  { tag: \"LEE650T\", unitid: 114, fc: 4, address: 0x3EA, quantity: 0x02 },\n  { tag: \"REE650T\", unitid: 214, fc: 4, address: 0x3EA, quantity: 0x02 },\n  { tag: \"LEE650AV\", unitid: 114, fc: 4, address: 0x410, quantity: 0x02 },\n  { tag: \"REE650AV\", unitid: 214, fc: 4, address: 0x410, quantity: 0x02 }\n]);\n\nglobal.set(\"index\", 0);\nnode.warn(\"Global variables initialized\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 220,
        "wires": [
            [
                "e25ef078993e6402"
            ]
        ]
    },
    {
        "id": "ba6116b3cd463186",
        "type": "inject",
        "z": "f9c195e1b9cee646",
        "name": "Auto Inject Once",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 220,
        "wires": [
            [
                "b1213805386bbb18"
            ]
        ]
    },
    {
        "id": "dc81042495789fc3",
        "type": "function",
        "z": "f9c195e1b9cee646",
        "name": "function 4",
        "func": "\n//msg.payload = global.get(\"addrInfo\")[global.get(\"index\")];\n//msg.topic = global.get(\"addrInfo\")[global.get(\"index\")].tag;\n//global.set(\"index\", global.get(\"index\") == 2 ? 0 : global.get(\"index\") + 1);\n//return msg;\n\nlet addrInfo = global.get(\"addrInfo\");\nlet index = global.get(\"index\") || 0;\n\n// Safety check\nif (!Array.isArray(addrInfo) || addrInfo.length === 0) {\n    node.error(\"addrInfo is not set or empty\", msg);\n    return null;\n}\n\nmsg.payload = addrInfo[index];\nmsg.topic = addrInfo[index].tag;\n\n// Increment index with wrap-around\nglobal.set(\"index\", (index + 1) % addrInfo.length);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 220,
        "wires": [
            [
                "2f4e3365b49cea28"
            ]
        ]
    },
    {
        "id": "e25ef078993e6402",
        "type": "delay",
        "z": "f9c195e1b9cee646",
        "name": "",
        "pauseType": "delay",
        "timeout": "1000",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 520,
        "y": 220,
        "wires": [
            [
                "dc81042495789fc3"
            ]
        ]
    },
    {
        "id": "89040eecc4c68e9a",
        "type": "delay",
        "z": "f9c195e1b9cee646",
        "name": "",
        "pauseType": "delay",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 770,
        "y": 140,
        "wires": [
            [
                "dc81042495789fc3"
            ]
        ]
    },
    {
        "id": "fabb2ddd568f686c",
        "type": "function",
        "z": "f9c195e1b9cee646",
        "name": "Switch Function",
        "func": "// =============== Switch Function (32 + 1 outputs, 2-dp rounding) ===============\n// Output map:\n//  1  LU (1A02) CO2 avg        2  LU (1A02) CO2 raw         3  LU (1A02) Temp (°C)      4  LU (1A02) RH (%)        5  LU(1A02) Pressure (hPa)\n//  6  RU (2A12) CO2 avg        7  RU (2A12) CO2 raw         8  RU (2A12) Temp (°C)      9  RU (2A12) RH (%)       10  RU (2A12) Pressure (hPa)\n// 11  LD (1A01) CO2 avg       12  LD (1A01) CO2 raw        13  LD (1A01) Temp (°C)     14  LD (1A01) RH (%)       15  LD (1A01) Pressure (hPa)\n// 16  RD (2A11) CO2 avg       17  RD (2A11) CO2 raw        18  RD (2A11) Temp (°C)     19  RD (2A11) RH (%)       20  RD (2A11) Pressure (hPa)\n// 21  LEE600 (1A05)          22  REE600 (2A15)          23  LEE650T (1A08)(°C)     24  REE650T (2A18) (°C)    25  LEE650AV (1A08) (m/s)\n// 26  REE650AV (2A18)(m/s)   27  LEM watts         28  REM watts        29  LPID block(1..15)  30  RPID block(1..15)\n// 31  LVFD (array→splitter)                 32  2FN11 (array→splitter)\n// 33  Mirrored scalar metrics for Grafana (/metrics flow)\n\n// -------- helpers --------\n\n// E+E float32 values are word-swapped (hi,lo -> lo,hi for bytes)\nfunction readFloat32Swap(r0, r1) {\n  const b = Buffer.alloc(4);\n  b.writeUInt16BE(r1, 0); // low word\n  b.writeUInt16BE(r0, 2); // high word\n  return b.readFloatBE(0);\n}\nfunction f32at(regs, i) { return readFloat32Swap(regs[i], regs[i + 1]); }\n\n// Generic Int32 (big-endian) from two holding registers\nfunction readInt32BE(r0, r1) {\n  const b = Buffer.alloc(4);\n  b.writeUInt16BE(r0, 0);\n  b.writeUInt16BE(r1, 2);\n  return b.readInt32BE(0); // signed\n}\n\n// SDM230 (energy meter): float32, MS-register first (r0 = high reg, r1 = low reg)\nfunction f32be(r0, r1) {\n  const b = Buffer.alloc(4);\n  b.writeUInt16BE(r0, 0); // high reg\n  b.writeUInt16BE(r1, 2); // low  reg\n  return b.readFloatBE(0);\n}\n\n// round to 2 decimals\nfunction round2(v) { return Math.round(v * 100) / 100; }\n\nconst regs = msg.payload;\nconst tag = String(msg.topic || \"\");\n\nif (!Array.isArray(regs)) {\n  //node.error(\"Payload is not an array of registers\", msg);\n  return null;\n}\n\n// ===== MINIMAL CHANGE: make 33 outputs & add a mirror helper =====\nconst out = Array.from({ length: 33 }, () => null);\nconst out33 = [];\nfunction mirror(topic, value, labels) {\n  if (value == null || isNaN(value)) return;\n  out33.push({ topic, payload: Number(value), labels: labels || {} });\n}\n\n// side helpers\nfunction isLeftUp(t) { return /^LU/i.test(t); }\nfunction isRightUp(t) { return /^RU/i.test(t); }\nfunction isLeftDown(t) { return /^LD/i.test(t); }\nfunction isRightDown(t) { return /^RD/i.test(t); }\n\n// ---------- EE872: CO2 block (avg+raw at 0x424..0x427) (LU is 1A08; RU is 2A18; LD is 1A01; RD is 2A11) ----------\nif (/EE872CO2$/i.test(tag)) {\n  if (regs.length < 4) { node.error(`${tag} requires 4 registers`, msg); return null; }\n  const co2_avg = round2(f32at(regs, 0)); // 0x424..0x425\n  const co2_raw = round2(f32at(regs, 2)); // 0x426..0x427\n\n  if (isLeftUp(tag)) {\n    out[0] = { topic: \"LU.CO2.avg\", payload: co2_avg };\n    out[1] = { topic: \"LU.CO2.raw\", payload: co2_raw };\n    mirror(\"LU.CO2.avg\", co2_avg, { zone: \"lu\" });\n    mirror(\"LU.CO2.raw\", co2_raw, { zone: \"lu\" });\n  }\n  else if (isRightUp(tag)) {\n    out[5] = { topic: \"RU.CO2.avg\", payload: co2_avg };\n    out[6] = { topic: \"RU.CO2.raw\", payload: co2_raw };\n    mirror(\"RU.CO2.avg\", co2_avg, { zone: \"ru\" });\n    mirror(\"RU.CO2.raw\", co2_raw, { zone: \"ru\" });\n  }\n  else if (isLeftDown(tag)) {\n    out[10] = { topic: \"LD.CO2.avg\", payload: co2_avg };\n    out[11] = { topic: \"LD.CO2.raw\", payload: co2_raw };\n    mirror(\"LD.CO2.avg\", co2_avg, { zone: \"ld\" });\n    mirror(\"LD.CO2.raw\", co2_raw, { zone: \"ld\" });\n  }\n  else if (isRightDown(tag)) {\n    out[15] = { topic: \"RD.CO2.avg\", payload: co2_avg };\n    out[16] = { topic: \"RD.CO2.raw\", payload: co2_raw };\n    mirror(\"RD.CO2.avg\", co2_avg, { zone: \"rd\" });\n    mirror(\"RD.CO2.raw\", co2_raw, { zone: \"rd\" });\n  }\n  else node.warn(`Unhandled CO2 tag: ${tag}`);\n\n  out[32] = out33; // <- emit mirrored metrics\n  return out;\n}\n\n// ---------- EE872: TRH wide block (Temp at 0x3EA..0x3EB, RH at 0x3FC..0x3FD) (LU is 1A08; RU is 2A18; LD is 1A01; RD is 2A11) ----------\nif (/EE872TRH$/i.test(tag)) {\n  if (regs.length < 20) { node.error(`${tag} requires 20 registers`, msg); return null; }\n  const temperature_c = round2(f32at(regs, 0));   // 0x3EA..0x3EB\n  const rh_percent = round2(f32at(regs, 18));     // 0x3FC..0x3FD\n\n  if (isLeftUp(tag)) {\n    out[2] = { topic: \"LU.Temp.C\", payload: temperature_c };\n    out[3] = { topic: \"LU.RH.%\", payload: rh_percent };\n    mirror(\"LU.Temp.C\", temperature_c, { zone: \"lu\" });\n    mirror(\"LU.RH.%\", rh_percent, { zone: \"lu\" });\n  }\n  else if (isRightUp(tag)) {\n    out[7] = { topic: \"RU.Temp.C\", payload: temperature_c };\n    out[8] = { topic: \"RU.RH.%\", payload: rh_percent };\n    mirror(\"RU.Temp.C\", temperature_c, { zone: \"ru\" });\n    mirror(\"RU.RH.%\", rh_percent, { zone: \"ru\" });\n  }\n  else if (isLeftDown(tag)) {\n    out[12] = { topic: \"LD.Temp.C\", payload: temperature_c };\n    out[13] = { topic: \"LD.RH.%\", payload: rh_percent };\n    mirror(\"LD.Temp.C\", temperature_c, { zone: \"ld\" });\n    mirror(\"LD.RH.%\", rh_percent, { zone: \"ld\" });\n  }\n  else if (isRightDown(tag)) {\n    out[17] = { topic: \"RD.Temp.C\", payload: temperature_c };\n    out[18] = { topic: \"RD.RH.%\", payload: rh_percent };\n    mirror(\"RD.Temp.C\", temperature_c, { zone: \"rd\" });\n    mirror(\"RD.RH.%\", rh_percent, { zone: \"rd\" });\n  }\n  else node.warn(`Unhandled TRH tag: ${tag}`);\n\n  out[32] = out33;\n  return out;\n}\n\n// ---------- EE872: Pressure (0x4B0..0x4B1)(LU is 1A08; RU is 2A18; LD is 1A01; RD is 2A11) ----------\nif (/EE872P$/i.test(tag)) {\n  if (regs.length < 2) { node.error(`${tag} requires 2 registers`, msg); return null; }\n  const pressure_hpa = round2(f32at(regs, 0));\n\n  if (isLeftUp(tag)) {\n    out[4] = { topic: \"LU.P.hPa\", payload: pressure_hpa };\n    mirror(\"LU.P.hPa\", pressure_hpa, { zone: \"lu\" });\n  }\n  else if (isRightUp(tag)) {\n    out[9] = { topic: \"RU.P.hPa\", payload: pressure_hpa };\n    mirror(\"RU.P.hPa\", pressure_hpa, { zone: \"ru\" });\n  }\n  else if (isLeftDown(tag)) {\n    out[14] = { topic: \"LD.P.hPa\", payload: pressure_hpa };\n    mirror(\"LD.P.hPa\", pressure_hpa, { zone: \"ld\" });\n  }\n  else if (isRightDown(tag)) {\n    out[19] = { topic: \"RD.P.hPa\", payload: pressure_hpa };\n    mirror(\"RD.P.hPa\", pressure_hpa, { zone: \"rd\" });\n  }\n  else node.warn(`Unhandled Pressure tag: ${tag}`);\n\n  out[32] = out33;\n  return out;\n}\n\n// ---------- EE600 / EE650 (single float32 swap) (LEE650 is 1A08; REE650 is 2A18; LEE600 is 1A05; REE600 is 2A15) ----------\nif (tag === \"1A05\" || tag === \"2A15\" || tag === \"LEE650T\" || tag === \"REE650T\" || tag === \"LEE650AV\" || tag === \"REE650AV\") {\n  if (regs.length < 2) { node.error(`${tag} requires 2 registers`, msg); return null; }\n  const val = round2(f32at(regs, 0));\n\n  switch (tag) {\n    case \"1A05\": out[20] = { topic: \"1A05\", payload: val }; mirror(\"1A05\", val, { sensor: \"1A05\" }); break;\n    case \"2A15\": out[21] = { topic: \"2A15\", payload: val }; mirror(\"2A15\", val, { sensor: \"2A15\" }); break;\n    case \"LEE650T\": out[22] = { topic: \"LEE650T.C\", payload: val }; mirror(\"LEE650T.C\", val, { sensor: \"LEE650T\" }); break;\n    case \"REE650T\": out[23] = { topic: \"REE650T.C\", payload: val }; mirror(\"REE650T.C\", val, { sensor: \"REE650T\" }); break;\n    case \"LEE650AV\": out[24] = { topic: \"LEE650AV.mps\", payload: val }; mirror(\"LEE650AV.mps\",  val, { sensor: \"LEE650AV\"}); break;\n    case \"REE650AV\": out[25] = { topic: \"REE650AV.mps\", payload: val }; mirror(\"REE650AV.mps\",  val, { sensor: \"REE650AV\"}); break;\n    \n  }\n  out[32] = out33;\n  return out;\n}\n\n// ---------- Energy meters ----------\n// SDM230 (LEM/REM): float32 in Input Registers (FC=4), MS-register first\nif (tag === \"LEM\" || tag === \"REM\") {\n  if (regs.length < 2) { node.error(`${tag} requires 2 registers`, msg); return null; }\n  const watts = round2(f32be(regs[0], regs[1]));   // Active Power (W)\n  if (tag === \"LEM\") { out[26] = { topic: \"LEM.W\", payload: watts }; mirror(\"LEM.W\", watts, { sensor: \"LEM\" }); }\n  else { out[27] = { topic: \"REM.W\", payload: watts }; mirror(\"REM.W\", watts, { sensor: \"REM\" }); }\n  out[32] = out33;\n  return out;\n}\n\n// ---------- PIDs: pass-through full 15-register variables block (addr 1..15) ----------\nif (tag === \"LPID\" || tag === \"RPID\") {\n  if (regs.length < 15) { node.error(`${tag} requires 15 registers (addr 1..15)`, msg); return null; }\n  const block = regs.slice(0, 15); // keep raw words; decode downstream\n\n  if (tag === \"LPID\") out[28] = { topic: \"LPID.block\", payload: block };\n  else out[29] = { topic: \"RPID.block\", payload: block };\n\n  // Not mirrored to metrics (block/array). Add if you want.\n  out[32] = out33;\n  return out;\n}\n\n// ---------- VFDs (6 regs pass-through to your splitter nodes) ----------\nif (tag === \"LVFD\" || tag === \"2FN11\") {\n  if (regs.length < 6) { node.error(`${tag} requires 6 registers`, msg); return null; }\n  const arr6 = regs.slice(0, 6);\n  if (tag === \"LVFD\") out[30] = { topic: \"LVFD\", payload: arr6 };\n  else out[31] = { topic: \"2FN11\", payload: arr6 };\n\n  // Not mirrored to metrics (array). Add if you want.\n  out[32] = out33;\n  return out;\n}\n\nnode.warn(`Decoder: unhandled tag \"${tag}\"`);\nout[32] = out33;\nreturn out;\n",
        "outputs": 33,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 500,
        "wires": [
            [
                "d49227fb976584c2"
            ],
            [
                "e720c83631e42dc1"
            ],
            [
                "f1975702563d1d59"
            ],
            [
                "c6eecc594cd9bd80"
            ],
            [],
            [
                "a774e624c082b5cc"
            ],
            [
                "c27f3840ba416942"
            ],
            [
                "68c8714fc546ce13"
            ],
            [
                "dd3281dee60345d5"
            ],
            [],
            [
                "c9f9ff3586e127c0"
            ],
            [
                "6aaff96cfb6c2c14"
            ],
            [
                "4544c7ce6f65707b"
            ],
            [
                "d44fb28a7609fafa"
            ],
            [],
            [
                "50e1582087c67464"
            ],
            [
                "46aa49216afa217d"
            ],
            [
                "8379cd5b5b2d35fc"
            ],
            [
                "e4bc9458153c6f75"
            ],
            [],
            [
                "4e5c2f105313d1c1"
            ],
            [
                "7044f57576ae6ebd"
            ],
            [
                "fcd37a151f2c2fea"
            ],
            [
                "fe042d96545f1b4f"
            ],
            [
                "8f320c2a75791642"
            ],
            [
                "0b484aa415916248"
            ],
            [
                "d53100424bdf54a8"
            ],
            [
                "0548239aa9abe046"
            ],
            [
                "59bc71d1f36b1488"
            ],
            [
                "706843a801a9b64d"
            ],
            [
                "8ec183102b863854"
            ],
            [
                "49522d376bef2a7b"
            ],
            [
                "d96114a8372bb88b",
                "e6963fe998ccafb1"
            ]
        ]
    },
    {
        "id": "953ad43a0dfcea07",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "Delay between each Modbus Command",
        "info": "",
        "x": 790,
        "y": 100,
        "wires": []
    },
    {
        "id": "8232c459acf7d832",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "Start Delay",
        "info": "",
        "x": 540,
        "y": 180,
        "wires": []
    },
    {
        "id": "7f1ebcea1cf09f1d",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "Modbus Registers",
        "info": "",
        "x": 330,
        "y": 180,
        "wires": []
    },
    {
        "id": "fe92d755aaf4885d",
        "type": "inject",
        "z": "f9c195e1b9cee646",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 480,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "d96114a8372bb88b",
        "type": "function",
        "z": "f9c195e1b9cee646",
        "name": "33rd → metrics cache",
        "func": "'use strict';\n// Save latest sensor metrics for Prometheus exposition\nconst store = flow.get('metrics') || {};\n\nfunction classify(topic) {\n  const N = String(topic || '').trim().toUpperCase();\n  let metric = 'generic_gauge', help = 'Generic gauge';\n  if (N.startsWith('LU.CO2.') || N.startsWith('RU.CO2.') || N.startsWith('LD.CO2.') || N.startsWith('RD.CO2.')) { metric = 'co2_ppm'; help = 'CO2 concentration'; }\n  else if (/(^LU\\.|^RU\\.|^LD\\.|^RD\\.).*RH\\.%$/.test(N)) { metric = 'humidity_percent'; help = 'Relative humidity'; }\n  else if (/(^LU\\.|^RU\\.|^LD\\.|^RD\\.).*TEMP\\.C$/.test(N)) { metric = 'temperature_celsius'; help = 'Air temperature'; }\n  else if (/(^LU\\.|^RU\\.|^LD\\.|^RD\\.).*\\.P\\.HPA$/.test(N)) { metric = 'pressure_hpa'; help = 'Atmospheric pressure'; }\n  else if (N === 'LEM.W' || N === 'REM.W') { metric = 'power_watts'; help = 'Active power'; }\n  else if (/LEE650AV|REE650AV/.test(N)) { metric = 'air_velocity_mps'; help = 'Air velocity'; }\n  else if (/LEE600|2A15/.test(N)) { metric = 'sensor_value'; help = 'Generic sensor value'; }\n  return { metric, help };\n}\n\nconst topic = String(msg.topic || '');\nconst val = Number(msg.payload);\nif (!topic || !Number.isFinite(val)) return null;\n\nconst z = topic.match(/^(LU|RU|LD|RD)\\b/i)?.[1]?.toLowerCase();\nlet sensor = '';\nif (/LEE650AV|REE650AV/i.test(topic)) sensor = 'EE650AV';\nelse if (/LEE650T|REE650T/i.test(topic)) sensor = 'EE650T';\nelse if (/\\bLEM\\.W\\b/i.test(topic)) sensor = 'LEM';\nelse if (/\\bREM\\.W\\b/i.test(topic)) sensor = 'REM';\n\nconst { metric, help } = classify(topic);\nconst labels = {};\nif (z) labels.zone = z;\nif (sensor) labels.sensor = sensor;\nconst key = `${metric}|zone=${labels.zone || ''}|sensor=${labels.sensor || ''}`;\nstore[key] = { metric, value: val, labels, help };\nflow.set('metrics', store);\nreturn null;",
        "outputs": 0,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 1200,
        "wires": []
    },
    {
        "id": "146219914603dd7f",
        "type": "http in",
        "z": "f9c195e1b9cee646",
        "name": "GET /metrics",
        "url": "/metrics",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1970,
        "y": 1200,
        "wires": [
            [
                "9568701d157bd81d"
            ]
        ]
    },
    {
        "id": "9568701d157bd81d",
        "type": "function",
        "z": "f9c195e1b9cee646",
        "name": "Render Prometheus exposition",
        "func": "'use strict';\nconst m = flow.get('metrics') || {};\nconst out = [];\nconst seen = new Set();\nfor (const k of Object.keys(m)) {\n  const { metric, help } = m[k];\n  if (!seen.has(metric)) {\n    out.push(`# HELP ${metric} ${help}`);\n    out.push(`# TYPE ${metric} gauge`);\n    seen.add(metric);\n  }\n}\nfor (const k of Object.keys(m)) {\n  const { metric, value, labels } = m[k];\n  const labelStr = Object.entries(labels || {})\n    .map(([kk, vv]) => `${kk}=\"${String(vv).replace(/\"/g, '\\\\\"')}\"`)\n    .join(',');\n  out.push(labelStr ? `${metric}{${labelStr}} ${value}` : `${metric} ${value}`);\n}\nmsg.headers = { 'Content-Type': 'text/plain; version=0.0.4; charset=utf-8' };\nmsg.payload = out.join('\\n') + '\\n';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2230,
        "y": 1200,
        "wires": [
            [
                "17bb9297be0fd084"
            ]
        ]
    },
    {
        "id": "17bb9297be0fd084",
        "type": "http response",
        "z": "f9c195e1b9cee646",
        "name": "HTTP Response",
        "statusCode": "",
        "headers": {},
        "x": 2520,
        "y": 1200,
        "wires": []
    },
    {
        "id": "c9f9ff3586e127c0",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A01-Co2Avg out",
        "mode": "link",
        "links": [
            "7f0fde5c8aae1df0"
        ],
        "x": 1665,
        "y": 360,
        "wires": []
    },
    {
        "id": "6aaff96cfb6c2c14",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A01-Co2Row out",
        "mode": "link",
        "links": [
            "6e8eda2485df862e"
        ],
        "x": 1665,
        "y": 400,
        "wires": []
    },
    {
        "id": "4544c7ce6f65707b",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A01-inT out",
        "mode": "link",
        "links": [
            "4edbc418eeb26eac"
        ],
        "x": 1665,
        "y": 440,
        "wires": []
    },
    {
        "id": "d44fb28a7609fafa",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A01-inRH Out",
        "mode": "link",
        "links": [
            "7393890bfe655c7b"
        ],
        "x": 1665,
        "y": 480,
        "wires": []
    },
    {
        "id": "d49227fb976584c2",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A02-Co2Avg out",
        "mode": "link",
        "links": [
            "8b274ff98967ac95"
        ],
        "x": 1665,
        "y": 40,
        "wires": [],
        "info": "test"
    },
    {
        "id": "e720c83631e42dc1",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A02-Co2Row out",
        "mode": "link",
        "links": [
            "8d346f1afe9249f5"
        ],
        "x": 1665,
        "y": 80,
        "wires": []
    },
    {
        "id": "f1975702563d1d59",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A02-inT out",
        "mode": "link",
        "links": [
            "ae0123f0fae3a2c1"
        ],
        "x": 1665,
        "y": 120,
        "wires": []
    },
    {
        "id": "c6eecc594cd9bd80",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A02-inRH Out",
        "mode": "link",
        "links": [
            "b31942b090fbcd7d"
        ],
        "x": 1665,
        "y": 160,
        "wires": []
    },
    {
        "id": "50e1582087c67464",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A11-Co2Avg out",
        "mode": "link",
        "links": [
            "a1dea15038578bb2"
        ],
        "x": 1665,
        "y": 520,
        "wires": []
    },
    {
        "id": "46aa49216afa217d",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A11-Co2Row out",
        "mode": "link",
        "links": [
            "135ac93ab11ec7fb"
        ],
        "x": 1665,
        "y": 560,
        "wires": []
    },
    {
        "id": "8379cd5b5b2d35fc",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A11-inT out",
        "mode": "link",
        "links": [
            "4f4b82de38481a42"
        ],
        "x": 1665,
        "y": 600,
        "wires": []
    },
    {
        "id": "e4bc9458153c6f75",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A11-inRH Out",
        "mode": "link",
        "links": [
            "201e87b0063dc984"
        ],
        "x": 1665,
        "y": 640,
        "wires": []
    },
    {
        "id": "a774e624c082b5cc",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A12-Co2Avg out",
        "mode": "link",
        "links": [
            "bff83bd93fc8e5ac"
        ],
        "x": 1665,
        "y": 200,
        "wires": []
    },
    {
        "id": "c27f3840ba416942",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A12-Co2Row out",
        "mode": "link",
        "links": [
            "f96e366bd45eb28c"
        ],
        "x": 1665,
        "y": 240,
        "wires": []
    },
    {
        "id": "68c8714fc546ce13",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A12-inT out",
        "mode": "link",
        "links": [
            "12caab40daa25910"
        ],
        "x": 1665,
        "y": 280,
        "wires": []
    },
    {
        "id": "dd3281dee60345d5",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A12-inRH Out",
        "mode": "link",
        "links": [
            "7e927c909c2f0837"
        ],
        "x": 1665,
        "y": 320,
        "wires": []
    },
    {
        "id": "a615526dd948510f",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "1A02 data",
        "info": "",
        "x": 1800,
        "y": 40,
        "wires": []
    },
    {
        "id": "da767fc619ea74ee",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "2A12 data",
        "info": "",
        "x": 1800,
        "y": 180,
        "wires": []
    },
    {
        "id": "950763499e784ace",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "1A01 data",
        "info": "",
        "x": 1800,
        "y": 360,
        "wires": []
    },
    {
        "id": "364081e84e1bfbb6",
        "type": "comment",
        "z": "f9c195e1b9cee646",
        "name": "2A11 data",
        "info": "",
        "x": 1800,
        "y": 520,
        "wires": []
    },
    {
        "id": "4e5c2f105313d1c1",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A05-DP Out",
        "mode": "link",
        "links": [
            "999182eab1357c98"
        ],
        "x": 1665,
        "y": 680,
        "wires": []
    },
    {
        "id": "7044f57576ae6ebd",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A15-DP Out",
        "mode": "link",
        "links": [
            "35c3663537340510"
        ],
        "x": 1665,
        "y": 720,
        "wires": []
    },
    {
        "id": "fcd37a151f2c2fea",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A08-T Out",
        "mode": "link",
        "links": [
            "e79e09d89b38b8bd"
        ],
        "x": 1665,
        "y": 760,
        "wires": []
    },
    {
        "id": "fe042d96545f1b4f",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A18-T Out",
        "mode": "link",
        "links": [
            "2913cad12e11c850"
        ],
        "x": 1665,
        "y": 800,
        "wires": []
    },
    {
        "id": "8f320c2a75791642",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1A08-VEL 1VEL-CLMN out",
        "mode": "link",
        "links": [
            "24b217aa764ce40e"
        ],
        "x": 1665,
        "y": 840,
        "wires": []
    },
    {
        "id": "0b484aa415916248",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2A18-VEL 2VEL-CLMN out",
        "mode": "link",
        "links": [
            "d28d0870c4b8a7fb"
        ],
        "x": 1665,
        "y": 880,
        "wires": []
    },
    {
        "id": "d53100424bdf54a8",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1EM-3A20 out",
        "mode": "link",
        "links": [
            "d8e7d567a38a41f9"
        ],
        "x": 1665,
        "y": 920,
        "wires": []
    },
    {
        "id": "0548239aa9abe046",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2EM-3A21 out",
        "mode": "link",
        "links": [
            "625f771e092a4350"
        ],
        "x": 1665,
        "y": 960,
        "wires": []
    },
    {
        "id": "e6963fe998ccafb1",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "Sensor CSV Log",
        "mode": "link",
        "links": [
            "fe5e89710ca54f23"
        ],
        "x": 1665,
        "y": 1160,
        "wires": []
    },
    {
        "id": "59bc71d1f36b1488",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "PID CLM 1 out",
        "mode": "link",
        "links": [
            "b99dbe6dc59163be"
        ],
        "x": 1665,
        "y": 1000,
        "wires": []
    },
    {
        "id": "706843a801a9b64d",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "PID CLMN 2 out",
        "mode": "link",
        "links": [
            "a81f4d7a21788a15"
        ],
        "x": 1665,
        "y": 1040,
        "wires": []
    },
    {
        "id": "8ec183102b863854",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "1FN01 out",
        "mode": "link",
        "links": [
            "608890e9fcc678c4"
        ],
        "x": 1665,
        "y": 1080,
        "wires": []
    },
    {
        "id": "49522d376bef2a7b",
        "type": "link out",
        "z": "f9c195e1b9cee646",
        "name": "2FN11 out",
        "mode": "link",
        "links": [
            "fd60fd340ba8b008"
        ],
        "x": 1665,
        "y": 1120,
        "wires": []
    },
    {
        "id": "28be5d03a3b86026",
        "type": "switch",
        "z": "f9c195e1b9cee646",
        "name": "test mode",
        "property": "TestMode",
        "propertyType": "env",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1020,
        "y": 340,
        "wires": [
            [],
            [
                "fabb2ddd568f686c"
            ]
        ]
    },
    {
        "id": "7b2e3b0e24242ab5",
        "type": "modbus-flex-write",
        "z": "6e36f219c9f64058",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "d3e8251c2f05a30e",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1850,
        "y": 380,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "918f5c29a0441edd",
        "type": "ui-slider",
        "z": "6e36f219c9f64058",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_Speed",
        "label": "Frequency",
        "tooltip": "",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "5",
        "className": "my-slider",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 420,
        "y": 820,
        "wires": [
            [
                "3192ff7d837e34a1"
            ]
        ]
    },
    {
        "id": "a7dc25082b9b4b31",
        "type": "ui-slider",
        "z": "6e36f219c9f64058",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_Speed",
        "label": "Frequency",
        "tooltip": "",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "5",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1260,
        "y": 820,
        "wires": [
            [
                "59efb71b5092e5ef"
            ]
        ]
    },
    {
        "id": "827fea7bfef70bc5",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_ON",
        "label": "Motor (1FN01) ON",
        "order": 4,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 1,   \"unitid\": 101 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 450,
        "y": 620,
        "wires": [
            [
                "84d5e37a4739bd2e"
            ]
        ]
    },
    {
        "id": "e549e124316ef79a",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_OFF",
        "label": "Motor OFF",
        "order": 5,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 0,   \"unitid\": 101 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 450,
        "y": 660,
        "wires": [
            [
                "84d5e37a4739bd2e"
            ]
        ]
    },
    {
        "id": "e9fdb5d51c02c4a3",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_ON",
        "label": "Motor (2FN11) ON",
        "order": 4,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 1,   \"unitid\": 201 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1230,
        "y": 660,
        "wires": [
            [
                "62447cd5d810e9b5"
            ]
        ]
    },
    {
        "id": "f5f01f48e167e02f",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_OFF",
        "label": "Motor OFF",
        "order": 5,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 0,   \"unitid\": 201 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1230,
        "y": 700,
        "wires": [
            [
                "62447cd5d810e9b5"
            ]
        ]
    },
    {
        "id": "59a735edf2bf92a9",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_ApplySpeed",
        "label": "Set",
        "order": 6,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1797,   \"unitid\": 101 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 480,
        "y": 700,
        "wires": [
            [
                "84d5e37a4739bd2e"
            ]
        ]
    },
    {
        "id": "19fe3bd283de26ca",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_ApplySpeed",
        "label": "Set",
        "order": 6,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1797,   \"unitid\": 201 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1260,
        "y": 740,
        "wires": [
            [
                "62447cd5d810e9b5"
            ]
        ]
    },
    {
        "id": "3192ff7d837e34a1",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "Store Slider Val Globally",
        "func": "// Store the current slider value in flow.leftSliderValue\nflow.set(\"leftSliderValue\", msg.payload);\n\n// Optional warning for debugging\n//node.warn(\"Slider left value stored in flow context: \" + msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "59efb71b5092e5ef",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "Store Slider Val Globally",
        "func": "// Store the current slider value in flow.leftSliderValue\nflow.set(\"rightSliderValue\", msg.payload);\n\n// Optional warning for debugging\n//node.warn(\"Slider Right value stored in flow context: \" + msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "84d5e37a4739bd2e",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "Mb Packet Left",
        "func": "if (msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n\n    let val;\n\n    // If value is provided in the payload, use it\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    }\n    // Otherwise, get it from the stored slider value\n    else {\n        val = flow.get(\"leftSliderValue\");\n        if (val === undefined || isNaN(val)) {\n            node.warn(\"Slider value not set or invalid, defaulting to 0\");\n            val = 0;\n        }\n        val = Number(val) * 100;\n    }\n\n    // Build Modbus packet (same as before)\n    msg.payload = {\n        fc: 6,\n        unitid: Number(msg.payload.unitid),\n        address: Number(msg.payload.address),\n        quantity: 1,\n        value: [val]\n    };\n\n    return msg;\n}\n// Ignore other messages\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 620,
        "wires": [
            [
                "7b2e3b0e24242ab5"
            ]
        ]
    },
    {
        "id": "62447cd5d810e9b5",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "Mb Packet Right",
        "func": "if (msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n\n    let val;\n\n    // If value is provided in the payload, use it\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    }\n    // Otherwise, get it from the stored slider value\n    else {\n        val = flow.get(\"rightSliderValue\");\n        if (val === undefined || isNaN(val)) {\n            node.warn(\"Slider value not set or invalid, defaulting to 0\");\n            val = 0;\n        }\n        val = Number(val) * 100;\n    }\n\n    // Build Modbus Flex Write payload\n    msg.payload = {\n        fc: 6,                               // Write Single Register\n        unitid: Number(msg.payload.unitid),  // From button\n        address: Number(msg.payload.address),// From button\n        quantity: 1,\n        value: [val]                         // From slider or fixed button value\n    };\n\n    return msg;\n}\n\n// Ignore other messages\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 620,
        "wires": [
            [
                "7b2e3b0e24242ab5"
            ]
        ]
    },
    {
        "id": "de9644c0a157f36e",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "30",
        "payloadType": "num",
        "x": 1115,
        "y": 820,
        "wires": [
            [
                "a7dc25082b9b4b31"
            ]
        ],
        "l": false
    },
    {
        "id": "8219e2ba4e1a111c",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_ON",
        "label": "Heater (1H01) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 103, \"address\": 15, \"value\": 0 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 610,
        "y": 280,
        "wires": [
            [
                "aea1ec67d3cc2d44"
            ]
        ]
    },
    {
        "id": "cef08a02845df92c",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_OFF",
        "label": "Heater OFF",
        "order": 3,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 103, \"address\": 15, \"value\": 2 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 610,
        "y": 240,
        "wires": [
            [
                "aea1ec67d3cc2d44"
            ]
        ]
    },
    {
        "id": "e3c29f0027c04c92",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "1150877cb6638246",
        "name": "CTRL_2H11_ON",
        "label": "Heater (2H11) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 203, \"address\": 15, \"value\": 0 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1310,
        "y": 240,
        "wires": [
            [
                "09e3c47257362102"
            ]
        ]
    },
    {
        "id": "112ad56c10ab7e8e",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "1150877cb6638246",
        "name": "CTRL_2H11_OFF",
        "label": "Heater OFF",
        "order": 3,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 203, \"address\": 15, \"value\": 2 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "09e3c47257362102"
            ]
        ]
    },
    {
        "id": "7c8f143c3543aac9",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_ApplySetpoint",
        "label": "Set",
        "order": 7,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 103, \"address\": 6 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 640,
        "y": 200,
        "wires": [
            [
                "aea1ec67d3cc2d44"
            ]
        ]
    },
    {
        "id": "d2415e3188fbcb6f",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "1150877cb6638246",
        "name": "CTRL_2H11_ApplySetpoint",
        "label": "Set",
        "order": 7,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 203, \"address\": 6 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "09e3c47257362102"
            ]
        ]
    },
    {
        "id": "aea1ec67d3cc2d44",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "1SV Set",
        "func": "// Expects: msg.payload = { address:<number>, unitid:<number> }\n// Optional: msg.payload.value -> write this (integer)\n// If address = SP (6..9 or 16): falls back to leftSliderPIDValue if no value\n// If address = 15: Control Status (0=Auto,1=Manual,2=Standby)\n\nif (msg && msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n    if (typeof msg.payload === \"string\") {\n        try { msg.payload = JSON.parse(msg.payload); }\n        catch(e) { node.error(\"Button payload is not valid JSON\", msg); return null; }\n    }\n\n    const unitid  = Number(msg.payload.unitid);\n    const address = Number(msg.payload.address);\n\n    if (!Number.isInteger(unitid) || unitid <= 0) { node.error(\"Invalid unitid\", msg); return null; }\n    if (!Number.isInteger(address) || address < 0) { node.error(\"Invalid address\", msg); return null; }\n\n    let val;\n\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    } else {\n        // For SP registers only → fallback to slider\n        if ([6,7,8,9,16].includes(address)) {\n            val = flow.get(\"leftSliderPIDValue\");\n            if (val === undefined || isNaN(val)) {\n                node.warn(\"leftSliderPIDValue not set, defaulting to 0\");\n                val = 0;\n            }\n            val = Math.round(val);\n            if (val < 0) val = 0;\n            if (val > 50) val = 50;\n        } else {\n            node.error(\"No value provided for non-SP address\", msg);\n            return null;\n        }\n    }\n\n    // Build Flex Write\n    msg.payload = {\n        fc: 6,\n        unitid,\n        address,     // zero-based offset\n        quantity: 1,\n        value: [ val ]\n    };\n\n    node.status({ fill: \"green\", shape: \"dot\", text: `Write ${val} @U${unitid}:${address}` });\n    return msg;\n}\n\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 240,
        "wires": [
            [
                "7b2e3b0e24242ab5"
            ]
        ]
    },
    {
        "id": "b148917428c6f1d1",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 425,
        "y": 160,
        "wires": [
            [
                "7c8f143c3543aac9"
            ]
        ],
        "l": false
    },
    {
        "id": "09e3c47257362102",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "2SV Set",
        "func": "// Expects: msg.payload = { address:<number>, unitid:<number> }\n// Optional: msg.payload.value -> write this (integer)\n// If address = SP (6..9 or 16): falls back to rihghtSliderPIDValue if no value\n// If address = 15: Control Status (0=Auto,1=Manual,2=Standby)\n\nif (msg && msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n    if (typeof msg.payload === \"string\") {\n        try { msg.payload = JSON.parse(msg.payload); }\n        catch(e) { node.error(\"Button payload is not valid JSON\", msg); return null; }\n    }\n\n    const unitid  = Number(msg.payload.unitid);\n    const address = Number(msg.payload.address);\n\n    if (!Number.isInteger(unitid) || unitid <= 0) { node.error(\"Invalid unitid\", msg); return null; }\n    if (!Number.isInteger(address) || address < 0) { node.error(\"Invalid address\", msg); return null; }\n\n    let val;\n\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    } else {\n        // For SP registers only → fallback to slider\n        if ([6,7,8,9,16].includes(address)) {\n            val = flow.get(\"rightSliderPIDValue\");\n            if (val === undefined || isNaN(val)) {\n                node.warn(\"rightSliderPIDValue not set, defaulting to 0\");\n                val = 0;\n            }\n            val = Math.round(val);\n            if (val < 0) val = 0;\n            if (val > 60) val = 60;\n        } else {\n            node.error(\"No value provided for non-SP address\", msg);\n            return null;\n        }\n    }\n\n    // Build Flex Write\n    msg.payload = {\n        fc: 6,\n        unitid,\n        address,     // zero-based offset\n        quantity: 1,\n        value: [ val ]\n    };\n\n    node.status({ fill: \"green\", shape: \"dot\", text: `Write ${val} @U${unitid}:${address}` });\n    return msg;\n}\n\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 280,
        "wires": [
            [
                "7b2e3b0e24242ab5"
            ]
        ]
    },
    {
        "id": "cf5cec14ec7e1b52",
        "type": "serial request",
        "z": "6e36f219c9f64058",
        "name": "",
        "serial": "c2b3dd79366cad0c",
        "x": 910,
        "y": 1240,
        "wires": [
            [
                "e66b4aa6d3310ecd"
            ]
        ]
    },
    {
        "id": "d497c589b0378fe8",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "function 5",
        "func": "// Inputs:\n// msg.payload = { relay: N, state: \"ON\" or \"OFF\", bankByte: <number> }\n\nconst relayNum = msg.payload.relay;\nconst state = msg.payload.state.toUpperCase();\nconst bankByte = msg.payload.bankByte;\n\nif (relayNum < 1 || relayNum > 8) {\n    node.error(\"Relay number must be 1 to 8\", msg);\n    return null;\n}\n\nif (typeof bankByte !== 'number') {\n    node.error(\"bankByte must be a number\", msg);\n    return null;\n}\n\nconst header = 0xAA;\nconst cmd1 = 0x03;\nconst cmd2 = 0xFE;\n\nlet relayByte;\nif (state === \"ON\") {\n    relayByte = 108 + (relayNum - 1);\n} else if (state === \"OFF\") {\n    relayByte = 100 + (relayNum - 1);\n} else {\n    node.error(\"State must be ON or OFF\", msg);\n    return null;\n}\n\nconst command = [header, cmd1, cmd2, relayByte, bankByte];\nconst checksum = command.reduce((sum, b) => sum + b, 0) % 256;\ncommand.push(checksum);\n\nmsg.payload = Buffer.from(command);\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1240,
        "wires": [
            [
                "cf5cec14ec7e1b52"
            ]
        ]
    },
    {
        "id": "e66b4aa6d3310ecd",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "function 7",
        "func": "let bytes = msg.payload;\n\nif (!Buffer.isBuffer(bytes)) {\n    //node.error(\"Payload is not a Buffer\", msg);\n    return null;\n}\n\nif (bytes.length !== 4) {\n    //node.error(\"Invalid response length\", msg);\n    return null;\n}\n\nconst header1 = bytes[0];\nconst header2 = bytes[1];\nconst dataByte = bytes[2];\nconst checksum = bytes[3];\n\n// Validate headers\nif (header1 !== 0xAA || header2 !== 0x01) {\n    //node.error(\"Invalid response header\", msg);\n    return null;\n}\n\n// Calculate expected checksum\nconst calcChecksum = (header1 + header2 + dataByte) % 256;\nif (calcChecksum !== checksum) {\n    node.error(`Checksum mismatch. Got ${checksum}, expected ${calcChecksum}`, msg);\n    return null;\n}\n\nif (checksum === 0x00) {\n    // On/off response - just send null on all outputs to keep ui-leds unchanged\n    return [null, null, null, null, null, null, null, null];\n} else {\n    // Status response - send relay states on outputs 1-8\n    let msgs = [];\n    for (let i = 0; i < 8; i++) {\n        msgs.push({\n            topic: `relay${i + 1}`,\n            payload: !!((dataByte >> i) & 1)\n        });\n    }\n    return msgs;\n}\n",
        "outputs": 8,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1240,
        "wires": [
            [
                "67d2a3131725065f"
            ],
            [
                "12a71e3758cc4e50"
            ],
            [
                "77a2dae551f4019d"
            ],
            [
                "c949b52e0818d46e"
            ],
            [
                "603cc31121a9c383"
            ],
            [
                "6026a94ab82f589b"
            ],
            [],
            []
        ]
    },
    {
        "id": "72bc1fd0cc461eaf",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "function 8",
        "func": "const command = [0xAA, 0x03, 0xFE, 0x7C, 0x01];\nconst checksum = command.reduce((sum, b) => sum + b, 0) % 256;\ncommand.push(checksum);\n\nmsg.payload = Buffer.from(command);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1320,
        "wires": [
            [
                "cf5cec14ec7e1b52"
            ]
        ]
    },
    {
        "id": "bb00d017365dc146",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Check Status - Auto 1s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 950,
        "y": 1380,
        "wires": [
            [
                "72bc1fd0cc461eaf"
            ]
        ]
    },
    {
        "id": "81cf8880ad7b1f91",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "c34f777b31ff0d3e",
        "name": "CTRL_1W01_ON",
        "label": "1W01 (WATER) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 1, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 370,
        "y": 1040,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "c75176c33750a3a2",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "c34f777b31ff0d3e",
        "name": "CTRL_1W01_OFF",
        "label": "1W01 OFF",
        "order": 2,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 1, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 690,
        "y": 1040,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "6cc0a58736985dfa",
        "type": "comment",
        "z": "6e36f219c9f64058",
        "name": "Column 2 (Relay 5 to 8)",
        "info": "",
        "x": 1620,
        "y": 1440,
        "wires": []
    },
    {
        "id": "49046d7b459dea53",
        "type": "ui-led",
        "z": "6e36f219c9f64058",
        "name": "1W01LedLeft",
        "group": "c34f777b31ff0d3e",
        "order": 3,
        "width": "2",
        "height": "1",
        "label": "1W01 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1630,
        "y": 1020,
        "wires": []
    },
    {
        "id": "334b19377d6fefe7",
        "type": "ui-led",
        "z": "6e36f219c9f64058",
        "name": "2W11LedRight",
        "group": "6cf2ef424cfcf0b9",
        "order": 3,
        "width": "2",
        "height": "1",
        "label": "2W11 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1620,
        "y": 1260,
        "wires": []
    },
    {
        "id": "9f82bf8410cbe93f",
        "type": "ui-led",
        "z": "6e36f219c9f64058",
        "name": "1V03LedLeft",
        "group": "c34f777b31ff0d3e",
        "order": 6,
        "width": "2",
        "height": "1",
        "label": "1V03 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1630,
        "y": 1080,
        "wires": []
    },
    {
        "id": "d5b19860c3ec7714",
        "type": "ui-led",
        "z": "6e36f219c9f64058",
        "name": "1V02LedLeft",
        "group": "c34f777b31ff0d3e",
        "order": 9,
        "width": "2",
        "height": "1",
        "label": "1V02 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1630,
        "y": 1140,
        "wires": []
    },
    {
        "id": "7f5cb19ba497669c",
        "type": "ui-led",
        "z": "6e36f219c9f64058",
        "name": "2V12LedRight",
        "group": "6cf2ef424cfcf0b9",
        "order": 9,
        "width": "2",
        "height": "1",
        "label": "2V12 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1620,
        "y": 1320,
        "wires": []
    },
    {
        "id": "f261de0398c7e6c0",
        "type": "ui-led",
        "z": "6e36f219c9f64058",
        "name": "2V13LedRight",
        "group": "6cf2ef424cfcf0b9",
        "order": 6,
        "width": "2",
        "height": "1",
        "label": "2V13 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1620,
        "y": 1380,
        "wires": []
    },
    {
        "id": "f95de381e59b7cdd",
        "type": "comment",
        "z": "6e36f219c9f64058",
        "name": "column 1 (Relay 1 to 4)",
        "info": "",
        "x": 1540,
        "y": 960,
        "wires": []
    },
    {
        "id": "88c5af309a1f359e",
        "type": "comment",
        "z": "6e36f219c9f64058",
        "name": "Column 1 (Relay 1 to 4)",
        "info": "",
        "x": 400,
        "y": 980,
        "wires": []
    },
    {
        "id": "58164a15f30bf425",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "6cf2ef424cfcf0b9",
        "name": "Relay 2W11 ON",
        "label": "2W11 (WATER) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 2, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 460,
        "y": 1520,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "96881b4faea7eb2a",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "6cf2ef424cfcf0b9",
        "name": "Relay 2W11 OFF",
        "label": "2W11 OFF",
        "order": 2,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 2, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1520,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "a3ea322d8eb40a65",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "c34f777b31ff0d3e",
        "name": "1V03 ON",
        "label": "1V03 (TO GRH) ON",
        "order": 4,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 3, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 320,
        "y": 1120,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "37394063912d276b",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "c34f777b31ff0d3e",
        "name": "1V03 OFF",
        "label": "1V03 OFF",
        "order": 5,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 3, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1120,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "2afb46aad5e0f584",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "c34f777b31ff0d3e",
        "name": "1V02 ON",
        "label": "1V02 (TO AMB) ON",
        "order": 7,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{\"relay\":4,\"state\":\"ON\",\"bankByte\":1}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 340,
        "y": 1160,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "a783aa2425eec651",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "c34f777b31ff0d3e",
        "name": "1V02 OFF",
        "label": "1V02 OFF",
        "order": 8,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 4, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1160,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "d0fd1445951519a5",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V12 ON",
        "label": "2V12 (TO AMB) ON",
        "order": 7,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 5, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 460,
        "y": 1380,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "b88da41de0f1963f",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V12 OFF",
        "label": "2V12 OFF",
        "order": 8,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 5, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1380,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "bfdf7030bef51dc0",
        "type": "comment",
        "z": "6e36f219c9f64058",
        "name": "Column 2 (Relay 5 to 8)",
        "info": "",
        "x": 500,
        "y": 1340,
        "wires": []
    },
    {
        "id": "90cef1e56c38eeec",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V13 ON",
        "label": "2V13 (TO GRH) ON",
        "order": 4,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 6, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 460,
        "y": 1420,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "add2136b350cdf8e",
        "type": "ui-button",
        "z": "6e36f219c9f64058",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V13 OFF",
        "label": "2V13 OFF",
        "order": 5,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 6, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1420,
        "wires": [
            [
                "d497c589b0378fe8"
            ]
        ]
    },
    {
        "id": "da6c566ebda3c0cd",
        "type": "comment",
        "z": "6e36f219c9f64058",
        "name": "Timeout 1000ms",
        "info": "",
        "x": 900,
        "y": 1200,
        "wires": []
    },
    {
        "id": "3e787473f0763ac8",
        "type": "comment",
        "z": "6e36f219c9f64058",
        "name": "Trigger Status check every 1s",
        "info": "",
        "x": 980,
        "y": 1420,
        "wires": []
    },
    {
        "id": "67d2a3131725065f",
        "type": "change",
        "z": "6e36f219c9f64058",
        "name": "Log W1LedLeft_status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.W1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1020,
        "wires": [
            [
                "49046d7b459dea53",
                "cd1525cd1c5b5e81"
            ]
        ]
    },
    {
        "id": "77a2dae551f4019d",
        "type": "change",
        "z": "6e36f219c9f64058",
        "name": "Log RD1LedLeft_status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.D1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 1080,
        "wires": [
            [
                "9f82bf8410cbe93f",
                "cd1525cd1c5b5e81"
            ]
        ]
    },
    {
        "id": "12a71e3758cc4e50",
        "type": "change",
        "z": "6e36f219c9f64058",
        "name": "Log W2LedRight state",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.W2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1260,
        "wires": [
            [
                "334b19377d6fefe7",
                "cd1525cd1c5b5e81"
            ]
        ]
    },
    {
        "id": "c949b52e0818d46e",
        "type": "change",
        "z": "6e36f219c9f64058",
        "name": "Log RA1LedLeft_status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.A1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 1140,
        "wires": [
            [
                "d5b19860c3ec7714",
                "cd1525cd1c5b5e81"
            ]
        ]
    },
    {
        "id": "603cc31121a9c383",
        "type": "change",
        "z": "6e36f219c9f64058",
        "name": "Log RA2LedRight",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.A2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 1320,
        "wires": [
            [
                "7f5cb19ba497669c",
                "cd1525cd1c5b5e81"
            ]
        ]
    },
    {
        "id": "6026a94ab82f589b",
        "type": "change",
        "z": "6e36f219c9f64058",
        "name": "Log RD2LedRight",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.D2",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 1380,
        "wires": [
            [
                "f261de0398c7e6c0",
                "cd1525cd1c5b5e81"
            ]
        ]
    },
    {
        "id": "cd1525cd1c5b5e81",
        "type": "link out",
        "z": "6e36f219c9f64058",
        "name": "Relays status CSV logger",
        "mode": "link",
        "links": [
            "fe5e89710ca54f23"
        ],
        "x": 1745,
        "y": 1200,
        "wires": []
    },
    {
        "id": "30bbe2e1f78c8e0d",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 415,
        "y": 400,
        "wires": [
            [
                "44d1ce07593e12a6"
            ]
        ],
        "l": false
    },
    {
        "id": "44d1ce07593e12a6",
        "type": "ui-slider",
        "z": "6e36f219c9f64058",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_Setpoint",
        "label": "SV",
        "tooltip": "",
        "order": 8,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "2",
        "className": "my-slider",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 580,
        "y": 400,
        "wires": [
            [
                "479af86d75e808ad"
            ]
        ]
    },
    {
        "id": "479af86d75e808ad",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "1PID Slider Val",
        "func": "\nflow.set(\"leftSliderPIDValue\", msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "634333790553eed7",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 1145,
        "y": 380,
        "wires": [
            [
                "e1d01c87e88ebfa5"
            ]
        ],
        "l": false
    },
    {
        "id": "e1d01c87e88ebfa5",
        "type": "ui-slider",
        "z": "6e36f219c9f64058",
        "group": "1150877cb6638246",
        "name": "2PID Slider",
        "label": "SV",
        "tooltip": "",
        "order": 8,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "2",
        "className": "my-slider",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1280,
        "y": 380,
        "wires": [
            [
                "88bd996fe5e2a275"
            ]
        ]
    },
    {
        "id": "88bd996fe5e2a275",
        "type": "function",
        "z": "6e36f219c9f64058",
        "name": "2PID Slider Val",
        "func": "\nflow.set(\"rightSliderPIDValue\", msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "a615c8b71e7642e7",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1FN01_ON in",
        "links": [
            "a2d946e1897be380",
            "c1ad52aec3842197",
            "e6f0613babbc3811"
        ],
        "x": 285,
        "y": 620,
        "wires": [
            [
                "827fea7bfef70bc5"
            ]
        ]
    },
    {
        "id": "eb6a76bae10efbf6",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1FN01_OFF in",
        "links": [
            "dbc94b0fde190ff0"
        ],
        "x": 285,
        "y": 660,
        "wires": [
            [
                "e549e124316ef79a"
            ]
        ]
    },
    {
        "id": "3cae667c97c2ac77",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1FN01_ApplySpeed in",
        "links": [
            "a2d946e1897be380",
            "c1ad52aec3842197",
            "e6f0613babbc3811"
        ],
        "x": 285,
        "y": 700,
        "wires": [
            [
                "59a735edf2bf92a9"
            ]
        ]
    },
    {
        "id": "8ea88e1bb2d2987d",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2FN11_ON in",
        "links": [],
        "x": 1075,
        "y": 660,
        "wires": [
            [
                "e9fdb5d51c02c4a3"
            ]
        ]
    },
    {
        "id": "244babb18aab9d38",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2FN11_OFF in",
        "links": [],
        "x": 1075,
        "y": 700,
        "wires": [
            [
                "f5f01f48e167e02f"
            ]
        ]
    },
    {
        "id": "82e4a78d69a568dc",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2FN11_ApplySpeed in",
        "links": [],
        "x": 1075,
        "y": 740,
        "wires": [
            [
                "19fe3bd283de26ca"
            ]
        ]
    },
    {
        "id": "16688b10de056691",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1H01_ApplySetpoint in",
        "links": [
            "a2d946e1897be380"
        ],
        "x": 425,
        "y": 200,
        "wires": [
            [
                "7c8f143c3543aac9"
            ]
        ]
    },
    {
        "id": "d9d26b3697dda33b",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1H01_OFF in",
        "links": [
            "5f3b9578b1ae44b4",
            "ec0ff810fb2e1728"
        ],
        "x": 415,
        "y": 240,
        "wires": [
            [
                "cef08a02845df92c"
            ]
        ]
    },
    {
        "id": "5fec5fe9b68d0c0c",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1H01_ON in",
        "links": [
            "a2d946e1897be380"
        ],
        "x": 415,
        "y": 280,
        "wires": [
            [
                "8219e2ba4e1a111c"
            ]
        ]
    },
    {
        "id": "0a64217913a57803",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2H11_ApplySetpoint in",
        "links": [],
        "x": 1135,
        "y": 160,
        "wires": [
            [
                "d2415e3188fbcb6f"
            ]
        ]
    },
    {
        "id": "32eb1839073c5e0f",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2H11_OFF in",
        "links": [],
        "x": 1135,
        "y": 200,
        "wires": [
            [
                "112ad56c10ab7e8e"
            ]
        ]
    },
    {
        "id": "92762e38c7b2ed77",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2H11_ON in",
        "links": [],
        "x": 1135,
        "y": 240,
        "wires": [
            [
                "e3c29f0027c04c92"
            ]
        ]
    },
    {
        "id": "33bfee557bc54384",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1FN01_Speed in",
        "links": [
            "4bddbbfdfcd8b1cc",
            "615acf3f8dbc1041",
            "78d0ec99726a7b25"
        ],
        "x": 275,
        "y": 860,
        "wires": [
            [
                "918f5c29a0441edd"
            ]
        ]
    },
    {
        "id": "09926d31ee7313e1",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_2FN11_Speed in",
        "links": [],
        "x": 1115,
        "y": 860,
        "wires": [
            [
                "a7dc25082b9b4b31"
            ]
        ]
    },
    {
        "id": "6857ceaee7b95193",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "30",
        "payloadType": "num",
        "x": 275,
        "y": 820,
        "wires": [
            [
                "918f5c29a0441edd"
            ]
        ],
        "l": false
    },
    {
        "id": "c7ec5ea909759580",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1W01_ON in",
        "links": [
            "335225c7c8e20cce"
        ],
        "x": 245,
        "y": 1040,
        "wires": [
            [
                "81cf8880ad7b1f91"
            ]
        ]
    },
    {
        "id": "8e6f6eb4426b3b57",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1W01_OFF in",
        "links": [
            "86e9292faf8a489e"
        ],
        "x": 545,
        "y": 1040,
        "wires": [
            [
                "c75176c33750a3a2"
            ]
        ]
    },
    {
        "id": "998e7b9787402207",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1V03_ON in",
        "links": [],
        "x": 215,
        "y": 1120,
        "wires": [
            [
                "a3ea322d8eb40a65"
            ]
        ]
    },
    {
        "id": "860aab1ffcddf62a",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1V02_ON in",
        "links": [
            "c1ad52aec3842197"
        ],
        "x": 235,
        "y": 1160,
        "wires": [
            [
                "2afb46aad5e0f584"
            ]
        ]
    },
    {
        "id": "747e8b0511d19584",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1V03_OFF in",
        "links": [],
        "x": 545,
        "y": 1120,
        "wires": [
            [
                "37394063912d276b"
            ]
        ]
    },
    {
        "id": "25e05f5cba0cc072",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1V02_OFF in",
        "links": [
            "dbc94b0fde190ff0",
            "e4714acbb2357dfc"
        ],
        "x": 545,
        "y": 1160,
        "wires": [
            [
                "a783aa2425eec651"
            ]
        ]
    },
    {
        "id": "32eeaf012ba6ceb7",
        "type": "link in",
        "z": "6e36f219c9f64058",
        "name": "CTRL_1H01_Setpoint in",
        "links": [
            "82736fc6612a34c8"
        ],
        "x": 405,
        "y": 440,
        "wires": [
            [
                "44d1ce07593e12a6"
            ]
        ]
    },
    {
        "id": "18dc3621df587d6c",
        "type": "inject",
        "z": "6e36f219c9f64058",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 1125,
        "y": 120,
        "wires": [
            [
                "d2415e3188fbcb6f"
            ]
        ],
        "l": false
    },
    {
        "id": "6aa0d8d92de7620c",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A01-Co2Avg",
        "group": "1b0119535e1d3350",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 480,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e8edf11d42b13196",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A01-Co2Raw",
        "group": "1b0119535e1d3350",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 450,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "7f0fde5c8aae1df0",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A01-Co2Avg in",
        "links": [
            "c9f9ff3586e127c0",
            "7727cc0b5bc81a7d"
        ],
        "x": 345,
        "y": 100,
        "wires": [
            [
                "6aa0d8d92de7620c",
                "6f6d8496bcc19679"
            ]
        ]
    },
    {
        "id": "6e8eda2485df862e",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A01-Co2Row in",
        "links": [
            "6aaff96cfb6c2c14"
        ],
        "x": 315,
        "y": 200,
        "wires": [
            [
                "e8edf11d42b13196",
                "a3f3c3a0dbe2b3e4"
            ]
        ]
    },
    {
        "id": "120de331b061eb55",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A01-inT",
        "group": "1b0119535e1d3350",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 440,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "a408215477122745",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A01-inRH",
        "group": "1b0119535e1d3350",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 450,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "3edb8a367cec92a9",
        "type": "function",
        "z": "88c051fc5508545d",
        "name": "1A01- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"LD.Temp.C\" or \"LD.RH.%\"\nconst zone = \"LD\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT  = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\n// Cache latest readings in flow context\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\n// Retrieve stored values\nconst T  = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\n\n// Wait until both temperature and RH are available\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\n// --- Psychrometric formula for humidity ratio (kg water / kg dry air) ---\nconst P  = 1013.25; // hPa (standard atmospheric pressure)\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5)); // hPa\nconst Pv = (RH / 100) * es;                              // hPa\nconst w  = 0.622 * Pv / (P - Pv);                        // kg/kg\n\n// Round to 4 decimal places\nconst rounded = Math.round(w * 10000) / 10000;\n\nnode.status({ fill: 'yellow', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 480,
        "wires": [
            [
                "b7bf5b8e37357208",
                "9d20bbd5772442c5"
            ]
        ]
    },
    {
        "id": "b7bf5b8e37357208",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A01- Abs Hum",
        "group": "1b0119535e1d3350",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 680,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "4edbc418eeb26eac",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A01-inT in",
        "links": [
            "4544c7ce6f65707b",
            "786b4d0bfac0fe4b"
        ],
        "x": 315,
        "y": 300,
        "wires": [
            [
                "120de331b061eb55",
                "3edb8a367cec92a9",
                "f123c879757ce80b"
            ]
        ]
    },
    {
        "id": "7393890bfe655c7b",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A01-inRH in",
        "links": [
            "d44fb28a7609fafa",
            "5495ba41875edd88"
        ],
        "x": 315,
        "y": 380,
        "wires": [
            [
                "a408215477122745",
                "3edb8a367cec92a9",
                "e274f9e343468498"
            ]
        ]
    },
    {
        "id": "cb4bdf3a806e3573",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A02-Co2Avg",
        "group": "44de1c430cbb5601",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1400,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "2f0cd8e7c902f5cb",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A02-Co2Raw",
        "group": "44de1c430cbb5601",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1400,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "843dd2b52a4ca8dc",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A02-outT",
        "group": "44de1c430cbb5601",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1390,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "cdd531e55476ef36",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A02-outRH",
        "group": "44de1c430cbb5601",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1390,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "fcbbd3c14aa693a4",
        "type": "function",
        "z": "88c051fc5508545d",
        "name": "1A02- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"LU.Temp.C\" or \"LU.RH.%\"\nconst zone = \"LU\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\n// Cache latest values\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\nconst T = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\n// --- Humidity ratio (kg water / kg dry air) ---\nconst P = 1013.25; // hPa\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5));\nconst Pv = (RH / 100) * es;\nconst w = 0.622 * Pv / (P - Pv); // kg/kg\n\nconst rounded = Math.round(w * 10000) / 10000;  // 4 decimal places\nnode.status({ fill: 'blue', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": "2",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 420,
        "wires": [
            [
                "29dfb76626d31130",
                "378c861c8cf9f65b"
            ]
        ]
    },
    {
        "id": "29dfb76626d31130",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A02- Abs Hum",
        "group": "44de1c430cbb5601",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1620,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "8b274ff98967ac95",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A02-Co2Avg in",
        "links": [
            "d49227fb976584c2",
            "163484618bdd5358"
        ],
        "x": 1235,
        "y": 80,
        "wires": [
            [
                "cb4bdf3a806e3573",
                "d3dc984158365188"
            ]
        ]
    },
    {
        "id": "8d346f1afe9249f5",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A02-Co2Row in",
        "links": [
            "e720c83631e42dc1"
        ],
        "x": 1235,
        "y": 160,
        "wires": [
            [
                "2f0cd8e7c902f5cb",
                "5cc55e9e9978a2a5"
            ]
        ]
    },
    {
        "id": "ae0123f0fae3a2c1",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A02-inT in",
        "links": [
            "f1975702563d1d59",
            "22ecc3dfc5471508"
        ],
        "x": 1235,
        "y": 240,
        "wires": [
            [
                "843dd2b52a4ca8dc",
                "fcbbd3c14aa693a4",
                "859b55a3c0791a18"
            ]
        ]
    },
    {
        "id": "b31942b090fbcd7d",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A02-inRH in",
        "links": [
            "c6eecc594cd9bd80",
            "b1596477cc778c8a"
        ],
        "x": 1235,
        "y": 320,
        "wires": [
            [
                "cdd531e55476ef36",
                "fcbbd3c14aa693a4",
                "dafb63a1ad73348b"
            ]
        ]
    },
    {
        "id": "a492a9d513ac10b8",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A05-DP",
        "group": "be8e2d192e710aa5",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Diff Pressure (1A05)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Pa",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "400",
                "color": "#5250e2",
                "text": "",
                "textType": "label"
            },
            {
                "from": "1000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 500,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "999182eab1357c98",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A05-DP in",
        "links": [
            "4e5c2f105313d1c1"
        ],
        "x": 340,
        "y": 620,
        "wires": [
            [
                "a492a9d513ac10b8",
                "9b2eb5986b07a4a8"
            ]
        ]
    },
    {
        "id": "e79e09d89b38b8bd",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A08-T in",
        "links": [
            "fcd37a151f2c2fea"
        ],
        "x": 335,
        "y": 720,
        "wires": [
            [
                "b0f66097095f0fe4",
                "addf929016d7057b"
            ]
        ]
    },
    {
        "id": "b0f66097095f0fe4",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A08-T",
        "group": "d0e68dc802300da0",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "EE650-Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 485,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "9ec8446e8525df92",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1A08-VEL",
        "group": "d0e68dc802300da0",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Air flow (m3/hr)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 710,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "debf0c44334d9e96",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "calc-flow",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 25, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 840,
        "wires": [
            [
                "9ec8446e8525df92",
                "b41128652b049a5f"
            ]
        ]
    },
    {
        "id": "418177800794cd74",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1VEL-CLMN",
        "group": "d0e68dc802300da0",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Column Velocity (m/s)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 710,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "a452c4d738daa632",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "calc-clmn vel",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 0.21673, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 920,
        "wires": [
            [
                "418177800794cd74",
                "04dda5093a5162b7"
            ]
        ]
    },
    {
        "id": "24b217aa764ce40e",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1A08-VEL 1VEL-CLMN in",
        "links": [
            "8f320c2a75791642"
        ],
        "x": 325,
        "y": 840,
        "wires": [
            [
                "debf0c44334d9e96",
                "a452c4d738daa632"
            ]
        ]
    },
    {
        "id": "685cac78fae45c18",
        "type": "ui-led",
        "z": "88c051fc5508545d",
        "name": "Clm1- PID Status",
        "group": "7aa27d4b2d1c0ea6",
        "order": 2,
        "width": "2",
        "height": "1",
        "label": "Heater ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 910,
        "y": 1240,
        "wires": []
    },
    {
        "id": "e64a16f2f15ff0e4",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1PID SV",
        "group": "7aa27d4b2d1c0ea6",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Set Point Value - SV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 700,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "747dedcb38e4a289",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1PID PV",
        "group": "7aa27d4b2d1c0ea6",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Measured Value - PV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 700,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "6acc9a8c4752f6b3",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1PID PecrentP",
        "group": "7aa27d4b2d1c0ea6",
        "order": 6,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Power Output - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 720,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "90fed77c39d7a76a",
        "type": "function",
        "z": "88c051fc5508545d",
        "name": "PID Split- Clm1",
        "func": "// Outputs (5):\n// 1: PV (number)\n// 2: SP (number)\n// 3: Power % (number)\n// 4: Mode text (\"Auto\"/\"Manual\"/\"Standby\"/\"Unknown\")\n// 5: LED boolean (Auto=true; Manual/Standby/Unknown=false)\n\nconst r = msg.payload;\nif (!Array.isArray(r) || r.length < 15) {\n  node.error(\"PID block requires 15 registers (addr 1..15)\", msg);\n  return [null, null, null, null, null];\n}\n\n// dP and scaler\nconst dP = Number(r[1] || 0);\nconst scale = v => Math.round((v / Math.pow(10, dP)) * 100) / 100;\n\n// Decode basics\nconst pv = scale(r[0]);                          // addr 1\nconst sp = scale(r[2]);                          // addr 3 (operative SP)\nconst powerPct = Math.round((r[3] / 100) * 100) / 100; // addr 4 (2 implied dp)\nconst modeCode = Number(r[14] || 0);                   // addr 15 (0=Auto,1=Manual,2=Standby)\n\n// Text + LED boolean (Auto = true)\nconst modeText = (modeCode === 0) ? \"Auto\" : (modeCode === 1) ? \"Manual\" :\n  (modeCode === 2) ? \"Standby\" : \"Unknown\";\nconst ledOn = (modeCode === 0); // ONLY Auto turns the LED on\n\n// Status\n//node.status({\n//  fill: ledOn ? \"green\" : (modeCode === 2 ? \"grey\" : \"yellow\"),\n//  shape: \"dot\",\n//  text: `PV ${pv}  SP ${sp}  ${powerPct}%  ${modeText}`\n//});\n\n// Fan out\nreturn [\n  { topic: \"PID.PV\", payload: pv },\n  { topic: \"PID.SP\", payload: sp },\n  { topic: \"PID.Power.%\", payload: powerPct },\n  { topic: \"PID.Mode.Text\", payload: modeText },\n  { topic: \"PID.Mode.Boolean\", payload: ledOn }  // <-- wire this to ui_led\n];\n",
        "outputs": 5,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1120,
        "wires": [
            [
                "747dedcb38e4a289",
                "daa73899bf87034d"
            ],
            [
                "e64a16f2f15ff0e4"
            ],
            [
                "6acc9a8c4752f6b3"
            ],
            [],
            [
                "3c58095ba19d52a3"
            ]
        ]
    },
    {
        "id": "3c58095ba19d52a3",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "log 1H01 status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "L.1H01",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1180,
        "wires": [
            [
                "685cac78fae45c18",
                "e9fc05a5c04cb760"
            ]
        ]
    },
    {
        "id": "e9fc05a5c04cb760",
        "type": "link out",
        "z": "88c051fc5508545d",
        "name": "1H01 status CSV Log",
        "mode": "link",
        "links": [
            "fe5e89710ca54f23"
        ],
        "x": 865,
        "y": 1180,
        "wires": []
    },
    {
        "id": "b99dbe6dc59163be",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "PID CLMN 1 in",
        "links": [
            "59bc71d1f36b1488"
        ],
        "x": 275,
        "y": 1120,
        "wires": [
            [
                "90fed77c39d7a76a"
            ]
        ]
    },
    {
        "id": "c42e20a49541362a",
        "type": "ui-led",
        "z": "88c051fc5508545d",
        "name": "1FN01-LED",
        "group": "b135539d7634acf8",
        "order": 3,
        "width": "1",
        "height": "1",
        "label": "Motor ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1670,
        "y": 1000,
        "wires": []
    },
    {
        "id": "caa89f46453e556a",
        "type": "ui-gauge",
        "z": "88c051fc5508545d",
        "name": "1FN01-freq",
        "group": "b135539d7634acf8",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "1",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Frequency- HZ",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "20",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "20",
        "max": "60",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1670,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "0082534d0c4a40f2",
        "type": "function",
        "z": "88c051fc5508545d",
        "name": "split Clm1 drive",
        "func": "// Expect input: msg.payload = [frequency, power, current, voltage, motorLedRaw, extra1]\nif (!Array.isArray(msg.payload) || msg.payload.length < 6) {\n  node.error(\"Expected an array of 6 values: [f, p, i, v, motorLedRaw, extra1]\", msg);\n  return null;\n}\n\n// Destructure in correct order\nconst [fRaw, pRaw, iRaw, vRaw, motorLedRaw, extra1] = msg.payload;\n\n// helper: round to 2 dp\nconst r2 = n => Math.round(n * 100) / 100;\n\n// Scale per your spec\nconst frequencyHz = r2(fRaw / 100);   // Hz\nconst powerW      = r2(pRaw / 100);   // W\nconst currentA    = r2(iRaw / 100);   // A\nconst voltageV    = r2(vRaw / 10);    // V\nconst motorOn     = (motorLedRaw !== 0); // boolean\n\n// Six outputs: 1 Freq, 2 Power, 3 Current, 4 Voltage, 5 Motor LED, 6 Extra1\nreturn [\n  { topic: \"L.VFD.freq.Hz\",   payload: frequencyHz }, // Output 1\n  { topic: \"VFD.power.W\",   payload: powerW },      // Output 2\n  { topic: \"VFD.current.A\", payload: currentA },    // Output 3\n  { topic: \"VFD.voltage.V\", payload: voltageV },    // Output 4\n  { topic: \"VFD.motorLED\",  payload: motorOn },     // Output 5\n  { topic: \"VFD.extra1\",    payload: extra1 }       // Output 6\n];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 980,
        "wires": [
            [
                "caa89f46453e556a",
                "edd4696cd9d0c9e2",
                "cb4733170ad9db65"
            ],
            [],
            [],
            [],
            [
                "c42e20a49541362a"
            ],
            []
        ]
    },
    {
        "id": "edd4696cd9d0c9e2",
        "type": "link out",
        "z": "88c051fc5508545d",
        "name": "1FN01 freq CSV log",
        "mode": "link",
        "links": [
            "fe5e89710ca54f23"
        ],
        "x": 1785,
        "y": 920,
        "wires": []
    },
    {
        "id": "608890e9fcc678c4",
        "type": "link in",
        "z": "88c051fc5508545d",
        "name": "1FN01 in",
        "links": [
            "8ec183102b863854"
        ],
        "x": 1265,
        "y": 980,
        "wires": [
            [
                "0082534d0c4a40f2"
            ]
        ]
    },
    {
        "id": "6f6d8496bcc19679",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-Co2Avg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "9b2eb5986b07a4a8",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A05-DP",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "addf929016d7057b",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A08-T",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "b41128652b049a5f",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A08-VEL",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "04dda5093a5162b7",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1VEL-CLMN",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "daa73899bf87034d",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1PIDPV",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "cb4733170ad9db65",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1FN01Freq",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "d3dc984158365188",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-Co2Avg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "5cc55e9e9978a2a5",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-Co2Raw",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "859b55a3c0791a18",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-inT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "dafb63a1ad73348b",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-inRH",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1420,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "378c861c8cf9f65b",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-AbsHum",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "9d20bbd5772442c5",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-AbsHum",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "e274f9e343468498",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-inRH",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "a3f3c3a0dbe2b3e4",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-Co2Raw",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "f123c879757ce80b",
        "type": "change",
        "z": "88c051fc5508545d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-inT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "c68653ce00c0e238",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A11-Co2Avg",
        "group": "b4e0dab4bd8c05b7",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 460,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "01109db3df10a9f5",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A11-Co2Raw",
        "group": "b4e0dab4bd8c05b7",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 460,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "e0bc533e10ea49d2",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A11-inT",
        "group": "b4e0dab4bd8c05b7",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 440,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "f99fa1869396528d",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A11-inRH",
        "group": "b4e0dab4bd8c05b7",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 450,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "ca184fe538834fea",
        "type": "function",
        "z": "45d9a03292c2917b",
        "name": "2A11- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"RD.Temp.C\" or \"RD.RH.%\"\nconst zone = \"RD\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\nconst T = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\nconst P = 1013.25; // hPa\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5));\nconst Pv = (RH / 100) * es;\nconst w = 0.622 * Pv / (P - Pv);\n\nconst rounded = Math.round(w * 10000) / 10000;\nnode.status({ fill: 'green', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 300,
        "wires": [
            [
                "d47283371e7ae195"
            ]
        ]
    },
    {
        "id": "d47283371e7ae195",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A11- Abs Hum",
        "group": "b4e0dab4bd8c05b7",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 660,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "a1dea15038578bb2",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A11-Co2Avg in",
        "links": [
            "50e1582087c67464"
        ],
        "x": 325,
        "y": 120,
        "wires": [
            [
                "c68653ce00c0e238"
            ]
        ]
    },
    {
        "id": "135ac93ab11ec7fb",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A11-Co2Row in",
        "links": [
            "46aa49216afa217d"
        ],
        "x": 325,
        "y": 160,
        "wires": [
            [
                "01109db3df10a9f5"
            ]
        ]
    },
    {
        "id": "4f4b82de38481a42",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A11-inT in",
        "links": [
            "8379cd5b5b2d35fc"
        ],
        "x": 325,
        "y": 200,
        "wires": [
            [
                "e0bc533e10ea49d2",
                "ca184fe538834fea"
            ]
        ]
    },
    {
        "id": "201e87b0063dc984",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A11-inRH in",
        "links": [
            "e4bc9458153c6f75"
        ],
        "x": 325,
        "y": 240,
        "wires": [
            [
                "f99fa1869396528d",
                "ca184fe538834fea"
            ]
        ]
    },
    {
        "id": "bc956fd92d377ca9",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A12-Co2Avg",
        "group": "ac6a5966878e6de8",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 480,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ec7c6ccbd8e856ac",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A12-Co2Raw",
        "group": "ac6a5966878e6de8",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 480,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "059d5e6e863cbc8b",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A12-outT",
        "group": "ac6a5966878e6de8",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 470,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "e2f0f4782bff7ac0",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A12-outRH",
        "group": "ac6a5966878e6de8",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 470,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "a1b81ea37cfb4c93",
        "type": "function",
        "z": "45d9a03292c2917b",
        "name": "2A12- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"RU.Temp.C\" or \"RU.RH.%\"\nconst zone = \"RU\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT  = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\nconst T  = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\nconst P  = 1013.25; // hPa\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5));\nconst Pv = (RH / 100) * es;\nconst w  = 0.622 * Pv / (P - Pv);\n\nconst rounded = Math.round(w * 10000) / 10000;\nnode.status({ fill: 'purple', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 560,
        "wires": [
            [
                "560ec65cce08f518"
            ]
        ]
    },
    {
        "id": "560ec65cce08f518",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A12- Abs Hum",
        "group": "ac6a5966878e6de8",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 660,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "bff83bd93fc8e5ac",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A12-Co2Avg in",
        "links": [
            "a774e624c082b5cc"
        ],
        "x": 315,
        "y": 400,
        "wires": [
            [
                "bc956fd92d377ca9"
            ]
        ]
    },
    {
        "id": "f96e366bd45eb28c",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A12-Co2Row in",
        "links": [
            "c27f3840ba416942"
        ],
        "x": 315,
        "y": 440,
        "wires": [
            [
                "ec7c6ccbd8e856ac"
            ]
        ]
    },
    {
        "id": "12caab40daa25910",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A12-inT in",
        "links": [
            "68c8714fc546ce13"
        ],
        "x": 315,
        "y": 480,
        "wires": [
            [
                "059d5e6e863cbc8b",
                "a1b81ea37cfb4c93"
            ]
        ]
    },
    {
        "id": "7e927c909c2f0837",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A12-inRH in",
        "links": [
            "dd3281dee60345d5"
        ],
        "x": 315,
        "y": 520,
        "wires": [
            [
                "e2f0f4782bff7ac0",
                "a1b81ea37cfb4c93"
            ]
        ]
    },
    {
        "id": "1750b316e6332d27",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A18-T",
        "group": "c4b796b294db2552",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "EE650-Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1200,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "6c46ed68d4da9f7b",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A15-DP",
        "group": "14ffaba87334b6a7",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Diff Pressure (2A15)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Pa",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "400",
                "color": "#5250e2",
                "text": "",
                "textType": "label"
            },
            {
                "from": "1000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1170,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "35c3663537340510",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A15-DP in",
        "links": [
            "7044f57576ae6ebd"
        ],
        "x": 1075,
        "y": 120,
        "wires": [
            [
                "6c46ed68d4da9f7b"
            ]
        ]
    },
    {
        "id": "2913cad12e11c850",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A18-T in",
        "links": [
            "fe042d96545f1b4f"
        ],
        "x": 1075,
        "y": 220,
        "wires": [
            [
                "1750b316e6332d27"
            ]
        ]
    },
    {
        "id": "e6a119fda6bbccb9",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2A18-VEL",
        "group": "c4b796b294db2552",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Air flow (m3/hr)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1430,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "7d21a5b28e1dea7c",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2VEL-CLMN",
        "group": "c4b796b294db2552",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Column Velocity (m/s)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1430,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "3bb801997b2556e6",
        "type": "change",
        "z": "45d9a03292c2917b",
        "name": "calc-clmn vel",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 0.21673, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 340,
        "wires": [
            [
                "7d21a5b28e1dea7c"
            ]
        ]
    },
    {
        "id": "4af7938b4c27a3b0",
        "type": "change",
        "z": "45d9a03292c2917b",
        "name": "calc-flow",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 25, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 300,
        "wires": [
            [
                "e6a119fda6bbccb9"
            ]
        ]
    },
    {
        "id": "d28d0870c4b8a7fb",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2A18-VEL 2VEL-CLMN in",
        "links": [
            "0b484aa415916248"
        ],
        "x": 1065,
        "y": 300,
        "wires": [
            [
                "4af7938b4c27a3b0",
                "3bb801997b2556e6"
            ]
        ]
    },
    {
        "id": "180f40b9c7daf678",
        "type": "ui-led",
        "z": "45d9a03292c2917b",
        "name": "Clm2- Heater Status",
        "group": "1150877cb6638246",
        "order": 2,
        "width": "2",
        "height": "1",
        "label": "Heater ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 760,
        "y": 840,
        "wires": []
    },
    {
        "id": "348841422cbc09b0",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2PID SV",
        "group": "1150877cb6638246",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Set Point Value - SV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 700,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "d069450891668a50",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2PID PV",
        "group": "1150877cb6638246",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Measure Value - PV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 700,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "18bbf33ca1252598",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2PID PecrentP",
        "group": "1150877cb6638246",
        "order": 6,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Power Output - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 720,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "7279144119bf7166",
        "type": "function",
        "z": "45d9a03292c2917b",
        "name": "PID Split - Clm2",
        "func": "// Outputs (5):\n// 1: PV (number)\n// 2: SP (number)\n// 3: Power % (number)\n// 4: Mode text (\"Auto\"/\"Manual\"/\"Standby\"/\"Unknown\")\n// 5: LED boolean (Auto=true; Manual/Standby/Unknown=false)\n\nconst r = msg.payload;\nif (!Array.isArray(r) || r.length < 15) {\n  node.error(\"PID block requires 15 registers (addr 1..15)\", msg);\n  return [null, null, null, null, null];\n}\n\n// dP and scaler\nconst dP = Number(r[1] || 0);\nconst scale = v => Math.round((v / Math.pow(10, dP)) * 100) / 100;\n\n// Decode basics\nconst pv = scale(r[0]);                          // addr 1\nconst sp = scale(r[2]);                          // addr 3 (operative SP)\nconst powerPct = Math.round((r[3] / 100) * 100) / 100; // addr 4 (2 implied dp)\nconst modeCode = Number(r[14] || 0);                   // addr 15 (0=Auto,1=Manual,2=Standby)\n\n// Text + LED boolean (Auto = true)\nconst modeText = (modeCode === 0) ? \"Auto\" : (modeCode === 1) ? \"Manual\" :\n  (modeCode === 2) ? \"Standby\" : \"Unknown\";\nconst ledOn = (modeCode === 0); // ONLY Auto turns the LED on\n\n// Status\n//node.status({\n//  fill: ledOn ? \"green\" : (modeCode === 2 ? \"grey\" : \"yellow\"),\n//  shape: \"dot\",\n//  text: `PV ${pv}  SP ${sp}  ${powerPct}%  ${modeText}`\n//});\n\n// Fan out\nreturn [\n  { topic: \"PID.PV\", payload: pv },\n  { topic: \"PID.SP\", payload: sp },\n  { topic: \"PID.Power.%\", payload: powerPct },\n  { topic: \"PID.Mode.Text\", payload: modeText },\n  { topic: \"PID.Mode.Boolean\", payload: ledOn }  // <-- wire this to ui_led\n];\n",
        "outputs": 5,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 680,
        "wires": [
            [
                "d069450891668a50"
            ],
            [
                "348841422cbc09b0"
            ],
            [
                "18bbf33ca1252598"
            ],
            [],
            [
                "7e29998ba9c80fde",
                "bbeaf77fa67e3bce"
            ]
        ]
    },
    {
        "id": "7e29998ba9c80fde",
        "type": "change",
        "z": "45d9a03292c2917b",
        "name": "log 2H11 status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "R.2H11",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 560,
        "y": 760,
        "wires": [
            [
                "180f40b9c7daf678",
                "bbeaf77fa67e3bce"
            ]
        ]
    },
    {
        "id": "a81f4d7a21788a15",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "PID CLMN 2 in",
        "links": [
            "706843a801a9b64d"
        ],
        "x": 305,
        "y": 680,
        "wires": [
            [
                "7279144119bf7166"
            ]
        ]
    },
    {
        "id": "bbeaf77fa67e3bce",
        "type": "link out",
        "z": "45d9a03292c2917b",
        "name": "2H11 status CSV Log",
        "mode": "link",
        "links": [
            "fe5e89710ca54f23"
        ],
        "x": 705,
        "y": 760,
        "wires": []
    },
    {
        "id": "96225136e1b75674",
        "type": "ui-led",
        "z": "45d9a03292c2917b",
        "name": "2FN11-LED",
        "group": "13816c2f51c27294",
        "order": 3,
        "width": "1",
        "height": "1",
        "label": "Motor ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1390,
        "y": 660,
        "wires": []
    },
    {
        "id": "7bc5166c304dec0b",
        "type": "function",
        "z": "45d9a03292c2917b",
        "name": "split Clm2 drive",
        "func": "// Expect input: msg.payload = [frequency, power, current, voltage, motorLedRaw, extra1]\nif (!Array.isArray(msg.payload) || msg.payload.length < 6) {\n  node.error(\"Expected an array of 6 values: [f, p, i, v, motorLedRaw, extra1]\", msg);\n  return null;\n}\n\n// Destructure in correct order\nconst [fRaw, pRaw, iRaw, vRaw, motorLedRaw, extra1] = msg.payload;\n\n// helper: round to 2 dp\nconst r2 = n => Math.round(n * 100) / 100;\n\n// Scale per your spec\nconst frequencyHz = r2(fRaw / 100);   // Hz\nconst powerW      = r2(pRaw / 100);   // W\nconst currentA    = r2(iRaw / 100);   // A\nconst voltageV    = r2(vRaw / 10);    // V\nconst motorOn     = (motorLedRaw !== 0); // boolean\n\n// Six outputs: 1 Freq, 2 Power, 3 Current, 4 Voltage, 5 Motor LED, 6 Extra1\nreturn [\n  { topic: \"R.VFD.freq.Hz\",   payload: frequencyHz }, // Output 1\n  { topic: \"VFD.power.W\",   payload: powerW },      // Output 2\n  { topic: \"VFD.current.A\", payload: currentA },    // Output 3\n  { topic: \"VFD.voltage.V\", payload: voltageV },    // Output 4\n  { topic: \"VFD.motorLED\",  payload: motorOn },     // Output 5\n  { topic: \"VFD.extra1\",    payload: extra1 }       // Output 6\n];\n\n\n/*\n// --- Expect input: msg.payload = [f, p, i, v, extra1, motorLed]\nif (!Array.isArray(msg.payload) || msg.payload.length < 6) {\n    node.error(\"Expected an array of at least 6 values (TagX/TagX2)\", msg);\n    return null;\n}\n\n// Destructure 6 values\nconst [frequency, power, current, voltage, motorLedRaw, extra1] = msg.payload;\n\n// Scale & send each value to its own output\nreturn [\n    { payload: frequency / 100 }, // Output 1 - Frequency\n    { payload: power / 100 },     // Output 2 - Power\n    { payload: current / 100 },   // Output 3 - Current\n    { payload: voltage / 10 },    // Output 4 - Voltage\n    { payload: motorLedRaw !== 0 },          // Output 5 - Extra value (raw or scale if needed)\n    { payload: extra1 } // Output 6 - MotorLed (boolean)\n];\n*/",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 640,
        "wires": [
            [
                "06c0f5b7b7368781",
                "58d99d2ce70f7e02"
            ],
            [],
            [],
            [],
            [
                "96225136e1b75674"
            ],
            []
        ]
    },
    {
        "id": "06c0f5b7b7368781",
        "type": "ui-gauge",
        "z": "45d9a03292c2917b",
        "name": "2FN11-freq",
        "group": "13816c2f51c27294",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "1",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Frequency - HZ",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "20",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "20",
        "max": "60",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1390,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "58d99d2ce70f7e02",
        "type": "link out",
        "z": "45d9a03292c2917b",
        "name": "2FN11 freq CSV log",
        "mode": "link",
        "links": [
            "fe5e89710ca54f23"
        ],
        "x": 1535,
        "y": 580,
        "wires": []
    },
    {
        "id": "fd60fd340ba8b008",
        "type": "link in",
        "z": "45d9a03292c2917b",
        "name": "2FN11 in",
        "links": [
            "49522d376bef2a7b"
        ],
        "x": 1035,
        "y": 640,
        "wires": [
            [
                "7bc5166c304dec0b"
            ]
        ]
    },
    {
        "id": "73d9dc97c9575f7d",
        "type": "ui-gauge",
        "z": "8662fc1a8536eebf",
        "name": "1EM-3A20",
        "group": "be8e2d192e710aa5",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Energy Meter w/ Fans",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Watt",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "3000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 590,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "d8e7d567a38a41f9",
        "type": "link in",
        "z": "8662fc1a8536eebf",
        "name": "1EM-3A20 in",
        "links": [
            "d53100424bdf54a8"
        ],
        "x": 485,
        "y": 220,
        "wires": [
            [
                "73d9dc97c9575f7d"
            ]
        ]
    },
    {
        "id": "1bbfe9627310452f",
        "type": "ui-gauge",
        "z": "8662fc1a8536eebf",
        "name": "2EM-3A21",
        "group": "14ffaba87334b6a7",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Energy Meter w/ Heaters",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Watt",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "3000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 590,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "625f771e092a4350",
        "type": "link in",
        "z": "8662fc1a8536eebf",
        "name": "2EM-3A21 in",
        "links": [
            "0548239aa9abe046"
        ],
        "x": 485,
        "y": 300,
        "wires": [
            [
                "1bbfe9627310452f"
            ]
        ]
    },
    {
        "id": "9cef2211cdf49660",
        "type": "change",
        "z": "8662fc1a8536eebf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "3A10GHCo2",
                "pt": "global",
                "to": "1200",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "698b6863c545bd02",
        "type": "inject",
        "z": "f905477ca465f455",
        "name": "Toggle CSV logging",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "x": 630,
        "y": 260,
        "wires": [
            [
                "8741138477bf7ab1"
            ]
        ]
    },
    {
        "id": "8741138477bf7ab1",
        "type": "function",
        "z": "f905477ca465f455",
        "name": "Toggle CSV logging (ON/OFF)",
        "func": "'use strict';\n// Toggles flow.csv_enabled each click\nlet enabled = flow.get('csv_enabled') === true;\nenabled = !enabled;\nflow.set('csv_enabled', enabled);\n\n// ALSO reset today's header-once flag so a new file gets headers immediately\nconst today = new Date().toISOString().slice(0, 10);\nconst headerKey = `csv_header_written_${today}`;\nflow.set(headerKey, false);\n\nif (enabled) {\n  node.status({ fill: 'green', shape: 'dot', text: 'CSV logging ENABLED' });\n  node.warn('CSV logging ENABLED');\n} else {\n  node.status({ fill: 'red', shape: 'ring', text: 'CSV logging DISABLED' });\n  node.warn('CSV logging DISABLED');\n}\nreturn null;\n",
        "outputs": 0,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 260,
        "wires": []
    },
    {
        "id": "d17784134493a817",
        "type": "ui-switch",
        "z": "f905477ca465f455",
        "name": "",
        "label": "Logging ON/OFF",
        "group": "e86ce08b06c0beb4",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "decouple": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "layout": "row-spread",
        "clickableArea": "switch",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 610,
        "y": 200,
        "wires": [
            [
                "8741138477bf7ab1"
            ]
        ]
    },
    {
        "id": "717fe33a80c76301",
        "type": "function",
        "z": "f905477ca465f455",
        "name": "CSV logging gate (flow.csv_enabled)",
        "func": "// Function: Logging Gate (timestamp + 36 columns from pivoted example)\nconst COLS = [\n  \"LD.Relay.W1\",\n  \"LD.Relay.W2\",\n  \"L.VFD.freq.Hz\",\n  \"R.VFD.freq.Hz\",\n  \"LEM.W\",\n  \"REM.W\",\n  \"LU.Temp.C\",\n  \"LU.RH.%\",  \n  \"LU.CO2.avg\",\n  \"LU.CO2.raw\",\n  \"LU.P.hPa\",\n  \"RU.Temp.C\",\n  \"RU.RH.%\",\n  \"RU.CO2.avg\",\n  \"RU.CO2.raw\",\n  \"RU.P.hPa\",\n  \"LD.Temp.C\",\n  \"LD.RH.%\",\n  \"LD.CO2.raw\",\n  \"LD.CO2.avg\",\n  \"LD.P.hPa\",\n  \"RD.Temp.C\",\n  \"RD.RH.%\",\n  \"RD.CO2.raw\",\n  \"RD.CO2.avg\",\n  \"RD.P.hPa\",\n  \"2A15\",\n  \"1A05\",\n  \"REE650AV.mps\",\n  \"REE650T.C\",\n  \"LEE650AV.mps\",\n  \"LEE650T.C\",\n  \"LD.Relay.D1\",\n  \"LD.Relay.A1\",\n  \"LD.Relay.A2\",\n  \"LD.Relay.D2\",\n  \"L.1H01\",\n  \"R.2H11\"\n  ];\n\nconst snap   = global.get('snap')   || {};\nconst snapTs = global.get('snap_ts') || {};\nconst now = Date.now();\nconst STALE_MS = 4800; // mark blank if older than 4.8 s\n\n// --- build timestamp in local timezone ---\nconst d = new Date();\nconst row = {\n  timestamp: d.toLocaleString(\"en-GB\", {\n    timeZone: \"Asia/Riyadh\", // set to your local zone\n    hour12: false\n  })\n};\n\n// --- fill columns, blank stale ones ---\nfor (const k of COLS) {\n  const age = now - (snapTs[k] || 0);\n  if (age > STALE_MS) {\n    row[k] = \"\"; // blank if not fresh\n  } else {\n    const v = snap[k];\n    row[k] = (v === undefined || Number.isNaN(v)) ? \"\" : v;\n  }\n}\n\n// output row object for CSV conversion or direct write\nmsg.payload = row;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 340,
        "wires": [
            [
                "0d89b9ae6ee39cd3"
            ]
        ]
    },
    {
        "id": "5204bad407e19da0",
        "type": "file",
        "z": "f905477ca465f455",
        "name": "Append /var/lib/revpi-nodered/csvlogs/filename",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 1660,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "3499af423124f7e2",
        "type": "function",
        "z": "f905477ca465f455",
        "name": "set daily csv filename",
        "func": "'use strict';\n\n// where to store logs\nconst baseDir = \"/var/lib/revpi-nodered/csvlogs\";\nconst tz = \"Asia/Riyadh\";\n\n// get \"local\" date in the desired timezone\nconst now = new Date();\n// Build date parts without using locale formatters (which may add /)\nconst y = new Intl.DateTimeFormat('en', { timeZone: tz, year: 'numeric' }).format(now);\nconst m = new Intl.DateTimeFormat('en', { timeZone: tz, month: '2-digit' }).format(now);\nconst d = new Intl.DateTimeFormat('en', { timeZone: tz, day: '2-digit' }).format(now);\n\n// Assemble a filename that CANNOT contain slashes\nconst dateStr = `${y}_${m}_${d}`;                // e.g., 2025_10_26\nmsg.filename = `${baseDir}/sensors_${dateStr}.csv`;\n\nconst today = new Date().toISOString().slice(0, 10);\nglobal.set(\"csv_header_written_YYYY-MM-DD\", false, \"file\");\n\nconst prev = global.get('current_csv_date');\nif (prev !== dateStr) {\n  global.set('csv_header_written', false);\n  global.set('current_csv_date', dateStr);\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 340,
        "wires": [
            [
                "5204bad407e19da0"
            ]
        ]
    },
    {
        "id": "47963b19f9b83d8a",
        "type": "function",
        "z": "f905477ca465f455",
        "name": "snapshot updater",
        "func": "// Snapshot Updater (cache + timestamps)\nlet snap = global.get('snap') || {};\nlet snapTs = global.get('snap_ts') || {};\n\n\nif (typeof msg.topic === 'string') {\n  snap[msg.topic] = msg.payload;\n  snapTs[msg.topic] = Date.now();\n  global.set('snap', snap);\n  global.set('snap_ts', snapTs);\n}\n\nreturn null; // don’t send anything downstream",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 340,
        "wires": [
            [
                "717fe33a80c76301"
            ]
        ]
    },
    {
        "id": "3298b0b796e955f6",
        "type": "inject",
        "z": "f905477ca465f455",
        "name": "Tick every  5 second",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 540,
        "y": 400,
        "wires": [
            [
                "717fe33a80c76301"
            ]
        ]
    },
    {
        "id": "0d89b9ae6ee39cd3",
        "type": "function",
        "z": "f905477ca465f455",
        "name": "Object -> CSV line (wiht header-once)",
        "func": "// Function: Object → CSV line (with header-once)\n// Input:  msg.payload = { timestamp: \"...\", <36 fixed columns> }\n// Output: msg.payload = \"header?\\n\" + \"csv line\\n\" (string)\n\nconst COLS = [\n  \"LD.Relay.W1\",\"LD.Relay.W2\",\"L.VFD.freq.Hz\",\"R.VFD.freq.Hz\",\n  \"LEM.W\",\"REM.W\",\n  \"LU.Temp.C\",\"LU.RH.%\",\"LU.CO2.avg\",\"LU.CO2.raw\",\"LU.P.hPa\",\n  \"RU.Temp.C\",\"RU.RH.%\",\"RU.CO2.avg\",\"RU.CO2.raw\",\"RU.P.hPa\",\n  \"LD.Temp.C\",\"LD.RH.%\",\"LD.CO2.raw\",\"LD.CO2.avg\",\"LD.P.hPa\",\n  \"RD.Temp.C\",\"RD.RH.%\",\"RD.CO2.raw\",\"RD.CO2.avg\",\"RD.P.hPa\",\n  \"2A15\",\"1A05\",\"REE650AV.mps\",\"REE650T.C\",\"LEE650AV.mps\",\"LEE650T.C\",\n  \"LD.Relay.D1\",\"LD.Relay.A1\",\"LD.Relay.A2\",\"LD.Relay.D2\",\"L.1H01\",\"R.2H11\"\n];\n\n// Optional: obey a UI toggle\nconst enabled = flow.get(\"csv_enabled\", \"file\");\nif (enabled === false) return null;\n\n// ---------- helpers ----------\nfunction csvEscape(val) {\n  if (val === null || val === undefined) return \"\";\n  let s = String(val);\n  if (s.includes('\"')) s = s.replace(/\"/g, '\"\"');\n  const needsQuote = s.includes(\",\") || s.includes(\"\\n\") || s.includes(\"\\r\") || /^\\s|\\s$/.test(s);\n  return needsQuote ? `\"${s}\"` : s;\n}\n\n// Determine a stable key for header tracking:\n// Prefer the active file path if your flow sets it; otherwise fallback to today's date.\nconst today = new Date().toISOString().slice(0, 10);\nconst filePath =\n  flow.get(\"current_csv_path\", \"file\") ||\n  msg.filepath ||\n  msg.filename ||\n  today;\n\nconst headerKey = `csv_header_written::${filePath}`;\nconst headerNeeded = flow.get(headerKey, \"file\") !== true;\n\n// Build header string (only once)\nconst header = [\"timestamp\", ...COLS].map(csvEscape).join(\",\") + \"\\n\";\n\n// Build data line in fixed order\nconst p = msg.payload || {};\nconst ts = p.timestamp || new Date().toISOString();\nconst fields = [ts, ...COLS.map(k => {\n  const v = p[k];\n  if (v === undefined || v === null || Number.isNaN(v)) return \"\";\n  return v; // let csvEscape handle quoting\n})];\n\nconst line = fields.map(csvEscape).join(\",\") + \"\\n\";\n\n// Output\nif (headerNeeded) {\n  flow.set(headerKey, true, \"file\");\n  msg.payload = header + line;\n} else {\n  msg.payload = line;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "3499af423124f7e2"
            ]
        ]
    },
    {
        "id": "fe5e89710ca54f23",
        "type": "link in",
        "z": "f905477ca465f455",
        "name": "CSV logger in",
        "links": [
            "cd1525cd1c5b5e81",
            "e6963fe998ccafb1",
            "e9fc05a5c04cb760",
            "bbeaf77fa67e3bce",
            "edd4696cd9d0c9e2",
            "58d99d2ce70f7e02"
        ],
        "x": 205,
        "y": 340,
        "wires": [
            [
                "47963b19f9b83d8a"
            ]
        ]
    },
    {
        "id": "d291360bd1e3f2c2",
        "type": "inject",
        "z": "f905477ca465f455",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 550,
        "y": 80,
        "wires": [
            [
                "36441bbdf8cfa40f"
            ]
        ]
    },
    {
        "id": "36441bbdf8cfa40f",
        "type": "change",
        "z": "f905477ca465f455",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "csv_enabled",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "e6812da3b2b1f2e3",
        "type": "ui-switch",
        "z": "72c01d5347f89ed1",
        "name": "Enable Auto mode",
        "label": "Enable Auto mode",
        "group": "84de1416f50421b6",
        "order": 1,
        "width": "6",
        "height": 5,
        "passthru": false,
        "decouple": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "layout": "row-spread",
        "clickableArea": "switch",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 290,
        "y": 1300,
        "wires": [
            [
                "05459aaa2c710828",
                "df9aa6a645c1d016"
            ]
        ]
    },
    {
        "id": "75c0e227077e6032",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-regen-T",
        "label": "Regen Temprature Setpoint",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "1-regen-T",
        "topicType": "str",
        "min": 0,
        "max": "60",
        "step": 1,
        "tooltip": "Regen temprature setpoint for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 440,
        "y": 340,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "fb72e60434e6c6dc",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-regen-FanSpeed",
        "label": "Regen Fan Speed",
        "order": 4,
        "width": 0,
        "height": 0,
        "topic": "1-regen-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": 1,
        "tooltip": "Regen Fan speed during Regen for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 470,
        "y": 380,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "0dbe188139a44d7e",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-regen-HumidtyDiffThreshold",
        "label": "Regen Humidtity threshold %",
        "order": 3,
        "width": 0,
        "height": 0,
        "topic": "1-regen-HumidtyDiffThreshold",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": "1",
        "tooltip": "the is the threshold used to end regen process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 420,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "c3bb0ee3b4d31f56",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-regen-T",
        "label": "Regen Temprature Setpoint",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "2-regen-T",
        "topicType": "str",
        "min": 0,
        "max": "60",
        "step": 1,
        "tooltip": "Regen temprature setpoint for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 440,
        "y": 820,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "a7f6830b6aa8ec36",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-regen-FanSpeed",
        "label": "Regen Fan Speed",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "2-regen-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": 1,
        "tooltip": "Regen Fan speed during Regen for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 470,
        "y": 860,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "cff99d30de7597a2",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-regen-HumidtyDiffThreshold",
        "label": "Regen Humidtity threshold",
        "order": 3,
        "width": 0,
        "height": 0,
        "topic": "2-regen-HumidtyDiffThreshold",
        "topicType": "str",
        "min": 0,
        "max": "1",
        "step": "0.05",
        "tooltip": "the is the threshold used to end regen process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 900,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "77ed97936691c9f1",
        "type": "ui-dropdown",
        "z": "72c01d5347f89ed1",
        "group": "1ac60510e96b49f0",
        "name": "columnsOrder",
        "label": "Select Option:",
        "tooltip": "",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "chips": false,
        "clearable": false,
        "options": [
            {
                "label": "Alternating",
                "value": "Alternating",
                "type": "str"
            },
            {
                "label": "Simultaneously",
                "value": "Simultaneously",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "columnsOrder",
        "topicType": "str",
        "className": "",
        "typeIsComboBox": true,
        "msgTrigger": "onChange",
        "x": 460,
        "y": 180,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "26eb9d5917b7a3a0",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Adsorption-FanSpeed",
        "label": "Adsorption Fan Speed",
        "order": 7,
        "width": 0,
        "height": 0,
        "topic": "1-Adsorption-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": "1",
        "tooltip": "Fan speed during Adsorption for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 460,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "e4822f316abd1c37",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Adsorption-CO2Threshold",
        "label": "Adsorption CO2 % threshold",
        "order": 6,
        "width": 0,
        "height": 0,
        "topic": "1-Adsorption-CO2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "threshold used to end Adsorption process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 500,
        "y": 500,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "6d6309e26754934e",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-permission-GHCo2Threshold",
        "label": "GH CO2 threshold",
        "order": 5,
        "width": 0,
        "height": 0,
        "topic": "1-permission-GHCo2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "5000",
        "step": "20",
        "tooltip": "threshold from greenhouse to allow coulm to start Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 540,
        "wires": [
            [
                "2c1a10a7c8cb8d42",
                "e5414c845af910b5"
            ]
        ]
    },
    {
        "id": "7fa6c4462b309460",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Desorption-FanSpeed",
        "label": "Desorption Fan Speed",
        "order": 8,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": 1,
        "tooltip": "Fan speed during Desorption for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 580,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "1e818acdb8d191d5",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Desorption-waterSprayBrusts",
        "label": "Desorption Water sprays",
        "order": 9,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-waterSprayBrusts",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "number of water sprays in Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 620,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "d9af0a2de45faf7d",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Desorption-WSBrustsLength",
        "label": "Water spray brust length",
        "order": 10,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-WSBrustsLength",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "the time for 1 water spray brust during Desorption in column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 660,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "85587a8fd4b09982",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Desorption-WSIntervals",
        "label": "interval between brusts",
        "order": 11,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-WSIntervals",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 700,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "0277c2492de8530b",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-Desorption-Co2StopThreshold",
        "label": "Desorption stop CO2 threshold",
        "order": 12,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-Co2StopThreshold",
        "topicType": "str",
        "min": 0,
        "max": "5000",
        "step": "5",
        "tooltip": "threshold to stop Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 740,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "77b8b210d7c89d3a",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Adsorption-FanSpeed",
        "label": "Adsorption Fan Speed",
        "order": 5,
        "width": 0,
        "height": 0,
        "topic": "2-Adsorption-FanSpeed",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "Fan speed during Adsorption for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 940,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "2119bfbfdb73cbb7",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Adsorption-CO2Threshold",
        "label": "Adsorption CO2 threshold",
        "order": 6,
        "width": 0,
        "height": 0,
        "topic": "2-Adsorption-CO2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "threshold used to end Adsorption process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 500,
        "y": 980,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "9a5c835edece7dbc",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-permission-GHCo2Threshold",
        "label": "GH CO2 threshold",
        "order": 7,
        "width": 0,
        "height": 0,
        "topic": "2-permission-GHCo2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "threshold from greenhouse to allow coulm to start Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 1020,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "c48124308c8e5888",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Desorption-FanSpeed",
        "label": "Desorption Fan Speed",
        "order": 8,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-FanSpeed",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "Fan speed during Desorption for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 1060,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "05730c2c50b63109",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Desorption-waterSprayBrusts",
        "label": "Desorption Water sprays",
        "order": 9,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-waterSprayBrusts",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "number of water sprays in Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 1100,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "1041cda258b26d0a",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Desorption-WSBrustsLength",
        "label": "Water spray brust length",
        "order": 10,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-WSBrustsLength",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "the time for 1 water spray brust during Desorption in column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 1140,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "fccd73d05b2a0837",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Desorption-WSIntervals",
        "label": "interval between brusts",
        "order": 11,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-WSIntervals",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 1180,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "6dabef3bcdd7a53a",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-Desorption-Co2StopThreshold",
        "label": "Desorption stop CO2 threshold",
        "order": 12,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-Co2StopThreshold",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "threshold to stop Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 510,
        "y": 1220,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "d9fbd5c3ae960174",
        "type": "ui-text-input",
        "z": "72c01d5347f89ed1",
        "group": "185425e149e377ad",
        "name": "1-StartTime",
        "label": "Start time inHH:SS format",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "1-StartTime",
        "topicType": "str",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 450,
        "y": 220,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "3d83e81d06e9bab2",
        "type": "ui-text-input",
        "z": "72c01d5347f89ed1",
        "group": "1ac60510e96b49f0",
        "name": "ShutdownTime",
        "label": "Shutdown time inHH:SS format",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "ShutdownTime",
        "topicType": "str",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 460,
        "y": 260,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "17cdcceb823c0c03",
        "type": "ui-number-input",
        "z": "72c01d5347f89ed1",
        "group": "1ac60510e96b49f0",
        "name": "shutdownRegenInterval",
        "label": "Shutdown Regen interval",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "shutdownRegenInterval",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 300,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "4ebd74bff25efa1a",
        "type": "ui-button",
        "z": "72c01d5347f89ed1",
        "group": "2620a6169ad6ddf4",
        "name": "SaveParameters",
        "label": "Save",
        "order": 1,
        "width": 0,
        "height": 2,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 290,
        "y": 1380,
        "wires": [
            [
                "b47a0d15b7e1ab20"
            ]
        ]
    },
    {
        "id": "09efc45f3985e367",
        "type": "ui-file-input",
        "z": "72c01d5347f89ed1",
        "d": true,
        "group": "2620a6169ad6ddf4",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "label": "File Input",
        "icon": "paperclip",
        "allowMultiple": false,
        "accept": "",
        "className": "",
        "x": 1760,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "b47a0d15b7e1ab20",
        "type": "function",
        "z": "72c01d5347f89ed1",
        "name": "format before saving into file",
        "func": "let params = global.get(\"autoParams\") || {};\n\n// pretty JSON string\nmsg.payload = params;\n\n// choose a path that Node-RED user can write to\nmsg.filename = \"/home/redwave/parameters.json\";\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 1380,
        "wires": [
            [
                "732a2ca45452b17d"
            ]
        ]
    },
    {
        "id": "732a2ca45452b17d",
        "type": "debug",
        "z": "72c01d5347f89ed1",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 1380,
        "wires": []
    },
    {
        "id": "2c1a10a7c8cb8d42",
        "type": "function",
        "z": "72c01d5347f89ed1",
        "name": "save AutoParams in global",
        "func": "// Expects: msg.topic = parameter name, msg.payload = value\n\nif (typeof msg.topic !== \"string\" || msg.topic === \"\") {\n    return msg;   // nothing to store\n}\n\n// Get existing param object from global\nlet params = global.get(\"autoParams\") || {};\n\n// Update this parameter\nparams[msg.topic] = msg.payload;\n\n// Save back to global context\nglobal.set(\"autoParams\", params);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "f8720f76671116bc",
        "type": "ui-control",
        "z": "72c01d5347f89ed1",
        "name": "",
        "ui": "8d17c08d50d1770f",
        "events": "all",
        "x": 1740,
        "y": 1280,
        "wires": [
            []
        ]
    },
    {
        "id": "05459aaa2c710828",
        "type": "change",
        "z": "72c01d5347f89ed1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "AutoMode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 540,
        "y": 1300,
        "wires": [
            []
        ]
    },
    {
        "id": "b0c58a831d03c0da",
        "type": "switch",
        "z": "72c01d5347f89ed1",
        "name": "",
        "property": "AutoMode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 1260,
        "wires": [
            [
                "9a08a311c9810862"
            ],
            [
                "69ef7da267cba2fe"
            ]
        ]
    },
    {
        "id": "19f91b06952ddf64",
        "type": "inject",
        "z": "72c01d5347f89ed1",
        "d": true,
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1050,
        "y": 1260,
        "wires": [
            [
                "b0c58a831d03c0da"
            ]
        ]
    },
    {
        "id": "9a08a311c9810862",
        "type": "change",
        "z": "72c01d5347f89ed1",
        "name": "Disable UI",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"disable\":[\"Automation Paramters:Column 1 Parameters\",\"Automation Paramters:column 2 parameters\",\"Automation Paramters:Shared Parameters\",\"Automation Paramters:Save commands\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 1240,
        "wires": [
            [
                "f8720f76671116bc"
            ]
        ]
    },
    {
        "id": "69ef7da267cba2fe",
        "type": "change",
        "z": "72c01d5347f89ed1",
        "name": "Enable UI",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"enable\":[\"Automation Paramters:Column 1 Parameters\",\"Automation Paramters:column 2 parameters\",\"Automation Paramters:Shared Parameters\",\"Automation Paramters:Save commands\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 1300,
        "wires": [
            [
                "f8720f76671116bc"
            ]
        ]
    },
    {
        "id": "88b1d423cb3f06be",
        "type": "ui-text-input",
        "z": "72c01d5347f89ed1",
        "group": "ee478620e5f9ed26",
        "name": "2-StartTime",
        "label": "Start time inHH:SS format",
        "order": 4,
        "width": 0,
        "height": 0,
        "topic": "1-StartTime",
        "topicType": "str",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 450,
        "y": 780,
        "wires": [
            [
                "2c1a10a7c8cb8d42"
            ]
        ]
    },
    {
        "id": "df9aa6a645c1d016",
        "type": "link out",
        "z": "72c01d5347f89ed1",
        "name": "Enable AutoMode out",
        "mode": "link",
        "links": [
            "d448be61214552bd"
        ],
        "x": 585,
        "y": 1260,
        "wires": []
    },
    {
        "id": "e5414c845af910b5",
        "type": "debug",
        "z": "72c01d5347f89ed1",
        "name": "debug 8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1360,
        "y": 960,
        "wires": []
    },
    {
        "id": "a0ec62cea75939b8",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "Auto mode On",
        "property": "AutoMode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 340,
        "y": 140,
        "wires": [
            [
                "f48da7aac44497db"
            ],
            [
                "e849fa50760d9eed"
            ]
        ]
    },
    {
        "id": "8f8d0d4235e312ce",
        "type": "inject",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 140,
        "wires": [
            [
                "a0ec62cea75939b8"
            ]
        ]
    },
    {
        "id": "e849fa50760d9eed",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "Check start and shutdown time ",
        "func": "msg.payload=\"start\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 160,
        "wires": [
            [
                "dd9bd322d42212fa"
            ]
        ]
    },
    {
        "id": "b3ce66307bfd955d",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1960,
        "y": 140,
        "wires": [
            [
                "4710d6869f1be0b6"
            ]
        ]
    },
    {
        "id": "73e7a28a7e292758",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "adjust adsorption fan",
        "func": "let fanSpeed = global.get(\"autoParams\")[\"1-Adsorption-FanSpeed\"] || 0\n\nmsg.payload=fanSpeed\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 480,
        "wires": [
            [
                "615acf3f8dbc1041",
                "9846c8576f0de70a"
            ]
        ]
    },
    {
        "id": "7e9d22166a876b2c",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "Check permission status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Standby",
                "vt": "str"
            },
            {
                "t": "else"
            },
            {
                "t": "eq",
                "v": "Start Desorption",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 1850,
        "y": 480,
        "wires": [
            [
                "dbc94b0fde190ff0",
                "887fdbf8f3c98a57",
                "d3024ee3bf6181ac"
            ],
            [],
            [
                "d086896bb7363f20",
                "01ea11a567a7e07b",
                "52172a4377cd2e6d"
            ]
        ]
    },
    {
        "id": "887fdbf8f3c98a57",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1360,
        "y": 420,
        "wires": [
            [
                "2f0ef9fb1014cca7"
            ]
        ]
    },
    {
        "id": "4946ac2f9c20be40",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "water spraying",
        "func": "let waterBrusts = global.get(\"autoParams\")[\"1-Desorption-waterSprayBrusts\"] || 0;\nlet onTime = (1000*global.get(\"autoParams\")[\"1-Desorption-WSBrustsLength\"])|| 1000;\nlet offTime = (1000*global.get(\"autoParams\")[\"1-Desorption-WSIntervals\"]) || 1000;\n\nlet i = 0;\n\nnode.status({ fill: \"blue\", shape: \"ring\", text: \"current brust: \" + i });\n\n\nfunction iterate() {\n    if (i >= waterBrusts) {\n        // Loop finished → send \"continue\" message\n        node.send([null, null, { payload: \"done\" }]);\n        node.status({});\n        return;\n    }\n    \n    // Trigger button A\n    node.send([{ payload: true }, null, null]);\n\n    node.status({ fill: \"green\", shape: \"dot\", text: \"on\" + \" current brust: \" + i });\n    setTimeout(() => {\n        // Trigger button B\n        node.send([null, { payload: true }, null]);\n        node.status({ fill: \"red\", shape: \"dot\", text: \"off\" });\n        setTimeout(() => {\n            i++;\n            iterate();  // next iteration\n        }, offTime);\n\n    }, onTime);\n}\n\niterate();\nreturn;\n",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 860,
        "wires": [
            [
                "335225c7c8e20cce"
            ],
            [
                "86e9292faf8a489e"
            ],
            [
                "e4714acbb2357dfc",
                "ba061e94e7d0d429"
            ]
        ]
    },
    {
        "id": "ba061e94e7d0d429",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1280,
        "y": 880,
        "wires": [
            [
                "b69df4519cb27ede"
            ]
        ]
    },
    {
        "id": "dd9bd322d42212fa",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "which time",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "start",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "shutdown",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 850,
        "y": 160,
        "wires": [
            [
                "cde193dbafe01cb4"
            ],
            [
                "0e0ed3fabff645c3"
            ],
            []
        ]
    },
    {
        "id": "0e0ed3fabff645c3",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "Shutdown seq",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 220,
        "wires": []
    },
    {
        "id": "82736fc6612a34c8",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CTRL_1H01_Setpoint out",
        "mode": "link",
        "links": [
            "32eeaf012ba6ceb7"
        ],
        "x": 1695,
        "y": 120,
        "wires": []
    },
    {
        "id": "57e7f3701d02e4f7",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "start regen",
        "func": "let params = global.get(\"autoParams\")\nlet heatersSetpoint = { payload: params[\"1-regen-T\"] }\nlet fanSpeed = { payload: params[\"1-regen-FanSpeed\"] }\n\n//heatersSetpoint.payload = global.get(\"1-regen-T\")\n//fanSpeed.payload = global.get(\"1-regen-FanSpeed\")\nreturn [heatersSetpoint,fanSpeed];",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1510,
        "y": 140,
        "wires": [
            [
                "82736fc6612a34c8",
                "f18c0a463f8375e5",
                "a43176a67c5c8b1d"
            ],
            [
                "4bddbbfdfcd8b1cc",
                "0c189386c7383c58"
            ]
        ]
    },
    {
        "id": "4bddbbfdfcd8b1cc",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CTRL_1FN01_Speed out",
        "mode": "link",
        "links": [
            "33bfee557bc54384"
        ],
        "x": 1695,
        "y": 160,
        "wires": []
    },
    {
        "id": "f18c0a463f8375e5",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1800,
        "y": 140,
        "wires": [
            [
                "a2d946e1897be380",
                "b3ce66307bfd955d"
            ]
        ]
    },
    {
        "id": "a2d946e1897be380",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "apply and turn on Heater and fan",
        "mode": "link",
        "links": [
            "5fec5fe9b68d0c0c",
            "16688b10de056691",
            "3cae667c97c2ac77",
            "a615c8b71e7642e7"
        ],
        "x": 1875,
        "y": 80,
        "wires": []
    },
    {
        "id": "5f3b9578b1ae44b4",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "turn off Heater and fan",
        "mode": "link",
        "links": [
            "d9d26b3697dda33b"
        ],
        "x": 2715,
        "y": 180,
        "wires": []
    },
    {
        "id": "ec0ff810fb2e1728",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "turn off Heater and fan",
        "mode": "link",
        "links": [
            "d9d26b3697dda33b"
        ],
        "x": 1455,
        "y": 200,
        "wires": []
    },
    {
        "id": "7289a53c02a6fd02",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2490,
        "y": 140,
        "wires": [
            [
                "b3ce66307bfd955d"
            ],
            [
                "e4c4c87de3887327",
                "41deb542e33bf9d5",
                "5f3b9578b1ae44b4",
                "73e7a28a7e292758"
            ]
        ]
    },
    {
        "id": "615acf3f8dbc1041",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "adjust fan speed",
        "mode": "link",
        "links": [
            "33bfee557bc54384"
        ],
        "x": 415,
        "y": 520,
        "wires": []
    },
    {
        "id": "9846c8576f0de70a",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 500,
        "y": 480,
        "wires": [
            [
                "c1ad52aec3842197",
                "5ebbdc2b4b22d948"
            ]
        ]
    },
    {
        "id": "c1ad52aec3842197",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "apply fan speed/ open SV20",
        "mode": "link",
        "links": [
            "860aab1ffcddf62a",
            "3cae667c97c2ac77",
            "a615c8b71e7642e7"
        ],
        "x": 595,
        "y": 560,
        "wires": []
    },
    {
        "id": "5ebbdc2b4b22d948",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 660,
        "y": 480,
        "wires": [
            [
                "684f4cebcd56025f"
            ]
        ]
    },
    {
        "id": "2f0ef9fb1014cca7",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "get permission status",
        "func": "let columnTurn=global.get(\"currentColumnTurn\")\nlet greenHouseA10Value = global.get(\"3A10GHCo2\")||60\nlet greenHouseThresholdValue=global.get(\"autoParams\")[\"1-permission-GHCo2Threshold\"]\n\nmsg.columnTurn=columnTurn\nmsg.GHCo2Value=greenHouseA10Value\nmsg.GHThershold=greenHouseThresholdValue\nif (columnTurn ==1 && greenHouseA10Value<greenHouseThresholdValue){\n    msg.payload=\"Start Desorption\"\n}else{\n    msg.payload=\"Standby\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1580,
        "y": 480,
        "wires": [
            [
                "7e9d22166a876b2c",
                "21ce2b9b479e8343"
            ]
        ]
    },
    {
        "id": "dbc94b0fde190ff0",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "stop fan, close SV02",
        "mode": "link",
        "links": [
            "eb6a76bae10efbf6",
            "25e05f5cba0cc072"
        ],
        "x": 2025,
        "y": 400,
        "wires": []
    },
    {
        "id": "27b81a7135a65f17",
        "type": "link in",
        "z": "7679ace97d2d2d0d",
        "name": "repeat cycle column1 in",
        "links": [
            "28912bddc6475d48"
        ],
        "x": 335,
        "y": 220,
        "wires": [
            [
                "e849fa50760d9eed"
            ]
        ]
    },
    {
        "id": "28912bddc6475d48",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "repeat cycle column1 out",
        "mode": "link",
        "links": [
            "27b81a7135a65f17"
        ],
        "x": 2175,
        "y": 880,
        "wires": []
    },
    {
        "id": "01ea11a567a7e07b",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "adjust desorption fan",
        "func": "let fanSpeed = global.get(\"autoParams\")[\"1-Desorption-FanSpeed\"]\n\nmsg.payload = fanSpeed \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 860,
        "wires": [
            [
                "78d0ec99726a7b25",
                "420d3b2f6c1c1ef8"
            ]
        ]
    },
    {
        "id": "78d0ec99726a7b25",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "adjust fan speed",
        "mode": "link",
        "links": [
            "33bfee557bc54384"
        ],
        "x": 505,
        "y": 940,
        "wires": []
    },
    {
        "id": "420d3b2f6c1c1ef8",
        "type": "delay",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 860,
        "wires": [
            [
                "e6f0613babbc3811",
                "4946ac2f9c20be40"
            ]
        ]
    },
    {
        "id": "e6f0613babbc3811",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "apply fan speed",
        "mode": "link",
        "links": [
            "3cae667c97c2ac77",
            "a615c8b71e7642e7"
        ],
        "x": 665,
        "y": 940,
        "wires": []
    },
    {
        "id": "335225c7c8e20cce",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "Open 1W01",
        "mode": "link",
        "links": [
            "c7ec5ea909759580"
        ],
        "x": 1025,
        "y": 800,
        "wires": []
    },
    {
        "id": "86e9292faf8a489e",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "Close 1W01",
        "mode": "link",
        "links": [
            "8e6f6eb4426b3b57"
        ],
        "x": 1035,
        "y": 860,
        "wires": []
    },
    {
        "id": "e4714acbb2357dfc",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "Close 1SV01",
        "mode": "link",
        "links": [
            "25e05f5cba0cc072"
        ],
        "x": 1035,
        "y": 900,
        "wires": []
    },
    {
        "id": "da593e81727a9a0d",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentColumnTurn",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2010,
        "y": 880,
        "wires": [
            [
                "28912bddc6475d48"
            ]
        ]
    },
    {
        "id": "d448be61214552bd",
        "type": "link in",
        "z": "7679ace97d2d2d0d",
        "name": "Enable AutoMode in",
        "links": [
            "df9aa6a645c1d016"
        ],
        "x": 145,
        "y": 240,
        "wires": [
            [
                "a0ec62cea75939b8"
            ]
        ]
    },
    {
        "id": "a3cb654b0bc0de87",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "2b8ceeba837cee7a"
        ],
        "x": 1545,
        "y": 80,
        "wires": []
    },
    {
        "id": "f821b7fd6c65124b",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "status regen",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Regenration",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 80,
        "wires": [
            [
                "a3cb654b0bc0de87"
            ]
        ]
    },
    {
        "id": "f84a212adfe16105",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "2b8ceeba837cee7a"
        ],
        "x": 2825,
        "y": 260,
        "wires": []
    },
    {
        "id": "41deb542e33bf9d5",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "status Adsorption",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Adsorption",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2690,
        "y": 260,
        "wires": [
            [
                "f84a212adfe16105"
            ]
        ]
    },
    {
        "id": "6c0922d25b5bd32b",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "2b8ceeba837cee7a"
        ],
        "x": 2195,
        "y": 560,
        "wires": []
    },
    {
        "id": "d086896bb7363f20",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "status Desorption",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Desorption",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2080,
        "y": 560,
        "wires": [
            [
                "6c0922d25b5bd32b"
            ]
        ]
    },
    {
        "id": "0841e9d3c4676767",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "2b8ceeba837cee7a"
        ],
        "x": 2295,
        "y": 420,
        "wires": []
    },
    {
        "id": "d3024ee3bf6181ac",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "status standby",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Standby",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2170,
        "y": 420,
        "wires": [
            [
                "0841e9d3c4676767"
            ]
        ]
    },
    {
        "id": "7a94a6e6e60e193e",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "2b8ceeba837cee7a"
        ],
        "x": 685,
        "y": 80,
        "wires": []
    },
    {
        "id": "f48da7aac44497db",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "status OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Automation Disabled",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 80,
        "wires": [
            [
                "7a94a6e6e60e193e"
            ]
        ]
    },
    {
        "id": "4710d6869f1be0b6",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "Humidity(A02) is <% diff Humidity (A01)",
        "func": "let a02ABSHum = global.get(\"1A02-AbsHum\")\nlet a01AbsHum = global.get(\"1A01-AbsHum\")\nlet percentageThreshold = (global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"])/100\nlet ceriteria = a01AbsHum*percentageThreshold\n\nmsg.a02AbsHum=a02ABSHum\nmsg.a01AbsHum=a01AbsHum\nmsg.percentage = percentageThreshold\nmsg.absHumCriteria=ceriteria\nif (a02ABSHum<ceriteria){\n    //go adsorption\n    msg.payload = true\n    return msg;\n    \n}else{\n    //go regen\n    msg.payload = false\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2220,
        "y": 140,
        "wires": [
            [
                "7289a53c02a6fd02",
                "0ccb5c2e8273c8fc",
                "8cdfc3d0b9560ff7"
            ]
        ]
    },
    {
        "id": "cde193dbafe01cb4",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "Humidity(A02) is <90% diff Humidity (A01)",
        "func": "let a02ABSHum = global.get(\"1A02-AbsHum\")\nlet a01AbsHum = global.get(\"1A01-AbsHum\")\nlet percentageThreshold = (global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"])/100\nlet ceriteria = a01AbsHum*percentageThreshold\n\nmsg.a02AbsHum=a02ABSHum\nmsg.a01AbsHum=a01AbsHum\nmsg.percentage = percentageThreshold\nmsg.absHumCriteria=ceriteria\nif (a02ABSHum<ceriteria){\n    //go adsorption\n    msg.payload = true\n    return msg;\n    \n}else{\n    //go regen\n    msg.payload = false\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 140,
        "wires": [
            [
                "772a925021feea1d",
                "6bf39504b24f70ec"
            ]
        ]
    },
    {
        "id": "772a925021feea1d",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1350,
        "y": 140,
        "wires": [
            [
                "57e7f3701d02e4f7",
                "f821b7fd6c65124b"
            ],
            [
                "73e7a28a7e292758",
                "ec0ff810fb2e1728",
                "70ba59ba98c8e0fd"
            ]
        ]
    },
    {
        "id": "684f4cebcd56025f",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "CO2(A02) is higher than threshold% of (A01)",
        "func": "let a02Co2Avg = global.get(\"1A02-Co2Avg\")\nlet a01Co2Avg = global.get(\"1A01-Co2Avg\")\nlet percentageThreshold = (global.get(\"autoParams\")[\"1-Adsorption-CO2Threshold\"])/100\nlet ceriteria = a01Co2Avg*percentageThreshold\n\nmsg.a02Co2 = a02Co2Avg\nmsg.a01Co2 = a01Co2Avg\nmsg.Co2percentage = percentageThreshold\nmsg.Co2criteria=ceriteria\nif (a02Co2Avg >=ceriteria){\n    msg.payload=true\n    return msg;\n}else{\n    msg.payload=false\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 480,
        "wires": [
            [
                "7834f127592792d8",
                "60ea47f6d57072e9",
                "9bcbf1291ee46bd5"
            ]
        ]
    },
    {
        "id": "7834f127592792d8",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1150,
        "y": 480,
        "wires": [
            [
                "00c0bd522d30d129",
                "887fdbf8f3c98a57"
            ],
            [
                "5ebbdc2b4b22d948"
            ]
        ]
    },
    {
        "id": "21ce2b9b479e8343",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 4",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1800,
        "y": 620,
        "wires": []
    },
    {
        "id": "b69df4519cb27ede",
        "type": "function",
        "z": "7679ace97d2d2d0d",
        "name": "CO2<threshold",
        "func": "let a02Co2Avg = global.get(\"1A02-Co2Avg\")\nlet desorptionCriteria = global.get(\"autoParams\")[\"1-Desorption-Co2StopThreshold\"]\n\n\nmsg.a02_des_Co2 = a02Co2Avg\nmsg.desorptionCriteria = desorptionCriteria\nif (a02Co2Avg < desorptionCriteria){\n    msg.payload=true\n    return msg;\n}else{\n    msg.payload=false\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 880,
        "wires": [
            [
                "c42253268c09c16f",
                "1e95cfea2f9ac540",
                "954e5f703afcb084"
            ]
        ]
    },
    {
        "id": "c42253268c09c16f",
        "type": "switch",
        "z": "7679ace97d2d2d0d",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1710,
        "y": 880,
        "wires": [
            [
                "da593e81727a9a0d",
                "da163f08f6760ead"
            ],
            [
                "ba061e94e7d0d429"
            ]
        ]
    },
    {
        "id": "e4c4c87de3887327",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2230,
        "y": 40,
        "wires": [
            [
                "b3ce66307bfd955d"
            ]
        ]
    },
    {
        "id": "00c0bd522d30d129",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 420,
        "wires": [
            [
                "5ebbdc2b4b22d948"
            ]
        ]
    },
    {
        "id": "52172a4377cd2e6d",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 580,
        "wires": [
            [
                "887fdbf8f3c98a57"
            ]
        ]
    },
    {
        "id": "da163f08f6760ead",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 800,
        "wires": [
            [
                "ba061e94e7d0d429"
            ]
        ]
    },
    {
        "id": "f4e19c53c45e812c",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "2b8ceeba837cee7a"
        ],
        "x": 1525,
        "y": 240,
        "wires": []
    },
    {
        "id": "70ba59ba98c8e0fd",
        "type": "change",
        "z": "7679ace97d2d2d0d",
        "name": "status Adsorption",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Adsorption",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 240,
        "wires": [
            [
                "f4e19c53c45e812c"
            ]
        ]
    },
    {
        "id": "60ea47f6d57072e9",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "Automation_data_out",
        "mode": "link",
        "links": [
            "894909ffc90da041"
        ],
        "x": 1095,
        "y": 560,
        "wires": []
    },
    {
        "id": "8cdfc3d0b9560ff7",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "Automation_data_out",
        "mode": "link",
        "links": [
            "894909ffc90da041"
        ],
        "x": 2415,
        "y": 100,
        "wires": []
    },
    {
        "id": "1e95cfea2f9ac540",
        "type": "link out",
        "z": "7679ace97d2d2d0d",
        "name": "Automation_data_out",
        "mode": "link",
        "links": [
            "894909ffc90da041"
        ],
        "x": 1665,
        "y": 940,
        "wires": []
    },
    {
        "id": "9bcbf1291ee46bd5",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1180,
        "y": 580,
        "wires": []
    },
    {
        "id": "0ccb5c2e8273c8fc",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2520,
        "y": 40,
        "wires": []
    },
    {
        "id": "0c189386c7383c58",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 9",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1820,
        "y": 240,
        "wires": []
    },
    {
        "id": "954e5f703afcb084",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1720,
        "y": 980,
        "wires": []
    },
    {
        "id": "a43176a67c5c8b1d",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 11",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1760,
        "y": 60,
        "wires": []
    },
    {
        "id": "6bf39504b24f70ec",
        "type": "debug",
        "z": "7679ace97d2d2d0d",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 200,
        "wires": []
    },
    {
        "id": "609cde9fbc2b4a8d",
        "type": "ui-text",
        "z": "e84c71dc344a4f56",
        "group": "3b4416e0e341a409",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Column 1 current status",
        "label": "Current Status:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 490,
        "y": 220,
        "wires": []
    },
    {
        "id": "2b8ceeba837cee7a",
        "type": "link in",
        "z": "e84c71dc344a4f56",
        "name": "CLM1_AUTO_Status in",
        "links": [
            "a3cb654b0bc0de87",
            "f84a212adfe16105",
            "6c0922d25b5bd32b",
            "0841e9d3c4676767",
            "7a94a6e6e60e193e",
            "f4e19c53c45e812c"
        ],
        "x": 285,
        "y": 220,
        "wires": [
            [
                "609cde9fbc2b4a8d"
            ]
        ]
    },
    {
        "id": "d1bbf7f42be54fa6",
        "type": "ui-table",
        "z": "e84c71dc344a4f56",
        "group": "3b4416e0e341a409",
        "name": "tr",
        "label": "",
        "order": 1,
        "width": 0,
        "height": 4,
        "maxrows": "0",
        "passthru": false,
        "autocols": true,
        "showSearch": false,
        "deselect": true,
        "selectionType": "none",
        "columns": [],
        "mobileBreakpoint": "sm",
        "mobileBreakpointType": "defaults",
        "action": "replace",
        "x": 650,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "894909ffc90da041",
        "type": "link in",
        "z": "e84c71dc344a4f56",
        "name": "CLM1_AUTO_Data in",
        "links": [
            "60ea47f6d57072e9",
            "8cdfc3d0b9560ff7",
            "1e95cfea2f9ac540"
        ],
        "x": 355,
        "y": 320,
        "wires": [
            [
                "28db102575e83fc7"
            ]
        ]
    },
    {
        "id": "28db102575e83fc7",
        "type": "function",
        "z": "e84c71dc344a4f56",
        "name": "function 1",
        "func": "msg.payload = {\n    a02: msg.a02,\n    a01: msg.a01,\n    percentage: msg.percentage,\n    criteria: msg.criteria,\n    a02Co2: msg.a02Co2,\n    a01Co2: msg.a01Co2,\n    Co2percentage: msg.Co2percentage,\n    Co2criteria: msg.Co2criteria,\n    columnTurn: msg.columnTurn,\n    GHC02Value: msg.GHC02Value,\n    GHThershold: msg.GHThershold\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 320,
        "wires": [
            [
                "d1bbf7f42be54fa6"
            ]
        ]
    },
    {
        "id": "e92f820dd22a57d6",
        "type": "ui-number-input",
        "z": "783d7cd4552f429f",
        "group": "9893f0a653eb8b5f",
        "name": "1A01 CO2 AVG",
        "label": "1A01 CO2 AVG",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "7727cc0b5bc81a7d"
            ]
        ]
    },
    {
        "id": "37a329a2419a09b3",
        "type": "ui-number-input",
        "z": "783d7cd4552f429f",
        "group": "9893f0a653eb8b5f",
        "name": "1A01-inT",
        "label": "1A01-inT",
        "order": 6,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 480,
        "y": 440,
        "wires": [
            [
                "85f26395fdc6943c"
            ]
        ]
    },
    {
        "id": "7727cc0b5bc81a7d",
        "type": "link out",
        "z": "783d7cd4552f429f",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "7f0fde5c8aae1df0"
        ],
        "x": 705,
        "y": 380,
        "wires": []
    },
    {
        "id": "aa46d4fe5b346dd3",
        "type": "ui-number-input",
        "z": "783d7cd4552f429f",
        "group": "9893f0a653eb8b5f",
        "name": "1A01-inRH",
        "label": "1A01-inRH",
        "order": 5,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 480,
        "wires": [
            [
                "3651fe1daf081409"
            ]
        ]
    },
    {
        "id": "786b4d0bfac0fe4b",
        "type": "link out",
        "z": "783d7cd4552f429f",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "4edbc418eeb26eac"
        ],
        "x": 755,
        "y": 440,
        "wires": []
    },
    {
        "id": "5495ba41875edd88",
        "type": "link out",
        "z": "783d7cd4552f429f",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "7393890bfe655c7b"
        ],
        "x": 705,
        "y": 480,
        "wires": []
    },
    {
        "id": "855f43fe536c834b",
        "type": "ui-number-input",
        "z": "783d7cd4552f429f",
        "group": "9893f0a653eb8b5f",
        "name": "1A02 CO2 AVG",
        "label": "1A02 CO2 AVG",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1060,
        "y": 380,
        "wires": [
            [
                "a8c6392ef2ea2f84"
            ]
        ]
    },
    {
        "id": "e3c245d1cff9667a",
        "type": "ui-number-input",
        "z": "783d7cd4552f429f",
        "group": "9893f0a653eb8b5f",
        "name": "1A02-inT",
        "label": "1A02-inT",
        "order": 3,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1040,
        "y": 420,
        "wires": [
            [
                "4eaf37546a9617b5"
            ]
        ]
    },
    {
        "id": "0c4094796927fcd5",
        "type": "ui-number-input",
        "z": "783d7cd4552f429f",
        "group": "9893f0a653eb8b5f",
        "name": "1A02-inRH",
        "label": "1A02-inRH",
        "order": 4,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1050,
        "y": 460,
        "wires": [
            [
                "863eea6570693a13"
            ]
        ]
    },
    {
        "id": "163484618bdd5358",
        "type": "link out",
        "z": "783d7cd4552f429f",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "8b274ff98967ac95"
        ],
        "x": 1385,
        "y": 380,
        "wires": []
    },
    {
        "id": "22ecc3dfc5471508",
        "type": "link out",
        "z": "783d7cd4552f429f",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "ae0123f0fae3a2c1"
        ],
        "x": 1385,
        "y": 420,
        "wires": []
    },
    {
        "id": "b1596477cc778c8a",
        "type": "link out",
        "z": "783d7cd4552f429f",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "b31942b090fbcd7d"
        ],
        "x": 1385,
        "y": 460,
        "wires": []
    },
    {
        "id": "a8c6392ef2ea2f84",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LU.CO2.avg",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 380,
        "wires": [
            [
                "163484618bdd5358"
            ]
        ]
    },
    {
        "id": "3651fe1daf081409",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.RH.%",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 540,
        "wires": [
            [
                "5495ba41875edd88"
            ]
        ]
    },
    {
        "id": "85f26395fdc6943c",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Temp.C",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 440,
        "wires": [
            [
                "786b4d0bfac0fe4b"
            ]
        ]
    },
    {
        "id": "863eea6570693a13",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LU.RH.%",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 460,
        "wires": [
            [
                "b1596477cc778c8a"
            ]
        ]
    },
    {
        "id": "4eaf37546a9617b5",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LU.Temp.C",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 420,
        "wires": [
            [
                "22ecc3dfc5471508"
            ]
        ]
    },
    {
        "id": "5a8e575d1fda7e95",
        "type": "inject",
        "z": "783d7cd4552f429f",
        "name": "Start Flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0,
        "topic": "",
        "payload": "start",
        "payloadType": "str",
        "x": 480,
        "y": 720,
        "wires": [
            [
                "7c62f35f34b6c6d2"
            ]
        ]
    },
    {
        "id": "85a8626e237c3960",
        "type": "function",
        "z": "783d7cd4552f429f",
        "name": "Check Condition",
        "func": "// Check global condition\nlet cond = global.get(\"myCondition\") || false;\n\nif (cond === true) {\n    // Stop trigger loop\n    //msg.reset = true;\n    msg.payload = \"Condition met!\";\n    return msg;\n}\nelse{\n    //msg.reset = false;\n    msg.payload = \"False\";\n    return msg; \n}\n// Otherwise keep waiting → return null\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 720,
        "wires": [
            [
                "bacaf74d6e0358ab"
            ]
        ]
    },
    {
        "id": "15d5aa2904edf1ad",
        "type": "debug",
        "z": "783d7cd4552f429f",
        "name": "Flow Continues Here",
        "active": true,
        "tosidebar": true,
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 720,
        "wires": []
    },
    {
        "id": "7fead8671716784e",
        "type": "inject",
        "z": "783d7cd4552f429f",
        "name": "Set Condition TRUE",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "once": false,
        "onceDelay": 0,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 520,
        "y": 820,
        "wires": [
            [
                "42a052163785bdf8"
            ]
        ]
    },
    {
        "id": "42a052163785bdf8",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "global.myCondition = true",
        "rules": [
            {
                "t": "set",
                "p": "myCondition",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "x": 780,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "d44a9ac889f7b7be",
        "type": "inject",
        "z": "783d7cd4552f429f",
        "name": "Set Condition FALSE",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "once": false,
        "onceDelay": 0,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 520,
        "y": 880,
        "wires": [
            [
                "7ef0b1de01839dae"
            ]
        ]
    },
    {
        "id": "7ef0b1de01839dae",
        "type": "change",
        "z": "783d7cd4552f429f",
        "name": "global.myCondition = false",
        "rules": [
            {
                "t": "set",
                "p": "myCondition",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "x": 780,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "bacaf74d6e0358ab",
        "type": "switch",
        "z": "783d7cd4552f429f",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Condition met!",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "False",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 720,
        "wires": [
            [
                "15d5aa2904edf1ad"
            ],
            [
                "7c62f35f34b6c6d2",
                "457d6f8e20f662e5"
            ]
        ]
    },
    {
        "id": "7c62f35f34b6c6d2",
        "type": "delay",
        "z": "783d7cd4552f429f",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 720,
        "wires": [
            [
                "85a8626e237c3960"
            ]
        ]
    },
    {
        "id": "457d6f8e20f662e5",
        "type": "debug",
        "z": "783d7cd4552f429f",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1400,
        "y": 800,
        "wires": []
    }
]