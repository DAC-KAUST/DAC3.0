[
    {
        "id": "f4e27689ddb97c39",
        "type": "tab",
        "label": "Initialize",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9021aeb4a5054e01",
        "type": "tab",
        "label": "Data ACQ",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ab6b047640b7f520",
        "type": "tab",
        "label": "Controls",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d2a853aa4cee757f",
        "type": "tab",
        "label": "Column 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f9cdf73470cc790b",
        "type": "tab",
        "label": "column 2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "305042d47b63571f",
        "type": "tab",
        "label": "Green house & shared (3)",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5d75bf7d19d6c301",
        "type": "tab",
        "label": "CSV Logging",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c939f5c97e10afd3",
        "type": "tab",
        "label": "automation paramters",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "32981e8e6835223e",
        "type": "tab",
        "label": "Automation Process",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "ef2b65986b3fe2a6",
        "type": "tab",
        "label": "Automation monitoring",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "e6706dcb92e97a2c",
        "type": "tab",
        "label": "Automatic controls",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "35bbe611d2f9a0ea",
        "type": "tab",
        "label": "Testing",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "25d6fa6412edd03b",
        "type": "tab",
        "label": "safety",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8d17c08d50d1770f",
        "type": "ui-base",
        "name": "My Dashboard",
        "path": "/dashboard",
        "appIcon": "",
        "includeClientData": true,
        "acceptsClientConfig": [
            "ui-notification",
            "ui-control"
        ],
        "showPathInSidebar": false,
        "headerContent": "page",
        "navigationStyle": "default",
        "titleBarStyle": "default",
        "showReconnectNotification": true,
        "notificationDisplayTime": 1,
        "showDisconnectNotification": true,
        "allowInstall": true
    },
    {
        "id": "d3e8251c2f05a30e",
        "type": "modbus-client",
        "name": "NodeRedModbusSerMaster",
        "clienttype": "serial",
        "bufferCommands": true,
        "stateLogEnabled": true,
        "queueLogEnabled": true,
        "failureLogEnabled": true,
        "tcpHost": "127.0.0.1",
        "tcpPort": 502,
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyAMA5",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "19200",
        "serialDatabits": 8,
        "serialStopbits": 1,
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": 43,
        "commandDelay": 10,
        "clientTimeout": 1000,
        "reconnectOnTimeout": false,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true,
        "showErrors": true,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "c2b3dd79366cad0c",
        "type": "serial-port",
        "name": "tusb",
        "serialport": "/dev/ttyUSB0",
        "serialbaud": "9600",
        "databits": 8,
        "parity": "none",
        "stopbits": 1,
        "waitfor": "0xAA",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "4",
        "bin": "bin",
        "out": "count",
        "addchar": "",
        "responsetimeout": "1000"
    },
    {
        "id": "b423e96545d4ae28",
        "type": "ui-theme",
        "name": "Default Theme",
        "colors": {
            "surface": "#0094ce",
            "primary": "#0094ce",
            "bgPage": "#eeeeee",
            "groupBg": "#ffffff",
            "groupOutline": "#787878"
        },
        "sizes": {
            "density": "comfortable",
            "pagePadding": "12px",
            "groupGap": "12px",
            "groupBorderRadius": "4px",
            "widgetGap": "20px"
        }
    },
    {
        "id": "8aa6d6140cfde471",
        "type": "ui-page",
        "name": "My Process Control",
        "ui": "8d17c08d50d1770f",
        "path": "/page1",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 1,
        "className": "",
        "visible": true,
        "disabled": false
    },
    {
        "id": "c34f777b31ff0d3e",
        "type": "ui-group",
        "name": "Relays - Column 1",
        "page": "8aa6d6140cfde471",
        "width": "6",
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "ps-left",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "6cf2ef424cfcf0b9",
        "type": "ui-group",
        "name": "Relays - Column 2",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 2,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "b135539d7634acf8",
        "type": "ui-group",
        "name": "Fan - Column 1",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 3,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "13816c2f51c27294",
        "type": "ui-group",
        "name": "Fan - Column 2",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 4,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "44de1c430cbb5601",
        "type": "ui-group",
        "name": "EE872 Out (1A02)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 12,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "a94205eff71ff9ec",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "ac6a5966878e6de8",
        "type": "ui-group",
        "name": "EE872 Out (2A12)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 14,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "1b0119535e1d3350",
        "type": "ui-group",
        "name": "EE872 In (1A01)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 11,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "b4e0dab4bd8c05b7",
        "type": "ui-group",
        "name": "EE872 In (2A11)",
        "page": "8aa6d6140cfde471",
        "width": "3",
        "height": 1,
        "order": 13,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "be8e2d192e710aa5",
        "type": "ui-group",
        "name": "Pressure/Energy",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 7,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "14ffaba87334b6a7",
        "type": "ui-group",
        "name": "Pressure/Energy",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 8,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "d0e68dc802300da0",
        "type": "ui-group",
        "name": "Velocity (1A08) ",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 9,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "c4b796b294db2552",
        "type": "ui-group",
        "name": "Velocity (2A18)",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 10,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "7aa27d4b2d1c0ea6",
        "type": "ui-group",
        "name": "Heater - Column 1",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 5,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "1150877cb6638246",
        "type": "ui-group",
        "name": "Heater - Column 2",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 6,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "e86ce08b06c0beb4",
        "type": "ui-group",
        "name": "Logging",
        "page": "8aa6d6140cfde471",
        "width": 6,
        "height": 1,
        "order": 15,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "81f1ac7f76ca28a5",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": 8086,
        "protocol": "http",
        "database": "database",
        "name": "InfluxDB-out",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "2.0",
        "url": "http://localhost:8086",
        "timeout": 10,
        "rejectUnauthorized": true
    },
    {
        "id": "cade41266e313ff1",
        "type": "global-config",
        "env": [
            {
                "name": "TestMode",
                "value": "false",
                "type": "bool"
            }
        ]
    },
    {
        "id": "2e4e995892bfe9fe",
        "type": "ui-page",
        "name": "Automation Paramters",
        "ui": "8d17c08d50d1770f",
        "path": "/AT_params",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 2,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "42e80e50107ea143",
        "type": "ui-group",
        "name": "Auto mode control",
        "page": "2e4e995892bfe9fe",
        "width": "2",
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "16c2d68fad5258bc",
        "type": "ui-group",
        "name": "Shared Parameters",
        "page": "2e4e995892bfe9fe",
        "width": 10,
        "height": 1,
        "order": 4,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "b4435693f46f8ae5",
        "type": "ui-group",
        "name": "Column 1 Parameters",
        "page": "2e4e995892bfe9fe",
        "width": 6,
        "height": 1,
        "order": 5,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "61db9a8b734103fe",
        "type": "ui-group",
        "name": "column 2 parameters",
        "page": "2e4e995892bfe9fe",
        "width": 6,
        "height": 1,
        "order": 6,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "0bc3f93a938c3005",
        "type": "ui-group",
        "name": "Save commands",
        "page": "2e4e995892bfe9fe",
        "width": 12,
        "height": 1,
        "order": 7,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "1f410851f98d58aa",
        "type": "ui-page",
        "name": "Testing",
        "ui": "8d17c08d50d1770f",
        "path": "/page3",
        "icon": "home",
        "layout": "grid",
        "theme": "b423e96545d4ae28",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 3,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "8e9cba7b0e41fe3c",
        "type": "ui-group",
        "name": "TestGroup 1",
        "page": "1f410851f98d58aa",
        "width": 6,
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "edb3219708e56efd",
        "type": "ui-group",
        "name": "Column 1",
        "page": "2e4e995892bfe9fe",
        "width": 5,
        "height": 1,
        "order": 2,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "a2abbb9410c1e74d",
        "type": "ui-group",
        "name": "Column 2",
        "page": "2e4e995892bfe9fe",
        "width": 5,
        "height": 1,
        "order": 3,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "0becb6a714bc83bf",
        "type": "revpi-server",
        "host": "localhost",
        "port": 8000,
        "user": "",
        "password": "",
        "rejectUnauthorized": false,
        "ca": ""
    },
    {
        "id": "ui_tab1",
        "type": "ui_tab",
        "name": "Control Panel",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ui_group1",
        "type": "ui_group",
        "name": "Loop Control",
        "tab": "ui_tab1",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a2a7548bcbdd4f18",
        "type": "change",
        "z": "f4e27689ddb97c39",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentColumnTurn",
                "pt": "global",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "b8c8cc8bb805ad96",
        "type": "debug",
        "z": "f4e27689ddb97c39",
        "name": "debug 5",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 540,
        "wires": []
    },
    {
        "id": "dbf581fe69641fcf",
        "type": "inject",
        "z": "f4e27689ddb97c39",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$globalContext(\"autoParams\")",
        "payloadType": "jsonata",
        "x": 630,
        "y": 540,
        "wires": [
            [
                "b8c8cc8bb805ad96"
            ]
        ]
    },
    {
        "id": "9f68b9a9899cb66d",
        "type": "debug",
        "z": "f4e27689ddb97c39",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 640,
        "wires": []
    },
    {
        "id": "cf49b945933e5c1f",
        "type": "inject",
        "z": "f4e27689ddb97c39",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "$globalContext(\"autoParams\")\t",
        "payloadType": "jsonata",
        "x": 610,
        "y": 640,
        "wires": [
            [
                "9f68b9a9899cb66d"
            ]
        ]
    },
    {
        "id": "e4ce875bfb42050b",
        "type": "inject",
        "z": "f4e27689ddb97c39",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 650,
        "y": 400,
        "wires": [
            [
                "a2a7548bcbdd4f18",
                "41b0ff6d20845e9d",
                "24369150eac52d9c"
            ]
        ]
    },
    {
        "id": "41b0ff6d20845e9d",
        "type": "link out",
        "z": "f4e27689ddb97c39",
        "name": "Init system",
        "mode": "link",
        "links": [
            "71ecf974b23a0568",
            "99386fb9c3dbafc1",
            "bcdcae869ad783bf",
            "bf1c544424eadbf8",
            "c01672e399954caa",
            "f891c7e34bac21b4",
            "faf81b990d1ae70e"
        ],
        "x": 825,
        "y": 460,
        "wires": []
    },
    {
        "id": "9eee0479eeed86e0",
        "type": "link out",
        "z": "f4e27689ddb97c39",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 1005,
        "y": 340,
        "wires": []
    },
    {
        "id": "24369150eac52d9c",
        "type": "change",
        "z": "f4e27689ddb97c39",
        "name": "status OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Automation Disabled",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Automation Disabled",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 340,
        "wires": [
            [
                "9eee0479eeed86e0"
            ]
        ]
    },
    {
        "id": "2ffd1e15d3e25253",
        "type": "modbus-flex-getter",
        "z": "9021aeb4a5054e01",
        "name": "Modbus Flex Getter",
        "showStatusActivities": true,
        "showErrors": false,
        "showWarnings": false,
        "logIOActivities": false,
        "server": "d3e8251c2f05a30e",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": true,
        "keepMsgProperties": true,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 890,
        "y": 220,
        "wires": [
            [
                "92841caa79068898",
                "2bdea0f6ed1d1e90",
                "e0ade12eb0bf76c6"
            ],
            []
        ]
    },
    {
        "id": "92841caa79068898",
        "type": "modbus-response",
        "z": "9021aeb4a5054e01",
        "name": "",
        "registerShowMax": 20,
        "x": 1130,
        "y": 160,
        "wires": []
    },
    {
        "id": "155385b51fe34bc2",
        "type": "function",
        "z": "9021aeb4a5054e01",
        "name": "function 3",
        "func": "\nglobal.set(\"addrInfo\", [\n  // VFDs\n  { tag: \"LVFD\", unitid: 101, fc: 3, address: 2057, quantity: 6 },\n  { tag: \"2FN11\", unitid: 201, fc: 3, address: 2057, quantity: 6 },\n\n  // Energy Meters\n  { tag: \"LEM\", unitid: 102, fc: 4, address: 12, quantity: 2 },\n  { tag: \"REM\", unitid: 202, fc: 4, address: 12, quantity: 2 },\n\n  // PIDs (read variables block 1..15 in one shot)\n  { tag: \"LPID\", unitid: 103, fc: 3, address: 1, quantity: 15 },\n  { tag: \"RPID\", unitid: 203, fc: 3, address: 1, quantity: 15 },\n\n  // EE872 Up (grouped) (1A02 & 2A12)\n  // CO2 avg+raw (0x424..0x427)\n  { tag: \"LUPEE872CO2\", unitid: 111, fc: 4, address: 0x424, quantity: 0x04 },\n  { tag: \"RUPEE872CO2\", unitid: 211, fc: 4, address: 0x424, quantity: 0x04 },\n  // Temp+RH (0x3EA..0x3FD)\n  { tag: \"LUPEE872TRH\", unitid: 111, fc: 4, address: 0x3EA, quantity: 0x14 },\n  { tag: \"RUPEE872TRH\", unitid: 211, fc: 4, address: 0x3EA, quantity: 0x14 },\n  // Pressure (0x4B0..0x4B1)\n  { tag: \"LUPEE872P\", unitid: 111, fc: 4, address: 0x4B0, quantity: 0x02 },\n  { tag: \"RUPEE872P\", unitid: 211, fc: 4, address: 0x4B0, quantity: 0x02 },\n\n  // EE872 Down (grouped)\n  { tag: \"LDOWNEE872CO2\", unitid: 112, fc: 4, address: 0x424, quantity: 0x04 },\n  { tag: \"RDOWNEE872CO2\", unitid: 212, fc: 4, address: 0x424, quantity: 0x04 },\n  { tag: \"LDOWNEE872TRH\", unitid: 112, fc: 4, address: 0x3EA, quantity: 0x14 },\n  { tag: \"RDOWNEE872TRH\", unitid: 212, fc: 4, address: 0x3EA, quantity: 0x14 },\n  { tag: \"LDOWNEE872P\", unitid: 112, fc: 4, address: 0x4B0, quantity: 0x02 },\n  { tag: \"RDOWNEE872P\", unitid: 212, fc: 4, address: 0x4B0, quantity: 0x02 },\n\n  // EE600 (as you had)\n  { tag: \"1A05\", unitid: 113, fc: 4, address: 0x4BE, quantity: 0x02 },\n  { tag: \"2A15\", unitid: 213, fc: 4, address: 0x4BE, quantity: 0x02 },\n\n  // EE650 (as you had)\n  { tag: \"LEE650T\", unitid: 114, fc: 4, address: 0x3EA, quantity: 0x02 },\n  { tag: \"REE650T\", unitid: 214, fc: 4, address: 0x3EA, quantity: 0x02 },\n  { tag: \"LEE650AV\", unitid: 114, fc: 4, address: 0x410, quantity: 0x02 },\n  { tag: \"REE650AV\", unitid: 214, fc: 4, address: 0x410, quantity: 0x02 }\n]);\n\nglobal.set(\"index\", 0);\nnode.warn(\"Global variables initialized\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 220,
        "wires": [
            [
                "265f59d4b8210d0f"
            ]
        ]
    },
    {
        "id": "e0c5a54985d69936",
        "type": "inject",
        "z": "9021aeb4a5054e01",
        "name": "Auto Inject Once",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 220,
        "wires": [
            [
                "155385b51fe34bc2"
            ]
        ]
    },
    {
        "id": "bbfe29ac4ddcf580",
        "type": "function",
        "z": "9021aeb4a5054e01",
        "name": "function 4",
        "func": "\n//msg.payload = global.get(\"addrInfo\")[global.get(\"index\")];\n//msg.topic = global.get(\"addrInfo\")[global.get(\"index\")].tag;\n//global.set(\"index\", global.get(\"index\") == 2 ? 0 : global.get(\"index\") + 1);\n//return msg;\n\nlet addrInfo = global.get(\"addrInfo\");\nlet index = global.get(\"index\") || 0;\n\n// Safety check\nif (!Array.isArray(addrInfo) || addrInfo.length === 0) {\n    node.error(\"addrInfo is not set or empty\", msg);\n    return null;\n}\n\nmsg.payload = addrInfo[index];\nmsg.topic = addrInfo[index].tag;\n\n// Increment index with wrap-around\nglobal.set(\"index\", (index + 1) % addrInfo.length);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 220,
        "wires": [
            [
                "2ffd1e15d3e25253"
            ]
        ]
    },
    {
        "id": "265f59d4b8210d0f",
        "type": "delay",
        "z": "9021aeb4a5054e01",
        "name": "",
        "pauseType": "delay",
        "timeout": "1000",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 520,
        "y": 220,
        "wires": [
            [
                "bbfe29ac4ddcf580"
            ]
        ]
    },
    {
        "id": "2bdea0f6ed1d1e90",
        "type": "delay",
        "z": "9021aeb4a5054e01",
        "name": "",
        "pauseType": "delay",
        "timeout": "50",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 770,
        "y": 140,
        "wires": [
            [
                "bbfe29ac4ddcf580"
            ]
        ]
    },
    {
        "id": "372d564522f94c72",
        "type": "function",
        "z": "9021aeb4a5054e01",
        "name": "Switch Function",
        "func": "// =============== Switch Function (32 + 1 outputs, 2-dp rounding) ===============\n// Output map:\n//  1  LU (1A02) CO2 avg        2  LU (1A02) CO2 raw         3  LU (1A02) Temp (°C)      4  LU (1A02) RH (%)        5  LU(1A02) Pressure (hPa)\n//  6  RU (2A12) CO2 avg        7  RU (2A12) CO2 raw         8  RU (2A12) Temp (°C)      9  RU (2A12) RH (%)       10  RU (2A12) Pressure (hPa)\n// 11  LD (1A01) CO2 avg       12  LD (1A01) CO2 raw        13  LD (1A01) Temp (°C)     14  LD (1A01) RH (%)       15  LD (1A01) Pressure (hPa)\n// 16  RD (2A11) CO2 avg       17  RD (2A11) CO2 raw        18  RD (2A11) Temp (°C)     19  RD (2A11) RH (%)       20  RD (2A11) Pressure (hPa)\n// 21  LEE600 (1A05)          22  REE600 (2A15)          23  LEE650T (1A08)(°C)     24  REE650T (2A18) (°C)    25  LEE650AV (1A08) (m/s)\n// 26  REE650AV (2A18)(m/s)   27  LEM watts         28  REM watts        29  LPID block(1..15)  30  RPID block(1..15)\n// 31  LVFD (array→splitter)                 32  2FN11 (array→splitter)\n// 33  Mirrored scalar metrics for Grafana (/metrics flow)\n\n// -------- helpers --------\n\n// E+E float32 values are word-swapped (hi,lo -> lo,hi for bytes)\nfunction readFloat32Swap(r0, r1) {\n  const b = Buffer.alloc(4);\n  b.writeUInt16BE(r1, 0); // low word\n  b.writeUInt16BE(r0, 2); // high word\n  return b.readFloatBE(0);\n}\nfunction f32at(regs, i) { return readFloat32Swap(regs[i], regs[i + 1]); }\n\n// Generic Int32 (big-endian) from two holding registers\nfunction readInt32BE(r0, r1) {\n  const b = Buffer.alloc(4);\n  b.writeUInt16BE(r0, 0);\n  b.writeUInt16BE(r1, 2);\n  return b.readInt32BE(0); // signed\n}\n\n// SDM230 (energy meter): float32, MS-register first (r0 = high reg, r1 = low reg)\nfunction f32be(r0, r1) {\n  const b = Buffer.alloc(4);\n  b.writeUInt16BE(r0, 0); // high reg\n  b.writeUInt16BE(r1, 2); // low  reg\n  return b.readFloatBE(0);\n}\n\n// round to 2 decimals\nfunction round2(v) { return Math.round(v * 100) / 100; }\n\nconst regs = msg.payload;\nconst tag = String(msg.topic || \"\");\n\nif (!Array.isArray(regs)) {\n  //node.error(\"Payload is not an array of registers\", msg);\n  return null;\n}\n\n// ===== MINIMAL CHANGE: make 33 outputs & add a mirror helper =====\nconst out = Array.from({ length: 33 }, () => null);\nconst out33 = [];\nfunction mirror(topic, value, labels) {\n  if (value == null || isNaN(value)) return;\n  out33.push({ topic, payload: Number(value), labels: labels || {} });\n}\n\n// side helpers\nfunction isLeftUp(t) { return /^LU/i.test(t); }\nfunction isRightUp(t) { return /^RU/i.test(t); }\nfunction isLeftDown(t) { return /^LD/i.test(t); }\nfunction isRightDown(t) { return /^RD/i.test(t); }\n\n// ---------- EE872: CO2 block (avg+raw at 0x424..0x427) (LU is 1A08; RU is 2A18; LD is 1A01; RD is 2A11) ----------\nif (/EE872CO2$/i.test(tag)) {\n  if (regs.length < 4) { node.error(`${tag} requires 4 registers`, msg); return null; }\n  const co2_avg = round2(f32at(regs, 0)); // 0x424..0x425\n  const co2_raw = round2(f32at(regs, 2)); // 0x426..0x427\n\n  if (isLeftUp(tag)) {\n    out[0] = { topic: \"LU.CO2.avg\", payload: co2_avg };\n    out[1] = { topic: \"LU.CO2.raw\", payload: co2_raw };\n    mirror(\"LU.CO2.avg\", co2_avg, { zone: \"lu\" });\n    mirror(\"LU.CO2.raw\", co2_raw, { zone: \"lu\" });\n  }\n  else if (isRightUp(tag)) {\n    out[5] = { topic: \"RU.CO2.avg\", payload: co2_avg };\n    out[6] = { topic: \"RU.CO2.raw\", payload: co2_raw };\n    mirror(\"RU.CO2.avg\", co2_avg, { zone: \"ru\" });\n    mirror(\"RU.CO2.raw\", co2_raw, { zone: \"ru\" });\n  }\n  else if (isLeftDown(tag)) {\n    out[10] = { topic: \"LD.CO2.avg\", payload: co2_avg };\n    out[11] = { topic: \"LD.CO2.raw\", payload: co2_raw };\n    mirror(\"LD.CO2.avg\", co2_avg, { zone: \"ld\" });\n    mirror(\"LD.CO2.raw\", co2_raw, { zone: \"ld\" });\n  }\n  else if (isRightDown(tag)) {\n    out[15] = { topic: \"RD.CO2.avg\", payload: co2_avg };\n    out[16] = { topic: \"RD.CO2.raw\", payload: co2_raw };\n    mirror(\"RD.CO2.avg\", co2_avg, { zone: \"rd\" });\n    mirror(\"RD.CO2.raw\", co2_raw, { zone: \"rd\" });\n  }\n  else node.warn(`Unhandled CO2 tag: ${tag}`);\n\n  out[32] = out33; // <- emit mirrored metrics\n  return out;\n}\n\n// ---------- EE872: TRH wide block (Temp at 0x3EA..0x3EB, RH at 0x3FC..0x3FD) (LU is 1A08; RU is 2A18; LD is 1A01; RD is 2A11) ----------\nif (/EE872TRH$/i.test(tag)) {\n  if (regs.length < 20) { node.error(`${tag} requires 20 registers`, msg); return null; }\n  const temperature_c = round2(f32at(regs, 0));   // 0x3EA..0x3EB\n  const rh_percent = round2(f32at(regs, 18));     // 0x3FC..0x3FD\n\n  if (isLeftUp(tag)) {\n    out[2] = { topic: \"LU.Temp.C\", payload: temperature_c };\n    out[3] = { topic: \"LU.RH.%\", payload: rh_percent };\n    mirror(\"LU.Temp.C\", temperature_c, { zone: \"lu\" });\n    mirror(\"LU.RH.%\", rh_percent, { zone: \"lu\" });\n  }\n  else if (isRightUp(tag)) {\n    out[7] = { topic: \"RU.Temp.C\", payload: temperature_c };\n    out[8] = { topic: \"RU.RH.%\", payload: rh_percent };\n    mirror(\"RU.Temp.C\", temperature_c, { zone: \"ru\" });\n    mirror(\"RU.RH.%\", rh_percent, { zone: \"ru\" });\n  }\n  else if (isLeftDown(tag)) {\n    out[12] = { topic: \"LD.Temp.C\", payload: temperature_c };\n    out[13] = { topic: \"LD.RH.%\", payload: rh_percent };\n    mirror(\"LD.Temp.C\", temperature_c, { zone: \"ld\" });\n    mirror(\"LD.RH.%\", rh_percent, { zone: \"ld\" });\n  }\n  else if (isRightDown(tag)) {\n    out[17] = { topic: \"RD.Temp.C\", payload: temperature_c };\n    out[18] = { topic: \"RD.RH.%\", payload: rh_percent };\n    mirror(\"RD.Temp.C\", temperature_c, { zone: \"rd\" });\n    mirror(\"RD.RH.%\", rh_percent, { zone: \"rd\" });\n  }\n  else node.warn(`Unhandled TRH tag: ${tag}`);\n\n  out[32] = out33;\n  return out;\n}\n\n// ---------- EE872: Pressure (0x4B0..0x4B1)(LU is 1A08; RU is 2A18; LD is 1A01; RD is 2A11) ----------\nif (/EE872P$/i.test(tag)) {\n  if (regs.length < 2) { node.error(`${tag} requires 2 registers`, msg); return null; }\n  const pressure_hpa = round2(f32at(regs, 0));\n\n  if (isLeftUp(tag)) {\n    out[4] = { topic: \"LU.P.hPa\", payload: pressure_hpa };\n    mirror(\"LU.P.hPa\", pressure_hpa, { zone: \"lu\" });\n  }\n  else if (isRightUp(tag)) {\n    out[9] = { topic: \"RU.P.hPa\", payload: pressure_hpa };\n    mirror(\"RU.P.hPa\", pressure_hpa, { zone: \"ru\" });\n  }\n  else if (isLeftDown(tag)) {\n    out[14] = { topic: \"LD.P.hPa\", payload: pressure_hpa };\n    mirror(\"LD.P.hPa\", pressure_hpa, { zone: \"ld\" });\n  }\n  else if (isRightDown(tag)) {\n    out[19] = { topic: \"RD.P.hPa\", payload: pressure_hpa };\n    mirror(\"RD.P.hPa\", pressure_hpa, { zone: \"rd\" });\n  }\n  else node.warn(`Unhandled Pressure tag: ${tag}`);\n\n  out[32] = out33;\n  return out;\n}\n\n// ---------- EE600 / EE650 (single float32 swap) (LEE650 is 1A08; REE650 is 2A18; LEE600 is 1A05; REE600 is 2A15) ----------\nif (tag === \"1A05\" || tag === \"2A15\" || tag === \"LEE650T\" || tag === \"REE650T\" || tag === \"LEE650AV\" || tag === \"REE650AV\") {\n  if (regs.length < 2) { node.error(`${tag} requires 2 registers`, msg); return null; }\n  const val = round2(f32at(regs, 0));\n\n  switch (tag) {\n    case \"1A05\": out[20] = { topic: \"1A05\", payload: val }; mirror(\"1A05\", val, { sensor: \"1A05\" }); break;\n    case \"2A15\": out[21] = { topic: \"2A15\", payload: val }; mirror(\"2A15\", val, { sensor: \"2A15\" }); break;\n    case \"LEE650T\": out[22] = { topic: \"LEE650T.C\", payload: val }; mirror(\"LEE650T.C\", val, { sensor: \"LEE650T\" }); break;\n    case \"REE650T\": out[23] = { topic: \"REE650T.C\", payload: val }; mirror(\"REE650T.C\", val, { sensor: \"REE650T\" }); break;\n    case \"LEE650AV\": out[24] = { topic: \"LEE650AV.mps\", payload: val }; mirror(\"LEE650AV.mps\",  val, { sensor: \"LEE650AV\"}); break;\n    case \"REE650AV\": out[25] = { topic: \"REE650AV.mps\", payload: val }; mirror(\"REE650AV.mps\",  val, { sensor: \"REE650AV\"}); break;\n    \n  }\n  out[32] = out33;\n  return out;\n}\n\n// ---------- Energy meters ----------\n// SDM230 (LEM/REM): float32 in Input Registers (FC=4), MS-register first\nif (tag === \"LEM\" || tag === \"REM\") {\n  if (regs.length < 2) { node.error(`${tag} requires 2 registers`, msg); return null; }\n  const watts = round2(f32be(regs[0], regs[1]));   // Active Power (W)\n  if (tag === \"LEM\") { out[26] = { topic: \"LEM.W\", payload: watts }; mirror(\"LEM.W\", watts, { sensor: \"LEM\" }); }\n  else { out[27] = { topic: \"REM.W\", payload: watts }; mirror(\"REM.W\", watts, { sensor: \"REM\" }); }\n  out[32] = out33;\n  return out;\n}\n\n// ---------- PIDs: pass-through full 15-register variables block (addr 1..15) ----------\nif (tag === \"LPID\" || tag === \"RPID\") {\n  if (regs.length < 15) { node.error(`${tag} requires 15 registers (addr 1..15)`, msg); return null; }\n  const block = regs.slice(0, 15); // keep raw words; decode downstream\n\n  if (tag === \"LPID\") out[28] = { topic: \"LPID.block\", payload: block };\n  else out[29] = { topic: \"RPID.block\", payload: block };\n\n  // Not mirrored to metrics (block/array). Add if you want.\n  out[32] = out33;\n  return out;\n}\n\n// ---------- VFDs (6 regs pass-through to your splitter nodes) ----------\nif (tag === \"LVFD\" || tag === \"2FN11\") {\n  if (regs.length < 6) { node.error(`${tag} requires 6 registers`, msg); return null; }\n  const arr6 = regs.slice(0, 6);\n  if (tag === \"LVFD\") out[30] = { topic: \"LVFD\", payload: arr6 };\n  else out[31] = { topic: \"2FN11\", payload: arr6 };\n\n  // Not mirrored to metrics (array). Add if you want.\n  out[32] = out33;\n  return out;\n}\n\nnode.warn(`Decoder: unhandled tag \"${tag}\"`);\nout[32] = out33;\nreturn out;\n",
        "outputs": 33,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1220,
        "y": 500,
        "wires": [
            [
                "97a40ff172f7c369"
            ],
            [
                "de0b61ccf22729be"
            ],
            [
                "ea3a803bf58158b8"
            ],
            [
                "d38fdcead7a8e49e"
            ],
            [],
            [
                "60b1daa4a161202b"
            ],
            [
                "102bc0bfdc9ecf52"
            ],
            [
                "6b3d33d2e75b2eba"
            ],
            [
                "ef11a14fb248fc1a"
            ],
            [],
            [
                "2fe4b20510a3b452"
            ],
            [
                "d12766d82c9b7c2c"
            ],
            [
                "77186b46c1c6f684"
            ],
            [
                "38a67048904bae76"
            ],
            [],
            [
                "8c3a5e061bbf1a63"
            ],
            [
                "15fb12529250b7c6"
            ],
            [
                "8e9337e0fb322418"
            ],
            [
                "b8257356967d6e99"
            ],
            [],
            [
                "5e90321fa45c2f64"
            ],
            [
                "0d5370eb40b96ebe"
            ],
            [
                "a4ae88f8be5b0a18"
            ],
            [
                "d9939455b597942c"
            ],
            [
                "780537af99f0b7dd"
            ],
            [
                "0f57fe5811dcfadf"
            ],
            [
                "63af882d9f8dfad7"
            ],
            [
                "91c91af14c18f6ba"
            ],
            [
                "2c836a6e0103585d"
            ],
            [
                "0826e22f3b73ada9"
            ],
            [
                "7d59807fc5d2ed01"
            ],
            [
                "23e362462151b2af"
            ],
            [
                "0a89a39f46c6fa13",
                "0424567a092b7029"
            ]
        ]
    },
    {
        "id": "e4d9d905f1bc6b92",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "Delay between each Modbus Command",
        "info": "",
        "x": 790,
        "y": 100,
        "wires": []
    },
    {
        "id": "d59eba4df86081ec",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "Start Delay",
        "info": "",
        "x": 540,
        "y": 180,
        "wires": []
    },
    {
        "id": "0e6df2c226d9afba",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "Modbus Registers",
        "info": "",
        "x": 330,
        "y": 180,
        "wires": []
    },
    {
        "id": "024dfe27701b3a75",
        "type": "inject",
        "z": "9021aeb4a5054e01",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 480,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "0a89a39f46c6fa13",
        "type": "function",
        "z": "9021aeb4a5054e01",
        "name": "33rd → metrics cache",
        "func": "'use strict';\n// Save latest sensor metrics for Prometheus exposition\nconst store = flow.get('metrics') || {};\n\nfunction classify(topic) {\n  const N = String(topic || '').trim().toUpperCase();\n  let metric = 'generic_gauge', help = 'Generic gauge';\n  if (N.startsWith('LU.CO2.') || N.startsWith('RU.CO2.') || N.startsWith('LD.CO2.') || N.startsWith('RD.CO2.')) { metric = 'co2_ppm'; help = 'CO2 concentration'; }\n  else if (/(^LU\\.|^RU\\.|^LD\\.|^RD\\.).*RH\\.%$/.test(N)) { metric = 'humidity_percent'; help = 'Relative humidity'; }\n  else if (/(^LU\\.|^RU\\.|^LD\\.|^RD\\.).*TEMP\\.C$/.test(N)) { metric = 'temperature_celsius'; help = 'Air temperature'; }\n  else if (/(^LU\\.|^RU\\.|^LD\\.|^RD\\.).*\\.P\\.HPA$/.test(N)) { metric = 'pressure_hpa'; help = 'Atmospheric pressure'; }\n  else if (N === 'LEM.W' || N === 'REM.W') { metric = 'power_watts'; help = 'Active power'; }\n  else if (/LEE650AV|REE650AV/.test(N)) { metric = 'air_velocity_mps'; help = 'Air velocity'; }\n  else if (/LEE600|2A15/.test(N)) { metric = 'sensor_value'; help = 'Generic sensor value'; }\n  return { metric, help };\n}\n\nconst topic = String(msg.topic || '');\nconst val = Number(msg.payload);\nif (!topic || !Number.isFinite(val)) return null;\n\nconst z = topic.match(/^(LU|RU|LD|RD)\\b/i)?.[1]?.toLowerCase();\nlet sensor = '';\nif (/LEE650AV|REE650AV/i.test(topic)) sensor = 'EE650AV';\nelse if (/LEE650T|REE650T/i.test(topic)) sensor = 'EE650T';\nelse if (/\\bLEM\\.W\\b/i.test(topic)) sensor = 'LEM';\nelse if (/\\bREM\\.W\\b/i.test(topic)) sensor = 'REM';\n\nconst { metric, help } = classify(topic);\nconst labels = {};\nif (z) labels.zone = z;\nif (sensor) labels.sensor = sensor;\nconst key = `${metric}|zone=${labels.zone || ''}|sensor=${labels.sensor || ''}`;\nstore[key] = { metric, value: val, labels, help };\nflow.set('metrics', store);\nreturn null;",
        "outputs": 0,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 1200,
        "wires": []
    },
    {
        "id": "3df0ed8eb9af6337",
        "type": "http in",
        "z": "9021aeb4a5054e01",
        "name": "GET /metrics",
        "url": "/metrics",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1970,
        "y": 1200,
        "wires": [
            [
                "583d353a1ffb9266"
            ]
        ]
    },
    {
        "id": "583d353a1ffb9266",
        "type": "function",
        "z": "9021aeb4a5054e01",
        "name": "Render Prometheus exposition",
        "func": "'use strict';\nconst m = flow.get('metrics') || {};\nconst out = [];\nconst seen = new Set();\nfor (const k of Object.keys(m)) {\n  const { metric, help } = m[k];\n  if (!seen.has(metric)) {\n    out.push(`# HELP ${metric} ${help}`);\n    out.push(`# TYPE ${metric} gauge`);\n    seen.add(metric);\n  }\n}\nfor (const k of Object.keys(m)) {\n  const { metric, value, labels } = m[k];\n  const labelStr = Object.entries(labels || {})\n    .map(([kk, vv]) => `${kk}=\"${String(vv).replace(/\"/g, '\\\\\"')}\"`)\n    .join(',');\n  out.push(labelStr ? `${metric}{${labelStr}} ${value}` : `${metric} ${value}`);\n}\nmsg.headers = { 'Content-Type': 'text/plain; version=0.0.4; charset=utf-8' };\nmsg.payload = out.join('\\n') + '\\n';\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2230,
        "y": 1200,
        "wires": [
            [
                "876a5a5bb0df0427"
            ]
        ]
    },
    {
        "id": "876a5a5bb0df0427",
        "type": "http response",
        "z": "9021aeb4a5054e01",
        "name": "HTTP Response",
        "statusCode": "",
        "headers": {},
        "x": 2520,
        "y": 1200,
        "wires": []
    },
    {
        "id": "2fe4b20510a3b452",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A01-Co2Avg out",
        "mode": "link",
        "links": [
            "2cec8c3747c8c28b"
        ],
        "x": 1665,
        "y": 360,
        "wires": []
    },
    {
        "id": "d12766d82c9b7c2c",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A01-Co2Row out",
        "mode": "link",
        "links": [
            "952dd616ad99d809"
        ],
        "x": 1665,
        "y": 400,
        "wires": []
    },
    {
        "id": "77186b46c1c6f684",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A01-inT out",
        "mode": "link",
        "links": [
            "f3d686166b1bebab"
        ],
        "x": 1665,
        "y": 440,
        "wires": []
    },
    {
        "id": "38a67048904bae76",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A01-inRH Out",
        "mode": "link",
        "links": [
            "51d5d7840b6ce935"
        ],
        "x": 1665,
        "y": 480,
        "wires": []
    },
    {
        "id": "97a40ff172f7c369",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A02-Co2Avg out",
        "mode": "link",
        "links": [
            "6d1476f303b06de3"
        ],
        "x": 1665,
        "y": 40,
        "wires": [],
        "info": "test"
    },
    {
        "id": "de0b61ccf22729be",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A02-Co2Row out",
        "mode": "link",
        "links": [
            "2cd64afefaaa3b1e"
        ],
        "x": 1665,
        "y": 80,
        "wires": []
    },
    {
        "id": "ea3a803bf58158b8",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A02-inT out",
        "mode": "link",
        "links": [
            "c24802f6ed886eec"
        ],
        "x": 1665,
        "y": 120,
        "wires": []
    },
    {
        "id": "d38fdcead7a8e49e",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A02-inRH Out",
        "mode": "link",
        "links": [
            "89dd3844580081fc"
        ],
        "x": 1665,
        "y": 160,
        "wires": []
    },
    {
        "id": "8c3a5e061bbf1a63",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A11-Co2Avg out",
        "mode": "link",
        "links": [
            "519fbcdd2decefc5"
        ],
        "x": 1665,
        "y": 520,
        "wires": []
    },
    {
        "id": "15fb12529250b7c6",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A11-Co2Row out",
        "mode": "link",
        "links": [
            "333c42ef7f1b9c66"
        ],
        "x": 1665,
        "y": 560,
        "wires": []
    },
    {
        "id": "8e9337e0fb322418",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A11-inT out",
        "mode": "link",
        "links": [
            "73d776429fc3221b"
        ],
        "x": 1665,
        "y": 600,
        "wires": []
    },
    {
        "id": "b8257356967d6e99",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A11-inRH Out",
        "mode": "link",
        "links": [
            "14b1e7bfb9616786"
        ],
        "x": 1665,
        "y": 640,
        "wires": []
    },
    {
        "id": "60b1daa4a161202b",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A12-Co2Avg out",
        "mode": "link",
        "links": [
            "e37bf05f3873a9e4"
        ],
        "x": 1665,
        "y": 200,
        "wires": []
    },
    {
        "id": "102bc0bfdc9ecf52",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A12-Co2Row out",
        "mode": "link",
        "links": [
            "edd6c06fce40180b"
        ],
        "x": 1665,
        "y": 240,
        "wires": []
    },
    {
        "id": "6b3d33d2e75b2eba",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A12-inT out",
        "mode": "link",
        "links": [
            "2636ec90eecc382c"
        ],
        "x": 1665,
        "y": 280,
        "wires": []
    },
    {
        "id": "ef11a14fb248fc1a",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A12-inRH Out",
        "mode": "link",
        "links": [
            "89d2c686e0c4a5a0"
        ],
        "x": 1665,
        "y": 320,
        "wires": []
    },
    {
        "id": "bfa95a93f030461a",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "1A02 data",
        "info": "",
        "x": 1800,
        "y": 40,
        "wires": []
    },
    {
        "id": "8c7c76e221f66967",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "2A12 data",
        "info": "",
        "x": 1800,
        "y": 180,
        "wires": []
    },
    {
        "id": "944e235f5567fbf2",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "1A01 data",
        "info": "",
        "x": 1800,
        "y": 360,
        "wires": []
    },
    {
        "id": "4fd9961d08c1e7d1",
        "type": "comment",
        "z": "9021aeb4a5054e01",
        "name": "2A11 data",
        "info": "",
        "x": 1800,
        "y": 520,
        "wires": []
    },
    {
        "id": "5e90321fa45c2f64",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A05-DP Out",
        "mode": "link",
        "links": [
            "097a2e6092709e49"
        ],
        "x": 1665,
        "y": 680,
        "wires": []
    },
    {
        "id": "0d5370eb40b96ebe",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A15-DP Out",
        "mode": "link",
        "links": [
            "deb1f7c8dc4b6bd7"
        ],
        "x": 1665,
        "y": 720,
        "wires": []
    },
    {
        "id": "a4ae88f8be5b0a18",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A08-T Out",
        "mode": "link",
        "links": [
            "f7d8a36bf775be86"
        ],
        "x": 1665,
        "y": 760,
        "wires": []
    },
    {
        "id": "d9939455b597942c",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A18-T Out",
        "mode": "link",
        "links": [
            "9bfe31c94eb68dda"
        ],
        "x": 1665,
        "y": 800,
        "wires": []
    },
    {
        "id": "780537af99f0b7dd",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1A08-VEL 1VEL-CLMN out",
        "mode": "link",
        "links": [
            "c0d5fe032c9722f4"
        ],
        "x": 1665,
        "y": 840,
        "wires": []
    },
    {
        "id": "0f57fe5811dcfadf",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2A18-VEL 2VEL-CLMN out",
        "mode": "link",
        "links": [
            "71ae083f5293dcef"
        ],
        "x": 1665,
        "y": 880,
        "wires": []
    },
    {
        "id": "63af882d9f8dfad7",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1EM-3A20 out",
        "mode": "link",
        "links": [
            "1a84d12f15a0dcd6"
        ],
        "x": 1665,
        "y": 920,
        "wires": []
    },
    {
        "id": "91c91af14c18f6ba",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2EM-3A21 out",
        "mode": "link",
        "links": [
            "84a28312704be845"
        ],
        "x": 1665,
        "y": 960,
        "wires": []
    },
    {
        "id": "0424567a092b7029",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "Sensor CSV Log",
        "mode": "link",
        "links": [
            "6a39c574f75a81cf"
        ],
        "x": 1665,
        "y": 1160,
        "wires": []
    },
    {
        "id": "2c836a6e0103585d",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "PID CLM 1 out",
        "mode": "link",
        "links": [
            "b56b82010978d766"
        ],
        "x": 1665,
        "y": 1000,
        "wires": []
    },
    {
        "id": "0826e22f3b73ada9",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "PID CLMN 2 out",
        "mode": "link",
        "links": [
            "78722cf9cea4aede"
        ],
        "x": 1665,
        "y": 1040,
        "wires": []
    },
    {
        "id": "7d59807fc5d2ed01",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "1FN01 out",
        "mode": "link",
        "links": [
            "657aba7cd2ff0d45"
        ],
        "x": 1665,
        "y": 1080,
        "wires": []
    },
    {
        "id": "23e362462151b2af",
        "type": "link out",
        "z": "9021aeb4a5054e01",
        "name": "2FN11 out",
        "mode": "link",
        "links": [
            "7dcd367feeedf273"
        ],
        "x": 1665,
        "y": 1120,
        "wires": []
    },
    {
        "id": "e0ade12eb0bf76c6",
        "type": "switch",
        "z": "9021aeb4a5054e01",
        "name": "test mode",
        "property": "TestMode",
        "propertyType": "env",
        "rules": [
            {
                "t": "true"
            },
            {
                "t": "false"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1020,
        "y": 340,
        "wires": [
            [],
            [
                "372d564522f94c72"
            ]
        ]
    },
    {
        "id": "d3a14c48a382d583",
        "type": "modbus-flex-write",
        "z": "ab6b047640b7f520",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "d3e8251c2f05a30e",
        "emptyMsgOnFail": true,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1850,
        "y": 380,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2a5e26aac3a11549",
        "type": "ui-slider",
        "z": "ab6b047640b7f520",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_Speed",
        "label": "Frequency",
        "tooltip": "",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "5",
        "className": "my-slider",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 420,
        "y": 820,
        "wires": [
            [
                "8d7c35a9edf1674f"
            ]
        ]
    },
    {
        "id": "be18256e96d705ef",
        "type": "ui-slider",
        "z": "ab6b047640b7f520",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_Speed",
        "label": "Frequency",
        "tooltip": "",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "5",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1260,
        "y": 820,
        "wires": [
            [
                "b83fca515f01b8c9"
            ]
        ]
    },
    {
        "id": "48b746d078e6c22b",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_ON",
        "label": "Motor (1FN01) ON",
        "order": 4,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 1,   \"unitid\": 101 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 450,
        "y": 620,
        "wires": [
            [
                "cc71a2eb6b1371c3"
            ]
        ]
    },
    {
        "id": "5c3020a62011a7f5",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_OFF",
        "label": "Motor OFF",
        "order": 5,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 0,   \"unitid\": 101 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 450,
        "y": 660,
        "wires": [
            [
                "cc71a2eb6b1371c3"
            ]
        ]
    },
    {
        "id": "379feb99807ff623",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_ON",
        "label": "Motor (2FN11) ON",
        "order": 4,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 1,   \"unitid\": 201 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1230,
        "y": 660,
        "wires": [
            [
                "77c9a6b7f4a9b0c6"
            ]
        ]
    },
    {
        "id": "480407a735963f23",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_OFF",
        "label": "Motor OFF",
        "order": 5,
        "width": "2",
        "height": "2",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1798,   \"value\": 0,   \"unitid\": 201 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1230,
        "y": 700,
        "wires": [
            [
                "77c9a6b7f4a9b0c6"
            ]
        ]
    },
    {
        "id": "fa9dd67ed5cb6dd2",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "b135539d7634acf8",
        "name": "CTRL_1FN01_ApplySpeed",
        "label": "Set",
        "order": 6,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1797,   \"unitid\": 101 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 480,
        "y": 700,
        "wires": [
            [
                "cc71a2eb6b1371c3"
            ]
        ]
    },
    {
        "id": "2d9a9d22c2943605",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "13816c2f51c27294",
        "name": "CTRL_2FN11_ApplySpeed",
        "label": "Set",
        "order": 6,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{   \"address\": 1797,   \"unitid\": 201 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1260,
        "y": 740,
        "wires": [
            [
                "77c9a6b7f4a9b0c6"
            ]
        ]
    },
    {
        "id": "8d7c35a9edf1674f",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "Store Slider Val Globally",
        "func": "// Store the current slider value in flow.leftSliderValue\nflow.set(\"leftSliderValue\", msg.payload);\n\n// Optional warning for debugging\n//node.warn(\"Slider left value stored in flow context: \" + msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "b83fca515f01b8c9",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "Store Slider Val Globally",
        "func": "// Store the current slider value in flow.leftSliderValue\nflow.set(\"rightSliderValue\", msg.payload);\n\n// Optional warning for debugging\n//node.warn(\"Slider Right value stored in flow context: \" + msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "cc71a2eb6b1371c3",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "Mb Packet Left",
        "func": "if (msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n\n    let val;\n\n    // If value is provided in the payload, use it\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    }\n    // Otherwise, get it from the stored slider value\n    else {\n        val = flow.get(\"leftSliderValue\");\n        if (val === undefined || isNaN(val)) {\n            node.warn(\"Slider value not set or invalid, defaulting to 0\");\n            val = 0;\n        }\n        val = Number(val) * 100;\n    }\n\n    // Build Modbus packet (same as before)\n    msg.payload = {\n        fc: 6,\n        unitid: Number(msg.payload.unitid),\n        address: Number(msg.payload.address),\n        quantity: 1,\n        value: [val]\n    };\n\n    return msg;\n}\n// Ignore other messages\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 620,
        "wires": [
            [
                "d3a14c48a382d583"
            ]
        ]
    },
    {
        "id": "77c9a6b7f4a9b0c6",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "Mb Packet Right",
        "func": "if (msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n\n    let val;\n\n    // If value is provided in the payload, use it\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    }\n    // Otherwise, get it from the stored slider value\n    else {\n        val = flow.get(\"rightSliderValue\");\n        if (val === undefined || isNaN(val)) {\n            node.warn(\"Slider value not set or invalid, defaulting to 0\");\n            val = 0;\n        }\n        val = Number(val) * 100;\n    }\n\n    // Build Modbus Flex Write payload\n    msg.payload = {\n        fc: 6,                               // Write Single Register\n        unitid: Number(msg.payload.unitid),  // From button\n        address: Number(msg.payload.address),// From button\n        quantity: 1,\n        value: [val]                         // From slider or fixed button value\n    };\n\n    return msg;\n}\n\n// Ignore other messages\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 620,
        "wires": [
            [
                "d3a14c48a382d583"
            ]
        ]
    },
    {
        "id": "51efaf528dddbf6b",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "30",
        "payloadType": "num",
        "x": 1115,
        "y": 820,
        "wires": [
            [
                "be18256e96d705ef"
            ]
        ],
        "l": false
    },
    {
        "id": "a9ed6b6f70440874",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_ON",
        "label": "Heater (1H01) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 103, \"address\": 15, \"value\": 0 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 610,
        "y": 280,
        "wires": [
            [
                "9b366f1d102bbab9"
            ]
        ]
    },
    {
        "id": "e99a0ccd94eada82",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_OFF",
        "label": "Heater OFF",
        "order": 3,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 103, \"address\": 15, \"value\": 2 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 610,
        "y": 240,
        "wires": [
            [
                "9b366f1d102bbab9"
            ]
        ]
    },
    {
        "id": "02cb40b51c6437f4",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "1150877cb6638246",
        "name": "CTRL_2H11_ON",
        "label": "Heater (2H11) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 203, \"address\": 15, \"value\": 0 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1310,
        "y": 240,
        "wires": [
            [
                "7f64042aa094a7d7"
            ]
        ]
    },
    {
        "id": "83f708616cf75d00",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "1150877cb6638246",
        "name": "CTRL_2H11_OFF",
        "label": "Heater OFF",
        "order": 3,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 203, \"address\": 15, \"value\": 2 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1310,
        "y": 200,
        "wires": [
            [
                "7f64042aa094a7d7"
            ]
        ]
    },
    {
        "id": "d0e84eec94bfa0c0",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_ApplySetpoint",
        "label": "Set",
        "order": 7,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 103, \"address\": 6 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 640,
        "y": 200,
        "wires": [
            [
                "9b366f1d102bbab9"
            ]
        ]
    },
    {
        "id": "397b0c759c247e87",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "1150877cb6638246",
        "name": "CTRL_2H11_ApplySetpoint",
        "label": "Set",
        "order": 7,
        "width": "1",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"unitid\": 203, \"address\": 6 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 1340,
        "y": 160,
        "wires": [
            [
                "7f64042aa094a7d7"
            ]
        ]
    },
    {
        "id": "9b366f1d102bbab9",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "1SV Set",
        "func": "// Expects: msg.payload = { address:<number>, unitid:<number> }\n// Optional: msg.payload.value -> write this (integer)\n// If address = SP (6..9 or 16): falls back to leftSliderPIDValue if no value\n// If address = 15: Control Status (0=Auto,1=Manual,2=Standby)\n\nif (msg && msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n    if (typeof msg.payload === \"string\") {\n        try { msg.payload = JSON.parse(msg.payload); }\n        catch(e) { node.error(\"Button payload is not valid JSON\", msg); return null; }\n    }\n\n    const unitid  = Number(msg.payload.unitid);\n    const address = Number(msg.payload.address);\n\n    if (!Number.isInteger(unitid) || unitid <= 0) { node.error(\"Invalid unitid\", msg); return null; }\n    if (!Number.isInteger(address) || address < 0) { node.error(\"Invalid address\", msg); return null; }\n\n    let val;\n\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    } else {\n        // For SP registers only → fallback to slider\n        if ([6,7,8,9,16].includes(address)) {\n            val = flow.get(\"leftSliderPIDValue\");\n            if (val === undefined || isNaN(val)) {\n                node.warn(\"leftSliderPIDValue not set, defaulting to 0\");\n                val = 0;\n            }\n            val = Math.round(val);\n            if (val < 0) val = 0;\n            if (val > 55) val = 55;\n        } else {\n            node.error(\"No value provided for non-SP address\", msg);\n            return null;\n        }\n    }\n\n    // Build Flex Write\n    msg.payload = {\n        fc: 6,\n        unitid,\n        address,     // zero-based offset\n        quantity: 1,\n        value: [ val ]\n    };\n\n    node.status({ fill: \"green\", shape: \"dot\", text: `Write ${val} @U${unitid}:${address}` });\n    return msg;\n}\n\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 240,
        "wires": [
            [
                "d3a14c48a382d583",
                "ef6b2674745c41ae"
            ]
        ]
    },
    {
        "id": "6b7fdff09cda510b",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 425,
        "y": 160,
        "wires": [
            [
                "d0e84eec94bfa0c0"
            ]
        ],
        "l": false
    },
    {
        "id": "7f64042aa094a7d7",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "2SV Set",
        "func": "// Expects: msg.payload = { address:<number>, unitid:<number> }\n// Optional: msg.payload.value -> write this (integer)\n// If address = SP (6..9 or 16): falls back to rihghtSliderPIDValue if no value\n// If address = 15: Control Status (0=Auto,1=Manual,2=Standby)\n\nif (msg && msg.payload && msg.payload.address !== undefined && msg.payload.unitid !== undefined) {\n    if (typeof msg.payload === \"string\") {\n        try { msg.payload = JSON.parse(msg.payload); }\n        catch(e) { node.error(\"Button payload is not valid JSON\", msg); return null; }\n    }\n\n    const unitid  = Number(msg.payload.unitid);\n    const address = Number(msg.payload.address);\n\n    if (!Number.isInteger(unitid) || unitid <= 0) { node.error(\"Invalid unitid\", msg); return null; }\n    if (!Number.isInteger(address) || address < 0) { node.error(\"Invalid address\", msg); return null; }\n\n    let val;\n\n    if (msg.payload.value !== undefined) {\n        val = Number(msg.payload.value);\n    } else {\n        // For SP registers only → fallback to slider\n        if ([6,7,8,9,16].includes(address)) {\n            val = flow.get(\"rightSliderPIDValue\");\n            if (val === undefined || isNaN(val)) {\n                node.warn(\"rightSliderPIDValue not set, defaulting to 0\");\n                val = 0;\n            }\n            val = Math.round(val);\n            if (val < 0) val = 0;\n            if (val > 55) val = 55;\n        } else {\n            node.error(\"No value provided for non-SP address\", msg);\n            return null;\n        }\n    }\n\n    // Build Flex Write\n    msg.payload = {\n        fc: 6,\n        unitid,\n        address,     // zero-based offset\n        quantity: 1,\n        value: [ val ]\n    };\n\n    node.status({ fill: \"green\", shape: \"dot\", text: `Write ${val} @U${unitid}:${address}` });\n    return msg;\n}\n\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1560,
        "y": 280,
        "wires": [
            [
                "d3a14c48a382d583"
            ]
        ]
    },
    {
        "id": "3d9972f6e3a7316c",
        "type": "serial request",
        "z": "ab6b047640b7f520",
        "name": "",
        "serial": "c2b3dd79366cad0c",
        "x": 910,
        "y": 1240,
        "wires": [
            [
                "4b9704e85955db8a"
            ]
        ]
    },
    {
        "id": "97d0a3ca425f544b",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "function 5",
        "func": "// Inputs:\n// msg.payload = { relay: N, state: \"ON\" or \"OFF\", bankByte: <number> }\n\nconst relayNum = msg.payload.relay;\nconst state = msg.payload.state.toUpperCase();\nconst bankByte = msg.payload.bankByte;\n\nif (relayNum < 1 || relayNum > 8) {\n    node.error(\"Relay number must be 1 to 8\", msg);\n    return null;\n}\n\nif (typeof bankByte !== 'number') {\n    node.error(\"bankByte must be a number\", msg);\n    return null;\n}\n\nconst header = 0xAA;\nconst cmd1 = 0x03;\nconst cmd2 = 0xFE;\n\nlet relayByte;\nif (state === \"ON\") {\n    relayByte = 108 + (relayNum - 1);\n} else if (state === \"OFF\") {\n    relayByte = 100 + (relayNum - 1);\n} else {\n    node.error(\"State must be ON or OFF\", msg);\n    return null;\n}\n\nconst command = [header, cmd1, cmd2, relayByte, bankByte];\nconst checksum = command.reduce((sum, b) => sum + b, 0) % 256;\ncommand.push(checksum);\n\nmsg.payload = Buffer.from(command);\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 1240,
        "wires": [
            [
                "3d9972f6e3a7316c"
            ]
        ]
    },
    {
        "id": "4b9704e85955db8a",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "function 7",
        "func": "let bytes = msg.payload;\n\nif (!Buffer.isBuffer(bytes)) {\n    //node.error(\"Payload is not a Buffer\", msg);\n    return null;\n}\n\nif (bytes.length !== 4) {\n    //node.error(\"Invalid response length\", msg);\n    return null;\n}\n\nconst header1 = bytes[0];\nconst header2 = bytes[1];\nconst dataByte = bytes[2];\nconst checksum = bytes[3];\n\n// Validate headers\nif (header1 !== 0xAA || header2 !== 0x01) {\n    //node.error(\"Invalid response header\", msg);\n    return null;\n}\n\n// Calculate expected checksum\nconst calcChecksum = (header1 + header2 + dataByte) % 256;\nif (calcChecksum !== checksum) {\n    node.error(`Checksum mismatch. Got ${checksum}, expected ${calcChecksum}`, msg);\n    return null;\n}\n\nif (checksum === 0x00) {\n    // On/off response - just send null on all outputs to keep ui-leds unchanged\n    return [null, null, null, null, null, null, null, null];\n} else {\n    // Status response - send relay states on outputs 1-8\n    let msgs = [];\n    for (let i = 0; i < 8; i++) {\n        msgs.push({\n            topic: `relay${i + 1}`,\n            payload: !!((dataByte >> i) & 1)\n        });\n    }\n    return msgs;\n}\n",
        "outputs": 8,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 1240,
        "wires": [
            [
                "6d8c8f96ccc46f25"
            ],
            [
                "82ba1a0b6d62cda2"
            ],
            [
                "15c9c999856cf4c2"
            ],
            [
                "8f6d8cebec3ca8f6"
            ],
            [
                "89ab02e5b9c057e6"
            ],
            [
                "23b11ba9249a985e"
            ],
            [],
            []
        ]
    },
    {
        "id": "b5c1d0410c49f85a",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "function 8",
        "func": "const command = [0xAA, 0x03, 0xFE, 0x7C, 0x01];\nconst checksum = command.reduce((sum, b) => sum + b, 0) % 256;\ncommand.push(checksum);\n\nmsg.payload = Buffer.from(command);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1320,
        "wires": [
            [
                "3d9972f6e3a7316c"
            ]
        ]
    },
    {
        "id": "4343c51f382be0dd",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Check Status - Auto 1s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 950,
        "y": 1380,
        "wires": [
            [
                "b5c1d0410c49f85a"
            ]
        ]
    },
    {
        "id": "c8423f5a7bd10dbf",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "c34f777b31ff0d3e",
        "name": "CTRL_1W01_ON",
        "label": "1W01 (WATER) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 1, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 370,
        "y": 1040,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "d0f25bcea0234fe9",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "c34f777b31ff0d3e",
        "name": "CTRL_1W01_OFF",
        "label": "1W01 OFF",
        "order": 2,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 1, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 690,
        "y": 1040,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "72660f4581ce1b96",
        "type": "comment",
        "z": "ab6b047640b7f520",
        "name": "Column 2 (Relay 5 to 8)",
        "info": "",
        "x": 1620,
        "y": 1440,
        "wires": []
    },
    {
        "id": "f8f77594e928eb03",
        "type": "ui-led",
        "z": "ab6b047640b7f520",
        "name": "1W01LedLeft",
        "group": "c34f777b31ff0d3e",
        "order": 3,
        "width": "2",
        "height": "1",
        "label": "1W01 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1630,
        "y": 1020,
        "wires": []
    },
    {
        "id": "55ec59af434bebd2",
        "type": "ui-led",
        "z": "ab6b047640b7f520",
        "name": "2W11LedRight",
        "group": "6cf2ef424cfcf0b9",
        "order": 3,
        "width": "2",
        "height": "1",
        "label": "2W11 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1620,
        "y": 1260,
        "wires": []
    },
    {
        "id": "73c961e788b6356e",
        "type": "ui-led",
        "z": "ab6b047640b7f520",
        "name": "1V03LedLeft",
        "group": "c34f777b31ff0d3e",
        "order": 6,
        "width": "2",
        "height": "1",
        "label": "1V03 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1630,
        "y": 1080,
        "wires": []
    },
    {
        "id": "a247a820b899f0c1",
        "type": "ui-led",
        "z": "ab6b047640b7f520",
        "name": "1V02LedLeft",
        "group": "c34f777b31ff0d3e",
        "order": 9,
        "width": "2",
        "height": "1",
        "label": "1V02 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1630,
        "y": 1140,
        "wires": []
    },
    {
        "id": "a140234050ab1c80",
        "type": "ui-led",
        "z": "ab6b047640b7f520",
        "name": "2V12LedRight",
        "group": "6cf2ef424cfcf0b9",
        "order": 9,
        "width": "2",
        "height": "1",
        "label": "2V12 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1620,
        "y": 1320,
        "wires": []
    },
    {
        "id": "2c6e9de4a989befd",
        "type": "ui-led",
        "z": "ab6b047640b7f520",
        "name": "2V13LedRight",
        "group": "6cf2ef424cfcf0b9",
        "order": 6,
        "width": "2",
        "height": "1",
        "label": "2V13 Status",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1620,
        "y": 1380,
        "wires": []
    },
    {
        "id": "5728a06bf9cf457e",
        "type": "comment",
        "z": "ab6b047640b7f520",
        "name": "column 1 (Relay 1 to 4)",
        "info": "",
        "x": 1540,
        "y": 960,
        "wires": []
    },
    {
        "id": "88780ea2d55708a6",
        "type": "comment",
        "z": "ab6b047640b7f520",
        "name": "Column 1 (Relay 1 to 4)",
        "info": "",
        "x": 400,
        "y": 980,
        "wires": []
    },
    {
        "id": "76014f0075a7caed",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "6cf2ef424cfcf0b9",
        "name": "Relay 2W11 ON",
        "label": "2W11 (WATER) ON",
        "order": 1,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 2, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 360,
        "y": 1520,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "bb3341fc9910888e",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "6cf2ef424cfcf0b9",
        "name": "Relay 2W11 OFF",
        "label": "2W11 OFF",
        "order": 2,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 2, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1520,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "59f8cc0701f4a40b",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "c34f777b31ff0d3e",
        "name": "1V03 ON",
        "label": "1V03 (TO GRH) ON",
        "order": 4,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 3, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 320,
        "y": 1120,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "99517d15e1f13348",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "c34f777b31ff0d3e",
        "name": "1V03 OFF",
        "label": "1V03 OFF",
        "order": 5,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 3, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1120,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "a8089b53872c66be",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "c34f777b31ff0d3e",
        "name": "1V02 ON",
        "label": "1V02 (TO AMB) ON",
        "order": 7,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{\"relay\":4,\"state\":\"ON\",\"bankByte\":1}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 340,
        "y": 1160,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "896da7a952a2ca3c",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "c34f777b31ff0d3e",
        "name": "1V02 OFF",
        "label": "1V02 OFF",
        "order": 8,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 4, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1160,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "addc92f9d6fed4c0",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V12 ON",
        "label": "2V12 (TO AMB) ON",
        "order": 7,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 5, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 360,
        "y": 1380,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "bb9941bac23340be",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V12 OFF",
        "label": "2V12 OFF",
        "order": 8,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 5, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1380,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "3e6f97b1c10c010b",
        "type": "comment",
        "z": "ab6b047640b7f520",
        "name": "Column 2 (Relay 5 to 8)",
        "info": "",
        "x": 400,
        "y": 1340,
        "wires": []
    },
    {
        "id": "72563350b02cc343",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V13 ON",
        "label": "2V13 (TO GRH) ON",
        "order": 4,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 6, \"state\": \"ON\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "green",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 360,
        "y": 1420,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "04c89f784d1a401d",
        "type": "ui-button",
        "z": "ab6b047640b7f520",
        "group": "6cf2ef424cfcf0b9",
        "name": "2V13 OFF",
        "label": "2V13 OFF",
        "order": 5,
        "width": "2",
        "height": "1",
        "emulateClick": true,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "right",
        "payload": "{ \"relay\": 6, \"state\": \"OFF\", \"bankByte\": 1 }",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "red",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 670,
        "y": 1420,
        "wires": [
            [
                "97d0a3ca425f544b"
            ]
        ]
    },
    {
        "id": "6c6f8327e4ef2f90",
        "type": "comment",
        "z": "ab6b047640b7f520",
        "name": "Timeout 1000ms",
        "info": "",
        "x": 900,
        "y": 1200,
        "wires": []
    },
    {
        "id": "3b5fd943ca3bb53a",
        "type": "comment",
        "z": "ab6b047640b7f520",
        "name": "Trigger Status check every 1s",
        "info": "",
        "x": 980,
        "y": 1420,
        "wires": []
    },
    {
        "id": "6d8c8f96ccc46f25",
        "type": "change",
        "z": "ab6b047640b7f520",
        "name": "Log W1LedLeft_status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.W1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "1W01Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1020,
        "wires": [
            [
                "f8f77594e928eb03",
                "4bb0ee40ded7af87"
            ]
        ]
    },
    {
        "id": "15c9c999856cf4c2",
        "type": "change",
        "z": "ab6b047640b7f520",
        "name": "Log RD1LedLeft_status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.D1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "1V03Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 1080,
        "wires": [
            [
                "73c961e788b6356e",
                "4bb0ee40ded7af87"
            ]
        ]
    },
    {
        "id": "82ba1a0b6d62cda2",
        "type": "change",
        "z": "ab6b047640b7f520",
        "name": "Log W2LedRight state",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.W2",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "2W11Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 1260,
        "wires": [
            [
                "55ec59af434bebd2",
                "4bb0ee40ded7af87"
            ]
        ]
    },
    {
        "id": "8f6d8cebec3ca8f6",
        "type": "change",
        "z": "ab6b047640b7f520",
        "name": "Log RA1LedLeft_status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.A1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "1V02Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1370,
        "y": 1140,
        "wires": [
            [
                "a247a820b899f0c1",
                "4bb0ee40ded7af87"
            ]
        ]
    },
    {
        "id": "89ab02e5b9c057e6",
        "type": "change",
        "z": "ab6b047640b7f520",
        "name": "Log RA2LedRight",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.A2",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "2V12Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 1320,
        "wires": [
            [
                "a140234050ab1c80",
                "4bb0ee40ded7af87"
            ]
        ]
    },
    {
        "id": "23b11ba9249a985e",
        "type": "change",
        "z": "ab6b047640b7f520",
        "name": "Log RD2LedRight",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Relay.D2",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "2V13Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 1380,
        "wires": [
            [
                "2c6e9de4a989befd",
                "4bb0ee40ded7af87"
            ]
        ]
    },
    {
        "id": "4bb0ee40ded7af87",
        "type": "link out",
        "z": "ab6b047640b7f520",
        "name": "Relays status CSV logger",
        "mode": "link",
        "links": [
            "6a39c574f75a81cf"
        ],
        "x": 1765,
        "y": 1180,
        "wires": []
    },
    {
        "id": "4799b033a51a260b",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 415,
        "y": 400,
        "wires": [
            [
                "272aea9cfa6050fb"
            ]
        ],
        "l": false
    },
    {
        "id": "272aea9cfa6050fb",
        "type": "ui-slider",
        "z": "ab6b047640b7f520",
        "group": "7aa27d4b2d1c0ea6",
        "name": "CTRL_1H01_Setpoint",
        "label": "SV",
        "tooltip": "",
        "order": 8,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "2",
        "className": "my-slider",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 580,
        "y": 400,
        "wires": [
            [
                "77809b363092853b"
            ]
        ]
    },
    {
        "id": "77809b363092853b",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "1PID Slider Val",
        "func": "\nflow.set(\"leftSliderPIDValue\", msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "98e2961837744116",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 1145,
        "y": 380,
        "wires": [
            [
                "b3364a657e0f8436"
            ]
        ],
        "l": false
    },
    {
        "id": "b3364a657e0f8436",
        "type": "ui-slider",
        "z": "ab6b047640b7f520",
        "group": "1150877cb6638246",
        "name": "2PID Slider",
        "label": "SV",
        "tooltip": "",
        "order": 8,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "20",
        "max": "60",
        "step": "2",
        "className": "my-slider",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1280,
        "y": 380,
        "wires": [
            [
                "754b86d31607c0e7"
            ]
        ]
    },
    {
        "id": "754b86d31607c0e7",
        "type": "function",
        "z": "ab6b047640b7f520",
        "name": "2PID Slider Val",
        "func": "\nflow.set(\"rightSliderPIDValue\", msg.payload);\n\n// Do not send anything downstream\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1480,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "962ed7f4b121978f",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1FN01_ON in",
        "links": [
            "ff7341214a22508b",
            "fa6d858db77c9acf",
            "893bc293429c09aa"
        ],
        "x": 285,
        "y": 620,
        "wires": [
            [
                "48b746d078e6c22b"
            ]
        ]
    },
    {
        "id": "f891c7e34bac21b4",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1FN01_OFF in",
        "links": [
            "e8e73e462e78236d",
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d",
            "1f45f3e856c25745"
        ],
        "x": 285,
        "y": 660,
        "wires": [
            [
                "5c3020a62011a7f5"
            ]
        ]
    },
    {
        "id": "9fe8d5b4bdc03a43",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1FN01_ApplySpeed in",
        "links": [
            "c000a50ff806cc6c",
            "fa3d9b03a4b7d840",
            "d7f168a60869fcbe",
            "d23db37e6618c74d",
            "082ffe42d4c4ee61"
        ],
        "x": 285,
        "y": 700,
        "wires": [
            [
                "fa9dd67ed5cb6dd2"
            ]
        ]
    },
    {
        "id": "7ad7bde70695212f",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2FN11_ON in",
        "links": [],
        "x": 1075,
        "y": 660,
        "wires": [
            [
                "379feb99807ff623"
            ]
        ]
    },
    {
        "id": "99386fb9c3dbafc1",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2FN11_OFF in",
        "links": [
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d"
        ],
        "x": 1075,
        "y": 700,
        "wires": [
            [
                "480407a735963f23"
            ]
        ]
    },
    {
        "id": "1378c1d5ebb08407",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2FN11_ApplySpeed in",
        "links": [],
        "x": 1075,
        "y": 740,
        "wires": [
            [
                "2d9a9d22c2943605"
            ]
        ]
    },
    {
        "id": "e345219d2d18d6d7",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1H01_ApplySetpoint in",
        "links": [
            "fa3d9b03a4b7d840"
        ],
        "x": 425,
        "y": 200,
        "wires": [
            [
                "d0e84eec94bfa0c0"
            ]
        ]
    },
    {
        "id": "71ecf974b23a0568",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1H01_OFF in",
        "links": [
            "a03292c0bea308ac",
            "cceaf29472520ce1",
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d"
        ],
        "x": 415,
        "y": 240,
        "wires": [
            [
                "e99a0ccd94eada82"
            ]
        ]
    },
    {
        "id": "5553aaa637e267fb",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1H01_ON in",
        "links": [
            "0371a3fb8e30cb3d"
        ],
        "x": 415,
        "y": 280,
        "wires": [
            [
                "a9ed6b6f70440874"
            ]
        ]
    },
    {
        "id": "d24b14627d80dfe9",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2H11_ApplySetpoint in",
        "links": [],
        "x": 1135,
        "y": 160,
        "wires": [
            [
                "397b0c759c247e87"
            ]
        ]
    },
    {
        "id": "c01672e399954caa",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2H11_OFF in",
        "links": [
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d"
        ],
        "x": 1135,
        "y": 200,
        "wires": [
            [
                "83f708616cf75d00"
            ]
        ]
    },
    {
        "id": "a6cbf8657041af8c",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2H11_ON in",
        "links": [],
        "x": 1135,
        "y": 240,
        "wires": [
            [
                "02cb40b51c6437f4"
            ]
        ]
    },
    {
        "id": "144ab0e01fe98894",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1FN01_Speed in",
        "links": [
            "99fbfd992871e5ad",
            "4139c99d933c6615",
            "434aab6c708b932a",
            "5b71c621da2a29d6",
            "213d2dbfb8119e95"
        ],
        "x": 275,
        "y": 860,
        "wires": [
            [
                "2a5e26aac3a11549"
            ]
        ]
    },
    {
        "id": "901fbeec5ae7ecd7",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2FN11_Speed in",
        "links": [],
        "x": 1115,
        "y": 860,
        "wires": [
            [
                "be18256e96d705ef"
            ]
        ]
    },
    {
        "id": "71c4189bea96c09c",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "30",
        "payloadType": "num",
        "x": 275,
        "y": 820,
        "wires": [
            [
                "2a5e26aac3a11549"
            ]
        ],
        "l": false
    },
    {
        "id": "8455081bb4738b55",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1W01_ON in",
        "links": [
            "774657f71c1bc61e"
        ],
        "x": 245,
        "y": 1040,
        "wires": [
            [
                "c8423f5a7bd10dbf"
            ]
        ]
    },
    {
        "id": "bf1c544424eadbf8",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1W01_OFF in",
        "links": [
            "476c31ec9d392f8a",
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d"
        ],
        "x": 545,
        "y": 1040,
        "wires": [
            [
                "d0f25bcea0234fe9"
            ]
        ]
    },
    {
        "id": "93b789bcc3907053",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1V03_ON in",
        "links": [
            "60289543f0de3b18"
        ],
        "x": 215,
        "y": 1120,
        "wires": [
            [
                "59f8cc0701f4a40b"
            ]
        ]
    },
    {
        "id": "443d3afa06f7e3e5",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1V02_ON in",
        "links": [
            "fa6d858db77c9acf",
            "ff7341214a22508b",
            "f9ded39232025bab",
            "b3d393c762260c3a",
            "58888668826e5d92"
        ],
        "x": 235,
        "y": 1160,
        "wires": [
            [
                "a8089b53872c66be"
            ]
        ]
    },
    {
        "id": "faf81b990d1ae70e",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1V03_OFF in",
        "links": [
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d",
            "ff7341214a22508b",
            "1ee8aa68b553a93d",
            "58888668826e5d92"
        ],
        "x": 545,
        "y": 1120,
        "wires": [
            [
                "99517d15e1f13348"
            ]
        ]
    },
    {
        "id": "bcdcae869ad783bf",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1V02_OFF in",
        "links": [
            "e8e73e462e78236d",
            "f36efd8a2d681e4b",
            "41b0ff6d20845e9d",
            "60289543f0de3b18"
        ],
        "x": 545,
        "y": 1160,
        "wires": [
            [
                "896da7a952a2ca3c"
            ]
        ]
    },
    {
        "id": "846d0692c7204b8d",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_1H01_Setpoint in",
        "links": [
            "78ac0308dcc39614"
        ],
        "x": 405,
        "y": 440,
        "wires": [
            [
                "272aea9cfa6050fb"
            ]
        ]
    },
    {
        "id": "7a47d8533a7ddf3d",
        "type": "inject",
        "z": "ab6b047640b7f520",
        "name": "Start Value",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "20",
        "payloadType": "num",
        "x": 1125,
        "y": 120,
        "wires": [
            [
                "397b0c759c247e87"
            ]
        ],
        "l": false
    },
    {
        "id": "c50468253d56d408",
        "type": "link in",
        "z": "ab6b047640b7f520",
        "name": "CTRL_2H11_Setpoint in",
        "links": [],
        "x": 1155,
        "y": 460,
        "wires": [
            [
                "b3364a657e0f8436"
            ]
        ]
    },
    {
        "id": "ef6b2674745c41ae",
        "type": "debug",
        "z": "ab6b047640b7f520",
        "name": "debug 8",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 100,
        "wires": []
    },
    {
        "id": "5afede30517cc75e",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A01-Co2Avg",
        "group": "1b0119535e1d3350",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 480,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "f5f6738bfcf454c7",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A01-Co2Raw",
        "group": "1b0119535e1d3350",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 450,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "2cec8c3747c8c28b",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A01-Co2Avg in",
        "links": [
            "2fe4b20510a3b452",
            "552d9e271d7eb884"
        ],
        "x": 345,
        "y": 100,
        "wires": [
            [
                "5afede30517cc75e",
                "5cd13b172e3aff45"
            ]
        ]
    },
    {
        "id": "952dd616ad99d809",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A01-Co2Row in",
        "links": [
            "d12766d82c9b7c2c"
        ],
        "x": 315,
        "y": 200,
        "wires": [
            [
                "f5f6738bfcf454c7",
                "dda5d57e591708ea"
            ]
        ]
    },
    {
        "id": "17586d93bf393cb1",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A01-inT",
        "group": "1b0119535e1d3350",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 440,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "6cdd5c244373356a",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A01-inRH",
        "group": "1b0119535e1d3350",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 450,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "76b0adb05e1e5d5f",
        "type": "function",
        "z": "d2a853aa4cee757f",
        "name": "1A01- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"LD.Temp.C\" or \"LD.RH.%\"\nconst zone = \"LD\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT  = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\n// Cache latest readings in flow context\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\n// Retrieve stored values\nconst T  = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\n\n// Wait until both temperature and RH are available\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\n// --- Psychrometric formula for humidity ratio (kg water / kg dry air) ---\nconst P  = 1013.25; // hPa (standard atmospheric pressure)\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5)); // hPa\nconst Pv = (RH / 100) * es;                              // hPa\nconst w  = 0.622 * Pv / (P - Pv);                        // kg/kg\n\n// Round to 4 decimal places\nconst rounded = Math.round(w * 10000) / 10000;\n\nnode.status({ fill: 'yellow', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 480,
        "wires": [
            [
                "85e5457b0e39cdaf",
                "a152251870020b53"
            ]
        ]
    },
    {
        "id": "85e5457b0e39cdaf",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A01- Abs Hum",
        "group": "1b0119535e1d3350",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 680,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "f3d686166b1bebab",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A01-inT in",
        "links": [
            "77186b46c1c6f684",
            "e852b20dadee3b95"
        ],
        "x": 315,
        "y": 300,
        "wires": [
            [
                "17586d93bf393cb1",
                "76b0adb05e1e5d5f",
                "30249e6b36fd412d"
            ]
        ]
    },
    {
        "id": "51d5d7840b6ce935",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A01-inRH in",
        "links": [
            "38a67048904bae76",
            "ab259f57d4afffb6"
        ],
        "x": 315,
        "y": 380,
        "wires": [
            [
                "6cdd5c244373356a",
                "76b0adb05e1e5d5f",
                "e4649f45f74c387a"
            ]
        ]
    },
    {
        "id": "281cc31367ab73ad",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A02-Co2Avg",
        "group": "44de1c430cbb5601",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1400,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "09037199b399b7d0",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A02-Co2Raw",
        "group": "44de1c430cbb5601",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1400,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "c94057166a5c07af",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A02-outT",
        "group": "44de1c430cbb5601",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1390,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "47e22c1732cf2dfc",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A02-outRH",
        "group": "44de1c430cbb5601",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1390,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "027499a43c5830a4",
        "type": "function",
        "z": "d2a853aa4cee757f",
        "name": "1A02- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"LU.Temp.C\" or \"LU.RH.%\"\nconst zone = \"LU\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\n// Cache latest values\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\nconst T = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\n// --- Humidity ratio (kg water / kg dry air) ---\nconst P = 1013.25; // hPa\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5));\nconst Pv = (RH / 100) * es;\nconst w = 0.622 * Pv / (P - Pv); // kg/kg\n\nconst rounded = Math.round(w * 10000) / 10000;  // 4 decimal places\nnode.status({ fill: 'blue', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": "2",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 420,
        "wires": [
            [
                "8ee06fd3004b7644",
                "b39c7b2d2c0db7d3"
            ]
        ]
    },
    {
        "id": "8ee06fd3004b7644",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A02- Abs Hum",
        "group": "44de1c430cbb5601",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1620,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "6d1476f303b06de3",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A02-Co2Avg in",
        "links": [
            "97a40ff172f7c369",
            "ea4003615b2077a6"
        ],
        "x": 1235,
        "y": 80,
        "wires": [
            [
                "281cc31367ab73ad",
                "1d9ee5f5e491f516"
            ]
        ]
    },
    {
        "id": "2cd64afefaaa3b1e",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A02-Co2Row in",
        "links": [
            "de0b61ccf22729be"
        ],
        "x": 1235,
        "y": 160,
        "wires": [
            [
                "09037199b399b7d0",
                "50a491b4cb3b80a0"
            ]
        ]
    },
    {
        "id": "c24802f6ed886eec",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A02-inT in",
        "links": [
            "ea3a803bf58158b8",
            "6f49cdc8a3843697"
        ],
        "x": 1235,
        "y": 240,
        "wires": [
            [
                "c94057166a5c07af",
                "027499a43c5830a4",
                "96e907112016b3ce"
            ]
        ]
    },
    {
        "id": "89dd3844580081fc",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A02-inRH in",
        "links": [
            "d38fdcead7a8e49e",
            "df07c2e684c6dd3a"
        ],
        "x": 1235,
        "y": 320,
        "wires": [
            [
                "47e22c1732cf2dfc",
                "027499a43c5830a4",
                "ceb9e64c4c9bda7b"
            ]
        ]
    },
    {
        "id": "614ddfe825fd9dc9",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A05-DP",
        "group": "be8e2d192e710aa5",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Diff Pressure (1A05)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Pa",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "400",
                "color": "#5250e2",
                "text": "",
                "textType": "label"
            },
            {
                "from": "1000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 500,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "097a2e6092709e49",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A05-DP in",
        "links": [
            "5e90321fa45c2f64"
        ],
        "x": 340,
        "y": 620,
        "wires": [
            [
                "614ddfe825fd9dc9",
                "fe600f354336c342"
            ]
        ]
    },
    {
        "id": "f7d8a36bf775be86",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A08-T in",
        "links": [
            "a4ae88f8be5b0a18"
        ],
        "x": 335,
        "y": 720,
        "wires": [
            [
                "ca2395a9ef3ac369",
                "9e7801fb6de5cbda"
            ]
        ]
    },
    {
        "id": "ca2395a9ef3ac369",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A08-T",
        "group": "d0e68dc802300da0",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "EE650-Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 485,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "d5c8233c82e28458",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1A08-VEL",
        "group": "d0e68dc802300da0",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Air flow (m3/hr)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 710,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "f56f3db5462e2d33",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "calc-flow",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 25, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 840,
        "wires": [
            [
                "d5c8233c82e28458",
                "ad89f5e53bb2899f"
            ]
        ]
    },
    {
        "id": "90f1b4f28255e6b8",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1VEL-CLMN",
        "group": "d0e68dc802300da0",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Column Velocity (m/s)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 710,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "dd3b048ac1e5171a",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "calc-clmn vel",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 0.21673, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 920,
        "wires": [
            [
                "90f1b4f28255e6b8",
                "17dfe52ddd6bfe6c"
            ]
        ]
    },
    {
        "id": "c0d5fe032c9722f4",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1A08-VEL 1VEL-CLMN in",
        "links": [
            "780537af99f0b7dd"
        ],
        "x": 325,
        "y": 840,
        "wires": [
            [
                "f56f3db5462e2d33",
                "dd3b048ac1e5171a"
            ]
        ]
    },
    {
        "id": "db575e05932136f6",
        "type": "ui-led",
        "z": "d2a853aa4cee757f",
        "name": "Clm1- PID Status",
        "group": "7aa27d4b2d1c0ea6",
        "order": 2,
        "width": "2",
        "height": "1",
        "label": "Heater ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 910,
        "y": 1240,
        "wires": []
    },
    {
        "id": "5168ac2f5538bd41",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1PID SV",
        "group": "7aa27d4b2d1c0ea6",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Set Point Value - SV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 700,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "03349489b99ee32d",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1PID PV",
        "group": "7aa27d4b2d1c0ea6",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Measured Value - PV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 700,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "a42deab8cfaf6aaa",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1PID PecrentP",
        "group": "7aa27d4b2d1c0ea6",
        "order": 6,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Power Output - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 720,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "673dbd4c32f7c05d",
        "type": "function",
        "z": "d2a853aa4cee757f",
        "name": "PID Split- Clm1",
        "func": "// Outputs (5):\n// 1: PV (number)\n// 2: SP (number)\n// 3: Power % (number)\n// 4: Mode text (\"Auto\"/\"Manual\"/\"Standby\"/\"Unknown\")\n// 5: LED boolean (Auto=true; Manual/Standby/Unknown=false)\n\nconst r = msg.payload;\nif (!Array.isArray(r) || r.length < 15) {\n  node.error(\"PID block requires 15 registers (addr 1..15)\", msg);\n  return [null, null, null, null, null];\n}\n\n// dP and scaler\nconst dP = Number(r[1] || 0);\nconst scale = v => Math.round((v / Math.pow(10, dP)) * 100) / 100;\n\n// Decode basics\nconst pv = scale(r[0]);                          // addr 1\nconst sp = scale(r[2]);                          // addr 3 (operative SP)\nconst powerPct = Math.round((r[3] / 100) * 100) / 100; // addr 4 (2 implied dp)\nconst modeCode = Number(r[14] || 0);                   // addr 15 (0=Auto,1=Manual,2=Standby)\n\n// Text + LED boolean (Auto = true)\nconst modeText = (modeCode === 0) ? \"Auto\" : (modeCode === 1) ? \"Manual\" :\n  (modeCode === 2) ? \"Standby\" : \"Unknown\";\nconst ledOn = (modeCode === 0); // ONLY Auto turns the LED on\n\n// Status\n//node.status({\n//  fill: ledOn ? \"green\" : (modeCode === 2 ? \"grey\" : \"yellow\"),\n//  shape: \"dot\",\n//  text: `PV ${pv}  SP ${sp}  ${powerPct}%  ${modeText}`\n//});\n\n// Fan out\nreturn [\n  { topic: \"PID.PV\", payload: pv },\n  { topic: \"PID.SP\", payload: sp },\n  { topic: \"PID.Power.%\", payload: powerPct },\n  { topic: \"PID.Mode.Text\", payload: modeText },\n  { topic: \"PID.Mode.Boolean\", payload: ledOn }  // <-- wire this to ui_led\n];\n",
        "outputs": 5,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 1120,
        "wires": [
            [
                "03349489b99ee32d",
                "a575c396f2ce1499",
                "babc37789efbd98b"
            ],
            [
                "5168ac2f5538bd41"
            ],
            [
                "a42deab8cfaf6aaa"
            ],
            [],
            [
                "d197aa5e11da9358"
            ]
        ]
    },
    {
        "id": "d197aa5e11da9358",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "log 1H01 status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "L.1H01",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "1H01Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 720,
        "y": 1180,
        "wires": [
            [
                "db575e05932136f6",
                "2f9455eccb143f8a"
            ]
        ]
    },
    {
        "id": "2f9455eccb143f8a",
        "type": "link out",
        "z": "d2a853aa4cee757f",
        "name": "1H01 status CSV Log",
        "mode": "link",
        "links": [
            "6a39c574f75a81cf"
        ],
        "x": 865,
        "y": 1180,
        "wires": []
    },
    {
        "id": "b56b82010978d766",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "PID CLMN 1 in",
        "links": [
            "2c836a6e0103585d"
        ],
        "x": 275,
        "y": 1120,
        "wires": [
            [
                "673dbd4c32f7c05d"
            ]
        ]
    },
    {
        "id": "1ff08a61fea4ff70",
        "type": "ui-led",
        "z": "d2a853aa4cee757f",
        "name": "1FN01-LED",
        "group": "b135539d7634acf8",
        "order": 3,
        "width": "1",
        "height": "1",
        "label": "Motor ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1670,
        "y": 1000,
        "wires": []
    },
    {
        "id": "1768ad1a76ff14f7",
        "type": "ui-gauge",
        "z": "d2a853aa4cee757f",
        "name": "1FN01-freq",
        "group": "b135539d7634acf8",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "1",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Frequency- HZ",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "20",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "20",
        "max": "60",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1670,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "3ad85977fa31dbb2",
        "type": "function",
        "z": "d2a853aa4cee757f",
        "name": "split Clm1 drive",
        "func": "// Expect input: msg.payload = [frequency, power, current, voltage, motorLedRaw, extra1]\nif (!Array.isArray(msg.payload) || msg.payload.length < 6) {\n  node.error(\"Expected an array of 6 values: [f, p, i, v, motorLedRaw, extra1]\", msg);\n  return null;\n}\n\n// Destructure in correct order\nconst [fRaw, pRaw, iRaw, vRaw, motorLedRaw, extra1] = msg.payload;\n\n// helper: round to 2 dp\nconst r2 = n => Math.round(n * 100) / 100;\n\n// Scale per your spec\nconst frequencyHz = r2(fRaw / 100);   // Hz\nconst powerW      = r2(pRaw / 100);   // W\nconst currentA    = r2(iRaw / 100);   // A\nconst voltageV    = r2(vRaw / 10);    // V\nconst motorOn     = (motorLedRaw !== 0); // boolean\n\n// Six outputs: 1 Freq, 2 Power, 3 Current, 4 Voltage, 5 Motor LED, 6 Extra1\nreturn [\n  { topic: \"L.VFD.freq.Hz\",   payload: frequencyHz }, // Output 1\n  { topic: \"VFD.power.W\",   payload: powerW },      // Output 2\n  { topic: \"VFD.current.A\", payload: currentA },    // Output 3\n  { topic: \"VFD.voltage.V\", payload: voltageV },    // Output 4\n  { topic: \"VFD.motorLED\",  payload: motorOn },     // Output 5\n  { topic: \"VFD.extra1\",    payload: extra1 }       // Output 6\n];\n",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 980,
        "wires": [
            [
                "1768ad1a76ff14f7",
                "d150d3cf7193e769",
                "d93fe308ca8df5d7"
            ],
            [],
            [],
            [],
            [
                "1ff08a61fea4ff70",
                "e4236629ce8ff13c"
            ],
            []
        ]
    },
    {
        "id": "d150d3cf7193e769",
        "type": "link out",
        "z": "d2a853aa4cee757f",
        "name": "1FN01 freq CSV log",
        "mode": "link",
        "links": [
            "6a39c574f75a81cf"
        ],
        "x": 1785,
        "y": 920,
        "wires": []
    },
    {
        "id": "657aba7cd2ff0d45",
        "type": "link in",
        "z": "d2a853aa4cee757f",
        "name": "1FN01 in",
        "links": [
            "7d59807fc5d2ed01"
        ],
        "x": 1265,
        "y": 980,
        "wires": [
            [
                "3ad85977fa31dbb2"
            ]
        ]
    },
    {
        "id": "5cd13b172e3aff45",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-Co2Avg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "fe600f354336c342",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A05-DP",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 530,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "9e7801fb6de5cbda",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A08-T",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "ad89f5e53bb2899f",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A08-VEL",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "17dfe52ddd6bfe6c",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1VEL-CLMN",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "a575c396f2ce1499",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1PIDPV",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "d93fe308ca8df5d7",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1FN01Freq",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "1d9ee5f5e491f516",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-Co2Avg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "50a491b4cb3b80a0",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-Co2Raw",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "96e907112016b3ce",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-inT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "ceb9e64c4c9bda7b",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-inRH",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1420,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "b39c7b2d2c0db7d3",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A02-AbsHum",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "a152251870020b53",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-AbsHum",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "e4649f45f74c387a",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-inRH",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "dda5d57e591708ea",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-Co2Raw",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "30249e6b36fd412d",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1A01-inT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "babc37789efbd98b",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1PIDSV",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "e4236629ce8ff13c",
        "type": "change",
        "z": "d2a853aa4cee757f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "1FN01Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "cd80c026f70e420b",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A11-Co2Avg",
        "group": "b4e0dab4bd8c05b7",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 460,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "0bb05c2ff321526a",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A11-Co2Raw",
        "group": "b4e0dab4bd8c05b7",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 460,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "48c3714ccbe4e4f1",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A11-inT",
        "group": "b4e0dab4bd8c05b7",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 440,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "51e5562641d6ec7f",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A11-inRH",
        "group": "b4e0dab4bd8c05b7",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 450,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "7801b47279e65b7a",
        "type": "function",
        "z": "f9cdf73470cc790b",
        "name": "2A11- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"RD.Temp.C\" or \"RD.RH.%\"\nconst zone = \"RD\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\nconst T = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\nconst P = 1013.25; // hPa\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5));\nconst Pv = (RH / 100) * es;\nconst w = 0.622 * Pv / (P - Pv);\n\nconst rounded = Math.round(w * 10000) / 10000;\nnode.status({ fill: 'green', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 460,
        "wires": [
            [
                "c13a25fc4967eae3",
                "91a2637519e6129e"
            ]
        ]
    },
    {
        "id": "c13a25fc4967eae3",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A11- Abs Hum",
        "group": "b4e0dab4bd8c05b7",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 680,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "519fbcdd2decefc5",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A11-Co2Avg in",
        "links": [
            "8c3a5e061bbf1a63"
        ],
        "x": 325,
        "y": 140,
        "wires": [
            [
                "cd80c026f70e420b",
                "29cea1d961c41f7f"
            ]
        ]
    },
    {
        "id": "333c42ef7f1b9c66",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A11-Co2Row in",
        "links": [
            "15fb12529250b7c6"
        ],
        "x": 325,
        "y": 220,
        "wires": [
            [
                "0bb05c2ff321526a",
                "82194a855117c982"
            ]
        ]
    },
    {
        "id": "73d776429fc3221b",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A11-inT in",
        "links": [
            "8e9337e0fb322418"
        ],
        "x": 325,
        "y": 300,
        "wires": [
            [
                "48c3714ccbe4e4f1",
                "7801b47279e65b7a",
                "6afabf54ec9fed94"
            ]
        ]
    },
    {
        "id": "14b1e7bfb9616786",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A11-inRH in",
        "links": [
            "b8257356967d6e99"
        ],
        "x": 325,
        "y": 380,
        "wires": [
            [
                "51e5562641d6ec7f",
                "7801b47279e65b7a",
                "0ba01e2b0fec94d8"
            ]
        ]
    },
    {
        "id": "40d54915ba5eed1b",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A12-Co2Avg",
        "group": "ac6a5966878e6de8",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Avg - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1500,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "711965935401694f",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A12-Co2Raw",
        "group": "ac6a5966878e6de8",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Co2 Raw - ppm",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1500,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "ed2179f43c355fa8",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A12-outT",
        "group": "ac6a5966878e6de8",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1490,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "e47a8cbca1b27244",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A12-outRH",
        "group": "ac6a5966878e6de8",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Relative Humidity - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1490,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "34a5d93a84a7c73b",
        "type": "function",
        "z": "f9cdf73470cc790b",
        "name": "2A12- Abs Hum Calc",
        "func": "'use strict';\n\n// Expect msg.topic like \"RU.Temp.C\" or \"RU.RH.%\"\nconst zone = \"RU\";\nconst kind = String(msg.topic || '').toLowerCase();\n\nconst keyT  = `${zone}:T`;\nconst keyRH = `${zone}:RH`;\n\nif (kind.includes('temp.c')) {\n  const T = Number(msg.payload);\n  if (Number.isFinite(T)) flow.set(keyT, T);\n} else if (kind.includes('rh.%')) {\n  const RH = Number(msg.payload);\n  if (Number.isFinite(RH)) flow.set(keyRH, RH);\n}\n\nconst T  = Number(flow.get(keyT));\nconst RH = Number(flow.get(keyRH));\nif (!Number.isFinite(T) || !Number.isFinite(RH)) return null;\n\nconst P  = 1013.25; // hPa\nconst es = 6.112 * Math.exp((17.67 * T) / (T + 243.5));\nconst Pv = (RH / 100) * es;\nconst w  = 0.622 * Pv / (P - Pv);\n\nconst rounded = Math.round(w * 10000) / 10000;\nnode.status({ fill: 'purple', shape: 'dot', text: `${zone} w=${rounded} kg/kg` });\n\nreturn {\n  topic: `${zone}.HumidityRatio.kgkg`,\n  payload: rounded\n};\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1520,
        "y": 440,
        "wires": [
            [
                "7055503613148f6f",
                "6f8218d5e8dd1ce6"
            ]
        ]
    },
    {
        "id": "7055503613148f6f",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A12- Abs Hum",
        "group": "ac6a5966878e6de8",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": 3,
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Abs Hum (kgW/kgDA)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1720,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "e37bf05f3873a9e4",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A12-Co2Avg in",
        "links": [
            "60b1daa4a161202b"
        ],
        "x": 1335,
        "y": 120,
        "wires": [
            [
                "40d54915ba5eed1b",
                "8dbec8d1985c97ef"
            ]
        ]
    },
    {
        "id": "edd6c06fce40180b",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A12-Co2Row in",
        "links": [
            "102bc0bfdc9ecf52"
        ],
        "x": 1335,
        "y": 200,
        "wires": [
            [
                "711965935401694f",
                "3cb46e1294368267"
            ]
        ]
    },
    {
        "id": "2636ec90eecc382c",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A12-inT in",
        "links": [
            "6b3d33d2e75b2eba"
        ],
        "x": 1335,
        "y": 280,
        "wires": [
            [
                "ed2179f43c355fa8",
                "34a5d93a84a7c73b",
                "837351ba2e3567e2"
            ]
        ]
    },
    {
        "id": "89d2c686e0c4a5a0",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A12-inRH in",
        "links": [
            "ef11a14fb248fc1a"
        ],
        "x": 1335,
        "y": 320,
        "wires": [
            [
                "e47a8cbca1b27244",
                "34a5d93a84a7c73b",
                "ce7c8bfeb5a8e90d"
            ]
        ]
    },
    {
        "id": "3e481b51f816b9f3",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A18-T",
        "group": "c4b796b294db2552",
        "order": 3,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "EE650-Temperature - C",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 480,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "30148d395fbbfd1c",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A15-DP",
        "group": "14ffaba87334b6a7",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Diff Pressure (2A15)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Pa",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "400",
                "color": "#5250e2",
                "text": "",
                "textType": "label"
            },
            {
                "from": "1000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 480,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "deb1f7c8dc4b6bd7",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A15-DP in",
        "links": [
            "0d5370eb40b96ebe"
        ],
        "x": 345,
        "y": 560,
        "wires": [
            [
                "30148d395fbbfd1c",
                "ed48cf28e933a9cb"
            ]
        ]
    },
    {
        "id": "9bfe31c94eb68dda",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A18-T in",
        "links": [
            "d9939455b597942c"
        ],
        "x": 345,
        "y": 660,
        "wires": [
            [
                "3e481b51f816b9f3",
                "5c86bccca30c395e"
            ]
        ]
    },
    {
        "id": "3685d37cc94db41c",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2A18-VEL",
        "group": "c4b796b294db2552",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Air flow (m3/hr)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 670,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "fe4a1a945a1582a1",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2VEL-CLMN",
        "group": "c4b796b294db2552",
        "order": 1,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "needle",
        "title": "Column Velocity (m/s)",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "units",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": 0,
        "max": 10,
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 670,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "367bdc4c79a27973",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "calc-clmn vel",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 0.21673, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 820,
        "wires": [
            [
                "fe4a1a945a1582a1",
                "0f0ec92f57eca868"
            ]
        ]
    },
    {
        "id": "f2dba1e205bc3658",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "calc-flow",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "$round($number(payload) * 25, 2)",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 740,
        "wires": [
            [
                "3685d37cc94db41c",
                "1e0b91d07dacb97e"
            ]
        ]
    },
    {
        "id": "71ae083f5293dcef",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2A18-VEL 2VEL-CLMN in",
        "links": [
            "0f57fe5811dcfadf"
        ],
        "x": 345,
        "y": 740,
        "wires": [
            [
                "f2dba1e205bc3658",
                "367bdc4c79a27973"
            ]
        ]
    },
    {
        "id": "66fc7b635ba63b4a",
        "type": "ui-led",
        "z": "f9cdf73470cc790b",
        "name": "Clm2- Heater Status",
        "group": "1150877cb6638246",
        "order": 2,
        "width": "2",
        "height": "1",
        "label": "Heater ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 720,
        "y": 1260,
        "wires": []
    },
    {
        "id": "a09ba5409cf7d1dc",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2PID SV",
        "group": "1150877cb6638246",
        "order": 4,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Set Point Value - SV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 660,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "67fd5bbfd4efd873",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2PID PV",
        "group": "1150877cb6638246",
        "order": 5,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Current Measure Value - PV",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 660,
        "y": 1060,
        "wires": [
            []
        ]
    },
    {
        "id": "dd2fa817c746743c",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2PID PecrentP",
        "group": "1150877cb6638246",
        "order": 6,
        "value": "payload",
        "valueType": "msg",
        "width": "2",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Power Output - %",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#fcfcfc",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "0",
        "max": "100",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 680,
        "y": 1140,
        "wires": [
            []
        ]
    },
    {
        "id": "380a11113ca01324",
        "type": "function",
        "z": "f9cdf73470cc790b",
        "name": "PID Split - Clm2",
        "func": "// Outputs (5):\n// 1: PV (number)\n// 2: SP (number)\n// 3: Power % (number)\n// 4: Mode text (\"Auto\"/\"Manual\"/\"Standby\"/\"Unknown\")\n// 5: LED boolean (Auto=true; Manual/Standby/Unknown=false)\n\nconst r = msg.payload;\nif (!Array.isArray(r) || r.length < 15) {\n  node.error(\"PID block requires 15 registers (addr 1..15)\", msg);\n  return [null, null, null, null, null];\n}\n\n// dP and scaler\nconst dP = Number(r[1] || 0);\nconst scale = v => Math.round((v / Math.pow(10, dP)) * 100) / 100;\n\n// Decode basics\nconst pv = scale(r[0]);                          // addr 1\nconst sp = scale(r[2]);                          // addr 3 (operative SP)\nconst powerPct = Math.round((r[3] / 100) * 100) / 100; // addr 4 (2 implied dp)\nconst modeCode = Number(r[14] || 0);                   // addr 15 (0=Auto,1=Manual,2=Standby)\n\n// Text + LED boolean (Auto = true)\nconst modeText = (modeCode === 0) ? \"Auto\" : (modeCode === 1) ? \"Manual\" :\n  (modeCode === 2) ? \"Standby\" : \"Unknown\";\nconst ledOn = (modeCode === 0); // ONLY Auto turns the LED on\n\n// Status\n//node.status({\n//  fill: ledOn ? \"green\" : (modeCode === 2 ? \"grey\" : \"yellow\"),\n//  shape: \"dot\",\n//  text: `PV ${pv}  SP ${sp}  ${powerPct}%  ${modeText}`\n//});\n\n// Fan out\nreturn [\n  { topic: \"PID.PV\", payload: pv },\n  { topic: \"PID.SP\", payload: sp },\n  { topic: \"PID.Power.%\", payload: powerPct },\n  { topic: \"PID.Mode.Text\", payload: modeText },\n  { topic: \"PID.Mode.Boolean\", payload: ledOn }  // <-- wire this to ui_led\n];\n",
        "outputs": 5,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 1100,
        "wires": [
            [
                "67fd5bbfd4efd873",
                "442c4df94ea98a3e"
            ],
            [
                "a09ba5409cf7d1dc",
                "64ea3e93f346cdf5"
            ],
            [
                "dd2fa817c746743c"
            ],
            [],
            [
                "4c596e85ea644fc0",
                "d772d4ddf4dbb58b"
            ]
        ]
    },
    {
        "id": "4c596e85ea644fc0",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "log 2H11 status",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "R.2H11",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "2H11Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 1180,
        "wires": [
            [
                "66fc7b635ba63b4a",
                "d772d4ddf4dbb58b"
            ]
        ]
    },
    {
        "id": "78722cf9cea4aede",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "PID CLMN 2 in",
        "links": [
            "0826e22f3b73ada9"
        ],
        "x": 265,
        "y": 1100,
        "wires": [
            [
                "380a11113ca01324"
            ]
        ]
    },
    {
        "id": "d772d4ddf4dbb58b",
        "type": "link out",
        "z": "f9cdf73470cc790b",
        "name": "2H11 status CSV Log",
        "mode": "link",
        "links": [
            "6a39c574f75a81cf"
        ],
        "x": 665,
        "y": 1180,
        "wires": []
    },
    {
        "id": "bb69cce5899ea5a9",
        "type": "ui-led",
        "z": "f9cdf73470cc790b",
        "name": "2FN11-LED",
        "group": "13816c2f51c27294",
        "order": 3,
        "width": "1",
        "height": "1",
        "label": "Motor ON",
        "labelPlacement": "left",
        "labelAlignment": "flex-end",
        "states": [
            {
                "value": "false",
                "valueType": "bool",
                "color": "#ff0000"
            },
            {
                "value": "true",
                "valueType": "bool",
                "color": "#00ff00"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showBorder": true,
        "showGlow": true,
        "x": 1510,
        "y": 900,
        "wires": []
    },
    {
        "id": "213ee7c9e1b0ba51",
        "type": "function",
        "z": "f9cdf73470cc790b",
        "name": "split Clm2 drive",
        "func": "// Expect input: msg.payload = [frequency, power, current, voltage, motorLedRaw, extra1]\nif (!Array.isArray(msg.payload) || msg.payload.length < 6) {\n  node.error(\"Expected an array of 6 values: [f, p, i, v, motorLedRaw, extra1]\", msg);\n  return null;\n}\n\n// Destructure in correct order\nconst [fRaw, pRaw, iRaw, vRaw, motorLedRaw, extra1] = msg.payload;\n\n// helper: round to 2 dp\nconst r2 = n => Math.round(n * 100) / 100;\n\n// Scale per your spec\nconst frequencyHz = r2(fRaw / 100);   // Hz\nconst powerW      = r2(pRaw / 100);   // W\nconst currentA    = r2(iRaw / 100);   // A\nconst voltageV    = r2(vRaw / 10);    // V\nconst motorOn     = (motorLedRaw !== 0); // boolean\n\n// Six outputs: 1 Freq, 2 Power, 3 Current, 4 Voltage, 5 Motor LED, 6 Extra1\nreturn [\n  { topic: \"R.VFD.freq.Hz\",   payload: frequencyHz }, // Output 1\n  { topic: \"VFD.power.W\",   payload: powerW },      // Output 2\n  { topic: \"VFD.current.A\", payload: currentA },    // Output 3\n  { topic: \"VFD.voltage.V\", payload: voltageV },    // Output 4\n  { topic: \"VFD.motorLED\",  payload: motorOn },     // Output 5\n  { topic: \"VFD.extra1\",    payload: extra1 }       // Output 6\n];\n\n\n/*\n// --- Expect input: msg.payload = [f, p, i, v, extra1, motorLed]\nif (!Array.isArray(msg.payload) || msg.payload.length < 6) {\n    node.error(\"Expected an array of at least 6 values (TagX/TagX2)\", msg);\n    return null;\n}\n\n// Destructure 6 values\nconst [frequency, power, current, voltage, motorLedRaw, extra1] = msg.payload;\n\n// Scale & send each value to its own output\nreturn [\n    { payload: frequency / 100 }, // Output 1 - Frequency\n    { payload: power / 100 },     // Output 2 - Power\n    { payload: current / 100 },   // Output 3 - Current\n    { payload: voltage / 10 },    // Output 4 - Voltage\n    { payload: motorLedRaw !== 0 },          // Output 5 - Extra value (raw or scale if needed)\n    { payload: extra1 } // Output 6 - MotorLed (boolean)\n];\n*/",
        "outputs": 6,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1300,
        "y": 880,
        "wires": [
            [
                "7c39262ce0329fa1",
                "eadf611e486a5ace",
                "24d892bde9e47539"
            ],
            [],
            [],
            [],
            [
                "bb69cce5899ea5a9",
                "bd5dccaf71ed1292"
            ],
            []
        ]
    },
    {
        "id": "7c39262ce0329fa1",
        "type": "ui-gauge",
        "z": "f9cdf73470cc790b",
        "name": "2FN11-freq",
        "group": "13816c2f51c27294",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "1",
        "height": "2",
        "gtype": "gauge-tile",
        "gstyle": "rounded",
        "title": "Frequency - HZ",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Hz",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "20",
                "color": "#fafafa",
                "text": "",
                "textType": "value"
            }
        ],
        "min": "20",
        "max": "60",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 1510,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "eadf611e486a5ace",
        "type": "link out",
        "z": "f9cdf73470cc790b",
        "name": "2FN11 freq CSV log",
        "mode": "link",
        "links": [
            "6a39c574f75a81cf"
        ],
        "x": 1655,
        "y": 820,
        "wires": []
    },
    {
        "id": "7dcd367feeedf273",
        "type": "link in",
        "z": "f9cdf73470cc790b",
        "name": "2FN11 in",
        "links": [
            "23e362462151b2af"
        ],
        "x": 1155,
        "y": 880,
        "wires": [
            [
                "213ee7c9e1b0ba51"
            ]
        ]
    },
    {
        "id": "91a2637519e6129e",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A11-AbsHum",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 710,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "0ba01e2b0fec94d8",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A11-inRH",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "6afabf54ec9fed94",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A11-inT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "82194a855117c982",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A11-Co2Raw",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "29cea1d961c41f7f",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A11-Co2Avg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8dbec8d1985c97ef",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A12-Co2Avg",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "3cb46e1294368267",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A12-Co2Raw",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1530,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "837351ba2e3567e2",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A12-inT",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1510,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "ce7c8bfeb5a8e90d",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A12-inRH",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1520,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "6f8218d5e8dd1ce6",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A12-AbsHum",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1750,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "ed48cf28e933a9cb",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A15-DP",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "5c86bccca30c395e",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A18-T",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "1e0b91d07dacb97e",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2A18-VEL",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "0f0ec92f57eca868",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2VEL-CLMN",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 860,
        "wires": [
            []
        ]
    },
    {
        "id": "442c4df94ea98a3e",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2PIDPV",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "24d892bde9e47539",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2FN11Freq",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1540,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "64ea3e93f346cdf5",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2PIDSV",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 890,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "bd5dccaf71ed1292",
        "type": "change",
        "z": "f9cdf73470cc790b",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "2FN11Status",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1586.333251953125,
        "y": 950.3333129882812,
        "wires": [
            []
        ]
    },
    {
        "id": "21de0b8a90939840",
        "type": "ui-gauge",
        "z": "305042d47b63571f",
        "name": "1EM-3A20",
        "group": "be8e2d192e710aa5",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Energy Meter w/ Fans",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Watt",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "3000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 590,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "1a84d12f15a0dcd6",
        "type": "link in",
        "z": "305042d47b63571f",
        "name": "1EM-3A20 in",
        "links": [
            "63af882d9f8dfad7"
        ],
        "x": 485,
        "y": 220,
        "wires": [
            [
                "21de0b8a90939840"
            ]
        ]
    },
    {
        "id": "c5dd6c2b769b5b5c",
        "type": "ui-gauge",
        "z": "305042d47b63571f",
        "name": "2EM-3A21",
        "group": "14ffaba87334b6a7",
        "order": 2,
        "value": "payload",
        "valueType": "msg",
        "width": "3",
        "height": "3",
        "gtype": "gauge-half",
        "gstyle": "rounded",
        "title": "Energy Meter w/ Heaters",
        "alwaysShowTitle": true,
        "floatingTitlePosition": "top-left",
        "units": "Watt",
        "icon": "",
        "prefix": "",
        "suffix": "",
        "segments": [
            {
                "from": "0",
                "color": "#5cd65c",
                "text": "",
                "textType": "label"
            },
            {
                "from": "2000",
                "color": "#ffc800",
                "text": "",
                "textType": "label"
            },
            {
                "from": "3000",
                "color": "#ea5353",
                "text": "",
                "textType": "label"
            }
        ],
        "min": "0",
        "max": "4000",
        "sizeThickness": 16,
        "sizeGap": 4,
        "sizeKeyThickness": 8,
        "styleRounded": true,
        "styleGlow": false,
        "className": "",
        "x": 590,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "84a28312704be845",
        "type": "link in",
        "z": "305042d47b63571f",
        "name": "2EM-3A21 in",
        "links": [
            "91c91af14c18f6ba"
        ],
        "x": 485,
        "y": 300,
        "wires": [
            [
                "c5dd6c2b769b5b5c"
            ]
        ]
    },
    {
        "id": "3dd982983d7175d8",
        "type": "change",
        "z": "305042d47b63571f",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "3A10GHCo2",
                "pt": "global",
                "to": "1200",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "25b4e27f150d28f5",
        "type": "inject",
        "z": "5d75bf7d19d6c301",
        "name": "Toggle CSV logging",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "x": 630,
        "y": 260,
        "wires": [
            [
                "25c8891ef84c5aea"
            ]
        ]
    },
    {
        "id": "25c8891ef84c5aea",
        "type": "function",
        "z": "5d75bf7d19d6c301",
        "name": "Toggle CSV logging (ON/OFF)",
        "func": "'use strict';\n// Toggles flow.csv_enabled each click\nlet enabled = flow.get('csv_enabled') === true;\nenabled = !enabled;\nflow.set('csv_enabled', enabled);\n\n// ALSO reset today's header-once flag so a new file gets headers immediately\nconst today = new Date().toISOString().slice(0, 10);\nconst headerKey = `csv_header_written_${today}`;\nflow.set(headerKey, false);\n\nif (enabled) {\n  node.status({ fill: 'green', shape: 'dot', text: 'CSV logging ENABLED' });\n  node.warn('CSV logging ENABLED');\n} else {\n  node.status({ fill: 'red', shape: 'ring', text: 'CSV logging DISABLED' });\n  node.warn('CSV logging DISABLED');\n}\nreturn null;\n",
        "outputs": 0,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 260,
        "wires": []
    },
    {
        "id": "99100b1a4aeb665a",
        "type": "ui-switch",
        "z": "5d75bf7d19d6c301",
        "name": "",
        "label": "Logging ON/OFF",
        "group": "e86ce08b06c0beb4",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "decouple": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "layout": "row-spread",
        "clickableArea": "switch",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 610,
        "y": 200,
        "wires": [
            [
                "25c8891ef84c5aea"
            ]
        ]
    },
    {
        "id": "7a325b3a11e9beed",
        "type": "function",
        "z": "5d75bf7d19d6c301",
        "name": "CSV logging gate (flow.csv_enabled)",
        "func": "// Function: Logging Gate (timestamp + 36 columns from pivoted example)\nconst COLS = [\n  \"LD.Relay.W1\",\n  \"LD.Relay.W2\",\n  \"L.VFD.freq.Hz\",\n  \"R.VFD.freq.Hz\",\n  \"LEM.W\",\n  \"REM.W\",\n  \"LU.Temp.C\",\n  \"LU.RH.%\",  \n  \"LU.CO2.avg\",\n  \"LU.CO2.raw\",\n  \"LU.P.hPa\",\n  \"RU.Temp.C\",\n  \"RU.RH.%\",\n  \"RU.CO2.avg\",\n  \"RU.CO2.raw\",\n  \"RU.P.hPa\",\n  \"LD.Temp.C\",\n  \"LD.RH.%\",\n  \"LD.CO2.raw\",\n  \"LD.CO2.avg\",\n  \"LD.P.hPa\",\n  \"RD.Temp.C\",\n  \"RD.RH.%\",\n  \"RD.CO2.raw\",\n  \"RD.CO2.avg\",\n  \"RD.P.hPa\",\n  \"2A15\",\n  \"1A05\",\n  \"REE650AV.mps\",\n  \"REE650T.C\",\n  \"LEE650AV.mps\",\n  \"LEE650T.C\",\n  \"LD.Relay.D1\",\n  \"LD.Relay.A1\",\n  \"LD.Relay.A2\",\n  \"LD.Relay.D2\",\n  \"L.1H01\",\n  \"R.2H11\"\n  ];\n\nconst snap   = global.get('snap')   || {};\nconst snapTs = global.get('snap_ts') || {};\nconst now = Date.now();\nconst STALE_MS = 4800; // mark blank if older than 4.8 s\n\n// --- build timestamp in local timezone ---\nconst d = new Date();\nconst row = {\n  timestamp: d.toLocaleString(\"en-GB\", {\n    timeZone: \"Asia/Riyadh\", // set to your local zone\n    hour12: false\n  })\n};\n\n// --- fill columns, blank stale ones ---\nfor (const k of COLS) {\n  const age = now - (snapTs[k] || 0);\n  if (age > STALE_MS) {\n    row[k] = \"\"; // blank if not fresh\n  } else {\n    const v = snap[k];\n    row[k] = (v === undefined || Number.isNaN(v)) ? \"\" : v;\n  }\n}\n\n// output row object for CSV conversion or direct write\nmsg.payload = row;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 340,
        "wires": [
            [
                "d233cdd344785ab9"
            ]
        ]
    },
    {
        "id": "2be9d1e76f23cfab",
        "type": "file",
        "z": "5d75bf7d19d6c301",
        "name": "Append /var/lib/revpi-nodered/csvlogs/filename",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 1660,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "0722178a9e50679f",
        "type": "function",
        "z": "5d75bf7d19d6c301",
        "name": "set daily csv filename",
        "func": "'use strict';\n\n// where to store logs\nconst baseDir = \"/var/lib/revpi-nodered/csvlogs\";\nconst tz = \"Asia/Riyadh\";\n\n// get \"local\" date in the desired timezone\nconst now = new Date();\n// Build date parts without using locale formatters (which may add /)\nconst y = new Intl.DateTimeFormat('en', { timeZone: tz, year: 'numeric' }).format(now);\nconst m = new Intl.DateTimeFormat('en', { timeZone: tz, month: '2-digit' }).format(now);\nconst d = new Intl.DateTimeFormat('en', { timeZone: tz, day: '2-digit' }).format(now);\n\n// Assemble a filename that CANNOT contain slashes\nconst dateStr = `${y}_${m}_${d}`;                // e.g., 2025_10_26\nmsg.filename = `${baseDir}/sensors_${dateStr}.csv`;\n\nconst today = new Date().toISOString().slice(0, 10);\nglobal.set(\"csv_header_written_YYYY-MM-DD\", false, \"file\");\n\nconst prev = global.get('current_csv_date');\nif (prev !== dateStr) {\n  global.set('csv_header_written', false);\n  global.set('current_csv_date', dateStr);\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1360,
        "y": 340,
        "wires": [
            [
                "2be9d1e76f23cfab"
            ]
        ]
    },
    {
        "id": "10af6fbdd9a0b241",
        "type": "function",
        "z": "5d75bf7d19d6c301",
        "name": "snapshot updater",
        "func": "// Snapshot Updater (cache + timestamps)\nlet snap = global.get('snap') || {};\nlet snapTs = global.get('snap_ts') || {};\n\n\nif (typeof msg.topic === 'string') {\n  snap[msg.topic] = msg.payload;\n  snapTs[msg.topic] = Date.now();\n  global.set('snap', snap);\n  global.set('snap_ts', snapTs);\n}\n\nreturn null; // don’t send anything downstream",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 340,
        "wires": [
            [
                "7a325b3a11e9beed"
            ]
        ]
    },
    {
        "id": "e15ab620fb99dcd2",
        "type": "inject",
        "z": "5d75bf7d19d6c301",
        "name": "Tick every  5 second",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 540,
        "y": 400,
        "wires": [
            [
                "7a325b3a11e9beed"
            ]
        ]
    },
    {
        "id": "d233cdd344785ab9",
        "type": "function",
        "z": "5d75bf7d19d6c301",
        "name": "Object -> CSV line (wiht header-once)",
        "func": "// Function: Object → CSV line (with header-once)\n// Input:  msg.payload = { timestamp: \"...\", <36 fixed columns> }\n// Output: msg.payload = \"header?\\n\" + \"csv line\\n\" (string)\n\nconst COLS = [\n  \"LD.Relay.W1\",\"LD.Relay.W2\",\"L.VFD.freq.Hz\",\"R.VFD.freq.Hz\",\n  \"LEM.W\",\"REM.W\",\n  \"LU.Temp.C\",\"LU.RH.%\",\"LU.CO2.avg\",\"LU.CO2.raw\",\"LU.P.hPa\",\n  \"RU.Temp.C\",\"RU.RH.%\",\"RU.CO2.avg\",\"RU.CO2.raw\",\"RU.P.hPa\",\n  \"LD.Temp.C\",\"LD.RH.%\",\"LD.CO2.raw\",\"LD.CO2.avg\",\"LD.P.hPa\",\n  \"RD.Temp.C\",\"RD.RH.%\",\"RD.CO2.raw\",\"RD.CO2.avg\",\"RD.P.hPa\",\n  \"2A15\",\"1A05\",\"REE650AV.mps\",\"REE650T.C\",\"LEE650AV.mps\",\"LEE650T.C\",\n  \"LD.Relay.D1\",\"LD.Relay.A1\",\"LD.Relay.A2\",\"LD.Relay.D2\",\"L.1H01\",\"R.2H11\"\n];\n\n// Optional: obey a UI toggle\nconst enabled = flow.get(\"csv_enabled\", \"file\");\nif (enabled === false) return null;\n\n// ---------- helpers ----------\nfunction csvEscape(val) {\n  if (val === null || val === undefined) return \"\";\n  let s = String(val);\n  if (s.includes('\"')) s = s.replace(/\"/g, '\"\"');\n  const needsQuote = s.includes(\",\") || s.includes(\"\\n\") || s.includes(\"\\r\") || /^\\s|\\s$/.test(s);\n  return needsQuote ? `\"${s}\"` : s;\n}\n\n// Determine a stable key for header tracking:\n// Prefer the active file path if your flow sets it; otherwise fallback to today's date.\nconst today = new Date().toISOString().slice(0, 10);\nconst filePath =\n  flow.get(\"current_csv_path\", \"file\") ||\n  msg.filepath ||\n  msg.filename ||\n  today;\n\nconst headerKey = `csv_header_written::${filePath}`;\nconst headerNeeded = flow.get(headerKey, \"file\") !== true;\n\n// Build header string (only once)\nconst header = [\"timestamp\", ...COLS].map(csvEscape).join(\",\") + \"\\n\";\n\n// Build data line in fixed order\nconst p = msg.payload || {};\nconst ts = p.timestamp || new Date().toISOString();\nconst fields = [ts, ...COLS.map(k => {\n  const v = p[k];\n  if (v === undefined || v === null || Number.isNaN(v)) return \"\";\n  return v; // let csvEscape handle quoting\n})];\n\nconst line = fields.map(csvEscape).join(\",\") + \"\\n\";\n\n// Output\nif (headerNeeded) {\n  flow.set(headerKey, true, \"file\");\n  msg.payload = header + line;\n} else {\n  msg.payload = line;\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1050,
        "y": 340,
        "wires": [
            [
                "0722178a9e50679f"
            ]
        ]
    },
    {
        "id": "6a39c574f75a81cf",
        "type": "link in",
        "z": "5d75bf7d19d6c301",
        "name": "CSV logger in",
        "links": [
            "4bb0ee40ded7af87",
            "0424567a092b7029",
            "2f9455eccb143f8a",
            "d772d4ddf4dbb58b",
            "d150d3cf7193e769",
            "eadf611e486a5ace"
        ],
        "x": 205,
        "y": 340,
        "wires": [
            [
                "10af6fbdd9a0b241"
            ]
        ]
    },
    {
        "id": "32777c1d0c99d7b5",
        "type": "inject",
        "z": "5d75bf7d19d6c301",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 550,
        "y": 80,
        "wires": [
            [
                "1ade3a44a50f4ae4"
            ]
        ]
    },
    {
        "id": "1ade3a44a50f4ae4",
        "type": "change",
        "z": "5d75bf7d19d6c301",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "csv_enabled",
                "pt": "flow",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "c44fa98e0090170f",
        "type": "link in",
        "z": "5d75bf7d19d6c301",
        "name": "Logging On in",
        "links": [
            "155ef805f54df57e"
        ],
        "x": 435,
        "y": 200,
        "wires": [
            [
                "99100b1a4aeb665a"
            ]
        ]
    },
    {
        "id": "259d9691c1cb3b2d",
        "type": "ui-switch",
        "z": "c939f5c97e10afd3",
        "name": "Enable Auto mode",
        "label": "Enable Auto mode",
        "group": "42e80e50107ea143",
        "order": 1,
        "width": "6",
        "height": 5,
        "passthru": false,
        "decouple": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "layout": "row-spread",
        "clickableArea": "switch",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 410,
        "y": 1380,
        "wires": [
            [
                "37f95f0511ac7b24",
                "4af76fc8fb2e9345",
                "f36efd8a2d681e4b",
                "155ef805f54df57e"
            ]
        ]
    },
    {
        "id": "c491a1c9f481bb5f",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-regen-T",
        "label": "Regen Temprature Setpoint",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "1-regen-T",
        "topicType": "str",
        "min": 0,
        "max": "60",
        "step": 1,
        "tooltip": "Regen temprature setpoint for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1260,
        "y": 260,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "4721552fe34b7441",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-regen-FanSpeed",
        "label": "Regen Fan Speed",
        "order": 4,
        "width": 0,
        "height": 0,
        "topic": "1-regen-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": 1,
        "tooltip": "Regen Fan speed during Regen for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1290,
        "y": 300,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "501ce883070d90ad",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-regen-HumidtyDiffThreshold",
        "label": "Regen Humidtity threshold %",
        "order": 3,
        "width": 0,
        "height": 0,
        "topic": "1-regen-HumidtyDiffThreshold",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": "1",
        "tooltip": "the is the threshold used to end regen process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 340,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "8e710ed25a2e3e77",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-regen-T",
        "label": "Regen Temprature Setpoint",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "2-regen-T",
        "topicType": "str",
        "min": 0,
        "max": "60",
        "step": 1,
        "tooltip": "Regen temprature setpoint for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1260,
        "y": 740,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "5291f9f8c5b5e4f3",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-regen-FanSpeed",
        "label": "Regen Fan Speed",
        "order": 3,
        "width": 0,
        "height": 0,
        "topic": "2-regen-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": 1,
        "tooltip": "Regen Fan speed during Regen for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1290,
        "y": 780,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "ad115d4d7c419a3e",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-regen-HumidtyDiffThreshold",
        "label": "Regen Humidtity threshold",
        "order": 4,
        "width": 0,
        "height": 0,
        "topic": "2-regen-HumidtyDiffThreshold",
        "topicType": "str",
        "min": 0,
        "max": "1",
        "step": "0.05",
        "tooltip": "the is the threshold used to end regen process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 820,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "65c501c967481833",
        "type": "ui-dropdown",
        "z": "c939f5c97e10afd3",
        "group": "16c2d68fad5258bc",
        "name": "columnsOrder",
        "label": "Select Option:",
        "tooltip": "",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "chips": false,
        "clearable": false,
        "options": [
            {
                "label": "Alternating",
                "value": "Alternating",
                "type": "str"
            },
            {
                "label": "Simultaneously",
                "value": "Simultaneously",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "columnsOrder",
        "topicType": "str",
        "className": "",
        "typeIsComboBox": true,
        "msgTrigger": "onChange",
        "x": 1280,
        "y": 100,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "70fdd1d736ededd1",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Adsorption-FanSpeed",
        "label": "Adsorption Fan Speed",
        "order": 6,
        "width": 0,
        "height": 0,
        "topic": "1-Adsorption-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": "1",
        "tooltip": "Fan speed during Adsorption for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 380,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "e5a7fa2e996e1fb7",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Adsorption-CO2Threshold",
        "label": "Adsorption CO2 threshold",
        "order": 5,
        "width": 0,
        "height": 0,
        "topic": "1-Adsorption-CO2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "500",
        "step": 1,
        "tooltip": "threshold used to end Adsorption process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1320,
        "y": 420,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "dd3c5cbd65f16b46",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-permission-GHCo2Threshold",
        "label": "GH CO2 threshold",
        "order": 7,
        "width": 0,
        "height": 0,
        "topic": "1-permission-GHCo2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "5000",
        "step": "20",
        "tooltip": "threshold from greenhouse to allow coulm to start Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 460,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "7ee42c51fddc62f5",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Desorption-FanSpeed",
        "label": "Desorption Fan Speed",
        "order": 8,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-FanSpeed",
        "topicType": "str",
        "min": "20",
        "max": "60",
        "step": 1,
        "tooltip": "Fan speed during Desorption for column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 500,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "85f9790ee0919921",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Desorption-waterSprayBrusts",
        "label": "Desorption Water sprays",
        "order": 9,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-waterSprayBrusts",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "number of water sprays in Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 540,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "d5f27e95b1a8c996",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Desorption-WSBrustsLength",
        "label": "Water spray brust length",
        "order": 10,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-WSBrustsLength",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "the time for 1 water spray brust during Desorption in column 1",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 580,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "2f6f271f2f820276",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Desorption-WSIntervals",
        "label": "interval between brusts",
        "order": 11,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-WSIntervals",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 620,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "e0c4f0ed53696de5",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-Desorption-Co2StopThreshold",
        "label": "Desorption stop CO2 threshold",
        "order": 12,
        "width": 0,
        "height": 0,
        "topic": "1-Desorption-Co2StopThreshold",
        "topicType": "str",
        "min": 0,
        "max": "5000",
        "step": "5",
        "tooltip": "threshold to stop Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 660,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "27d9eadb0ba1cc44",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Adsorption-FanSpeed",
        "label": "Adsorption Fan Speed",
        "order": 5,
        "width": 0,
        "height": 0,
        "topic": "2-Adsorption-FanSpeed",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "Fan speed during Adsorption for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 860,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "1513b195b36c3804",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Adsorption-CO2Threshold",
        "label": "Adsorption CO2 threshold",
        "order": 6,
        "width": 0,
        "height": 0,
        "topic": "2-Adsorption-CO2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "500",
        "step": 1,
        "tooltip": "threshold used to end Adsorption process",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1320,
        "y": 900,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "8af9677b2b018e99",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-permission-GHCo2Threshold",
        "label": "GH CO2 threshold",
        "order": 7,
        "width": 0,
        "height": 0,
        "topic": "2-permission-GHCo2Threshold",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "threshold from greenhouse to allow coulm to start Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 940,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "318c6e589718b117",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Desorption-FanSpeed",
        "label": "Desorption Fan Speed",
        "order": 8,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-FanSpeed",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "Fan speed during Desorption for column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 980,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "7fa3ba68de67e184",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Desorption-waterSprayBrusts",
        "label": "Desorption Water sprays",
        "order": 9,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-waterSprayBrusts",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "number of water sprays in Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 1020,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "f9eda426cc4f59a7",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Desorption-WSBrustsLength",
        "label": "Water spray brust length",
        "order": 10,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-WSBrustsLength",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "the time for 1 water spray brust during Desorption in column 2",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 1060,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "0bae9b7d257f430a",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Desorption-WSIntervals",
        "label": "interval between brusts",
        "order": 11,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-WSIntervals",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 1100,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "2c566d12c7c179a6",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-Desorption-Co2StopThreshold",
        "label": "Desorption stop CO2 threshold",
        "order": 12,
        "width": 0,
        "height": 0,
        "topic": "2-Desorption-Co2StopThreshold",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "threshold to stop Desorption",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1330,
        "y": 1140,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "fee3d107de7ac199",
        "type": "ui-text-input",
        "z": "c939f5c97e10afd3",
        "group": "b4435693f46f8ae5",
        "name": "1-StartTime",
        "label": "Start time in HH:MM 24 hour format",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "1-StartTime",
        "topicType": "str",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 1270,
        "y": 140,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "145c0639980cf353",
        "type": "ui-text-input",
        "z": "c939f5c97e10afd3",
        "group": "16c2d68fad5258bc",
        "name": "ShutdownTime",
        "label": "Shutdown time in HH:MM 24 hour format",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "ShutdownTime",
        "topicType": "str",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 1280,
        "y": 180,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "316781a9435d52e1",
        "type": "ui-number-input",
        "z": "c939f5c97e10afd3",
        "group": "16c2d68fad5258bc",
        "name": "shutdownRegenInterval",
        "label": "Shutdown Regen interval in minutes",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "shutdownRegenInterval",
        "topicType": "str",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1310,
        "y": 220,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "4fba8f52871e82a3",
        "type": "ui-button",
        "z": "c939f5c97e10afd3",
        "group": "0bc3f93a938c3005",
        "name": "SaveParameters",
        "label": "Save",
        "order": 1,
        "width": 0,
        "height": 2,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 290,
        "y": 1600,
        "wires": [
            [
                "575cb4800ca8eaa6"
            ]
        ]
    },
    {
        "id": "575cb4800ca8eaa6",
        "type": "function",
        "z": "c939f5c97e10afd3",
        "name": "format before saving into file",
        "func": "let params = global.get(\"autoParams\") || {};\n\n// pretty JSON string\nmsg.payload = params;\n\n// choose a path that Node-RED user can write to\nmsg.filename = \"/var/lib/revpi-nodered/.node-red/parameters.json\";\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 1600,
        "wires": [
            [
                "f49ec9c94d96b6fb"
            ]
        ]
    },
    {
        "id": "555e096cd1fa25e6",
        "type": "function",
        "z": "c939f5c97e10afd3",
        "name": "save AutoParams in global",
        "func": "// Expects: msg.topic = parameter name, msg.payload = value\n\nif (typeof msg.topic !== \"string\" || msg.topic === \"\") {\n    return msg;   // nothing to store\n}\n\n// Get existing param object from global\nlet params = global.get(\"autoParams\") || {};\n\n// Update this parameter\nparams[msg.topic] = msg.payload;\n\n// Save back to global context\nglobal.set(\"autoParams\", params);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2000,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "debb0836a57bf7fb",
        "type": "ui-control",
        "z": "c939f5c97e10afd3",
        "name": "",
        "ui": "8d17c08d50d1770f",
        "events": "all",
        "x": 1740,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "37f95f0511ac7b24",
        "type": "change",
        "z": "c939f5c97e10afd3",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "AutoMode",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 740,
        "y": 1380,
        "wires": [
            []
        ]
    },
    {
        "id": "498fce03ae598e3f",
        "type": "switch",
        "z": "c939f5c97e10afd3",
        "name": "",
        "property": "AutoMode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1250,
        "y": 1380,
        "wires": [
            [
                "597ad9e5643009a0"
            ],
            [
                "a5cdd603efaca9e0"
            ]
        ]
    },
    {
        "id": "fd6c130f1c8efed4",
        "type": "inject",
        "z": "c939f5c97e10afd3",
        "d": true,
        "name": "",
        "props": [],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 1050,
        "y": 1380,
        "wires": [
            [
                "498fce03ae598e3f"
            ]
        ]
    },
    {
        "id": "597ad9e5643009a0",
        "type": "change",
        "z": "c939f5c97e10afd3",
        "name": "Disable UI",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"disable\":[\"Automation Paramters:Column 1 Parameters\",\"Automation Paramters:column 2 parameters\",\"Automation Paramters:Shared Parameters\",\"Automation Paramters:Save commands\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1410,
        "y": 1360,
        "wires": [
            [
                "debb0836a57bf7fb"
            ]
        ]
    },
    {
        "id": "a5cdd603efaca9e0",
        "type": "change",
        "z": "c939f5c97e10afd3",
        "name": "Enable UI",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"group\":{\"enable\":[\"Automation Paramters:Column 1 Parameters\",\"Automation Paramters:column 2 parameters\",\"Automation Paramters:Shared Parameters\",\"Automation Paramters:Save commands\"]}}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 1420,
        "wires": [
            [
                "debb0836a57bf7fb"
            ]
        ]
    },
    {
        "id": "fb4222c230dc1b55",
        "type": "ui-text-input",
        "z": "c939f5c97e10afd3",
        "group": "61db9a8b734103fe",
        "name": "2-StartTime",
        "label": "Start time in HH:MM 24 hour format",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "1-StartTime",
        "topicType": "str",
        "mode": "text",
        "tooltip": "",
        "delay": 300,
        "passthru": true,
        "sendOnDelay": false,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "sendOnClear": true,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "x": 1270,
        "y": 700,
        "wires": [
            [
                "555e096cd1fa25e6"
            ]
        ]
    },
    {
        "id": "4af76fc8fb2e9345",
        "type": "link out",
        "z": "c939f5c97e10afd3",
        "name": "Enable AutoMode out",
        "mode": "link",
        "links": [
            "5837b668b3d564a1"
        ],
        "x": 705,
        "y": 1340,
        "wires": []
    },
    {
        "id": "f36efd8a2d681e4b",
        "type": "link out",
        "z": "c939f5c97e10afd3",
        "name": "Init system",
        "mode": "link",
        "links": [
            "71ecf974b23a0568",
            "99386fb9c3dbafc1",
            "bcdcae869ad783bf",
            "bf1c544424eadbf8",
            "c01672e399954caa",
            "f891c7e34bac21b4",
            "faf81b990d1ae70e"
        ],
        "x": 755,
        "y": 1420,
        "wires": []
    },
    {
        "id": "f14e2d81ab15d1f7",
        "type": "inject",
        "z": "c939f5c97e10afd3",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 250,
        "y": 1380,
        "wires": [
            [
                "259d9691c1cb3b2d"
            ]
        ]
    },
    {
        "id": "521eef7b654c9cf7",
        "type": "debug",
        "z": "c939f5c97e10afd3",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 1580,
        "wires": []
    },
    {
        "id": "f49ec9c94d96b6fb",
        "type": "file",
        "z": "c939f5c97e10afd3",
        "name": "",
        "filename": "filename",
        "filenameType": "msg",
        "appendNewline": false,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 760,
        "y": 1600,
        "wires": [
            []
        ]
    },
    {
        "id": "17a5f8ea130a9589",
        "type": "inject",
        "z": "c939f5c97e10afd3",
        "name": "",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 520,
        "wires": [
            [
                "6f65785423f322fa"
            ]
        ]
    },
    {
        "id": "6f65785423f322fa",
        "type": "file in",
        "z": "c939f5c97e10afd3",
        "name": "",
        "filename": "/var/lib/revpi-nodered/.node-red/parameters.json",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 420,
        "y": 520,
        "wires": [
            [
                "16e878908562d163"
            ]
        ]
    },
    {
        "id": "16e878908562d163",
        "type": "json",
        "z": "c939f5c97e10afd3",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 670,
        "y": 520,
        "wires": [
            [
                "69aa442a0c08335a"
            ]
        ]
    },
    {
        "id": "69aa442a0c08335a",
        "type": "function",
        "z": "c939f5c97e10afd3",
        "name": "parse",
        "func": "// This function expects msg.payload to contain the parameters object\n// (either as an object or a JSON string).\n//\n// It will:\n// 1) Parse & store it in flow.autoParams\n// 2) Emit one msg per parameter:\n//      msg.topic  = parameter name\n//      msg.payload = parameter value\n//\n// Wire this function into a Switch node on msg.topic.\n\nlet params = msg.payload;\n\n// If payload is JSON string, parse it\nif (typeof params === \"string\") {\n    try {\n        params = JSON.parse(params);\n    } catch (err) {\n        node.error(\"Invalid JSON in msg.payload: \" + err.message, msg);\n        return null;\n    }\n}\n\n// Store the whole object in flow (for later use if needed)\nflow.set(\"autoParams\", params);\n\n// All parameter keys to fan out\nconst keys = [\n    \"columnsOrder\",\n    \"1-StartTime\",\n    \"ShutdownTime\",\n    \"shutdownRegenInterval\",\n    \"1-regen-T\",\n    \"1-regen-FanSpeed\",\n    \"1-regen-HumidtyDiffThreshold\",\n    \"1-Adsorption-FanSpeed\",\n    \"1-Adsorption-CO2Threshold\",\n    \"1-permission-GHCo2Threshold\",\n    \"1-Desorption-FanSpeed\",\n    \"1-Desorption-waterSprayBrusts\",\n    \"1-Desorption-WSBrustsLength\",\n    \"1-Desorption-WSIntervals\",\n    \"1-Desorption-Co2StopThreshold\",\n    \n    \"2-StartTime\", \n    \"2-regen-T\",\n    \"2-regen-FanSpeed\",\n    \"2-regen-HumidtyDiffThreshold\",\n    \"2-Adsorption-FanSpeed\",\n    \"2-Adsorption-CO2Threshold\",\n    \"2-permission-GHCo2Threshold\",\n    \"2-Desorption-FanSpeed\",\n    \"2-Desorption-waterSprayBrusts\",\n    \"2-Desorption-WSBrustsLength\",\n    \"2-Desorption-WSIntervals\",\n    \"2-Desorption-Co2StopThreshold\"\n];\n\nlet outMsgs = [];\n\nfor (let i = 0; i < keys.length; i++) {\n    let name = keys[i];\n    if (Object.prototype.hasOwnProperty.call(params, name)) {\n        outMsgs.push({\n            topic: name,\n            payload: params[name]\n        });\n    }\n}\n\n// Single-output Function node, multiple messages\nreturn [outMsgs];\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 520,
        "wires": [
            [
                "470f5d3a7fd06a89"
            ]
        ]
    },
    {
        "id": "470f5d3a7fd06a89",
        "type": "switch",
        "z": "c939f5c97e10afd3",
        "name": "",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "columnsOrder",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-StartTime",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ShutdownTime",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "shutdownRegenInterval",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-regen-T",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-regen-FanSpeed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-regen-HumidtyDiffThreshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Adsorption-FanSpeed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Adsorption-CO2Threshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-permission-GHCo2Threshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Desorption-FanSpeed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Desorption-waterSprayBrusts",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Desorption-WSBrustsLength",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Desorption-WSIntervals",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1-Desorption-Co2StopThreshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-StartTime",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-regen-T",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-regen-FanSpeed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-regen-HumidtyDiffThreshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Adsorption-FanSpeed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Adsorption-CO2Threshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-permission-GHCo2Threshold",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Desorption-FanSpeed",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Desorption-waterSprayBrusts",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Desorption-WSBrustsLength",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Desorption-WSIntervals",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2-Desorption-Co2StopThreshold",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 27,
        "x": 970,
        "y": 520,
        "wires": [
            [
                "65c501c967481833"
            ],
            [
                "fee3d107de7ac199"
            ],
            [
                "145c0639980cf353"
            ],
            [
                "316781a9435d52e1"
            ],
            [
                "c491a1c9f481bb5f"
            ],
            [
                "4721552fe34b7441"
            ],
            [
                "501ce883070d90ad"
            ],
            [
                "70fdd1d736ededd1"
            ],
            [
                "e5a7fa2e996e1fb7"
            ],
            [
                "dd3c5cbd65f16b46"
            ],
            [
                "7ee42c51fddc62f5"
            ],
            [
                "85f9790ee0919921"
            ],
            [
                "d5f27e95b1a8c996"
            ],
            [
                "2f6f271f2f820276"
            ],
            [
                "e0c4f0ed53696de5"
            ],
            [
                "fb4222c230dc1b55"
            ],
            [
                "8e710ed25a2e3e77"
            ],
            [
                "5291f9f8c5b5e4f3"
            ],
            [
                "ad115d4d7c419a3e"
            ],
            [
                "27d9eadb0ba1cc44"
            ],
            [
                "1513b195b36c3804"
            ],
            [
                "8af9677b2b018e99"
            ],
            [
                "318c6e589718b117"
            ],
            [
                "7fa3ba68de67e184"
            ],
            [
                "f9eda426cc4f59a7"
            ],
            [
                "0bae9b7d257f430a"
            ],
            [
                "2c566d12c7c179a6"
            ]
        ]
    },
    {
        "id": "a4d9041280bb2119",
        "type": "ui-button",
        "z": "c939f5c97e10afd3",
        "group": "0bc3f93a938c3005",
        "name": "LoadParameters",
        "label": "Load",
        "order": 2,
        "width": 0,
        "height": 2,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 170,
        "y": 660,
        "wires": [
            [
                "6f65785423f322fa"
            ]
        ]
    },
    {
        "id": "155ef805f54df57e",
        "type": "link out",
        "z": "c939f5c97e10afd3",
        "name": "logging on out",
        "mode": "link",
        "links": [
            "c44fa98e0090170f"
        ],
        "x": 625,
        "y": 1480,
        "wires": []
    },
    {
        "id": "9ea0fe7bd908325e",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "Auto mode On",
        "property": "AutoMode",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 420,
        "y": 240,
        "wires": [
            [
                "f022827f879e2234"
            ],
            [
                "75130c280fac259f"
            ]
        ]
    },
    {
        "id": "c78f3d87ce8401cc",
        "type": "inject",
        "z": "32981e8e6835223e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 240,
        "wires": [
            [
                "9ea0fe7bd908325e"
            ]
        ]
    },
    {
        "id": "75130c280fac259f",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "Check start and shutdown time ",
        "func": "// Expected: msg.start = \"HH:MM\", msg.end = \"HH:MM\"\n\nfunction toMinutes(t) {\n    let parts = t.split(\":\");\n    return parseInt(parts[0]) * 60 + parseInt(parts[1]);\n}\n// Convert current time to Riyadh timezone (Asia/Riyadh)\nlet now = new Date();\nlet riyadhTimeString = now.toLocaleString(\"en-US\", { timeZone: \"Asia/Riyadh\" });\nlet riyadhDate = new Date(riyadhTimeString);\n\nlet currentMinutes = riyadhDate.getHours() * 60 + riyadhDate.getMinutes();\n\nlet start = toMinutes(global.get(\"autoParams\")[\"1-StartTime\"]);\nlet end = toMinutes(global.get(\"autoParams\")[\"ShutdownTime\"]);\n\nlet inRange = false;\n\n// Handle ranges that wrap past midnight (e.g. 22:00–03:00)\nif (start <= end) {\n    // Normal range\n    inRange = currentMinutes >= start && currentMinutes <= end;\n} else {\n    // Midnight wrap range\n    inRange = (currentMinutes >= start) || (currentMinutes <= end);\n}\n\nif(inRange){\n    msg.payload=\"Start\"\n}\nelse{\n    msg.payload=\"Shutdown\"\n}\nmsg.startTime=start\nmsg.endTime=end\nmsg.currentTime=currentMinutes\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 260,
        "wires": [
            [
                "882d78aacc511fed"
            ]
        ]
    },
    {
        "id": "5627e235af99cdfa",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "wait",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2590,
        "y": 200,
        "wires": [
            [
                "377956e56076f835"
            ]
        ]
    },
    {
        "id": "88aa3105fd704bb8",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "adjust adsorption fan",
        "func": "let fanSpeed = global.get(\"autoParams\")[\"1-Adsorption-FanSpeed\"] || 0\n\nmsg.payload=fanSpeed\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 580,
        "wires": [
            [
                "4139c99d933c6615",
                "ee84e5ba352c18d6"
            ]
        ]
    },
    {
        "id": "32c088be8ec1b972",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "Check permission status",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Standby",
                "vt": "str"
            },
            {
                "t": "else"
            },
            {
                "t": "eq",
                "v": "Start Desorption",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 2190,
        "y": 580,
        "wires": [
            [
                "e8e73e462e78236d",
                "b798e2a52e237646",
                "f3fa91ca67ce1a2e"
            ],
            [],
            [
                "e3d1116d88a6a539",
                "4f8f77dba9c24d53",
                "0358abc77c63570f"
            ]
        ]
    },
    {
        "id": "b798e2a52e237646",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1700,
        "y": 580,
        "wires": [
            [
                "f676f765215b01f2"
            ]
        ]
    },
    {
        "id": "af8f46640494b64a",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "water spraying",
        "func": "let waterBrusts = global.get(\"autoParams\")[\"1-Desorption-waterSprayBrusts\"] || 0;\nlet onTime = (1000*global.get(\"autoParams\")[\"1-Desorption-WSBrustsLength\"])|| 1000;\nlet offTime = (1000*global.get(\"autoParams\")[\"1-Desorption-WSIntervals\"]) || 1000;\n\nlet i = 0;\n\nnode.status({ fill: \"blue\", shape: \"ring\", text: \"current brust: \" + i });\n\nlet stop = global.get(\"AutoMode\") || false;\n\nif (!stop) {\n    node.status({ fill: \"red\", shape: \"ring\", text: \"Stopped\" });\n    return null; // stop this branch\n}\n\nfunction iterate() {\n    if (i >= waterBrusts) {\n        // Loop finished → send \"continue\" message\n        node.send([null, null, { payload: \"done\" }]);\n        node.status({});\n        return;\n    }\n    \n    // Trigger button A\n    node.send([{ payload: true }, null, null]);\n\n    node.status({ fill: \"green\", shape: \"dot\", text: \"on\" + \" current brust: \" + i });\n    setTimeout(() => {\n        // Trigger button B\n        node.send([null, { payload: true }, null]);\n        node.status({ fill: \"red\", shape: \"dot\", text: \"off\" });\n        setTimeout(() => {\n            i++;\n            iterate();  // next iteration\n        }, offTime);\n\n    }, onTime);\n}\n\niterate();\nreturn;\n",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1140,
        "y": 960,
        "wires": [
            [
                "774657f71c1bc61e"
            ],
            [
                "476c31ec9d392f8a"
            ],
            [
                "30ce1e621ea1940f"
            ]
        ]
    },
    {
        "id": "30ce1e621ea1940f",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1500,
        "y": 980,
        "wires": [
            [
                "c2c379ca53c199b6"
            ]
        ]
    },
    {
        "id": "882d78aacc511fed",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "which time",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Start",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "Shutdown",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 910,
        "y": 260,
        "wires": [
            [
                "5bb1a7596b3da967",
                "83e0199a48b9dac2"
            ],
            [
                "523ffa83b522201b",
                "8d1c5e39875bc443"
            ],
            []
        ]
    },
    {
        "id": "a03292c0bea308ac",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "turn off Heater and fan",
        "mode": "link",
        "links": [
            "71ecf974b23a0568"
        ],
        "x": 3355,
        "y": 240,
        "wires": []
    },
    {
        "id": "cceaf29472520ce1",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "turn off Heater and fan",
        "mode": "link",
        "links": [
            "71ecf974b23a0568"
        ],
        "x": 2205,
        "y": 260,
        "wires": []
    },
    {
        "id": "56948e68bbd266ee",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3130,
        "y": 200,
        "wires": [
            [
                "5627e235af99cdfa",
                "bc4e13f3ddeb6431"
            ],
            [
                "ea06f205d7631253",
                "294b751c2434bab4",
                "a03292c0bea308ac",
                "88aa3105fd704bb8"
            ]
        ]
    },
    {
        "id": "4139c99d933c6615",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "adjust fan speed",
        "mode": "link",
        "links": [
            "144ab0e01fe98894"
        ],
        "x": 495,
        "y": 620,
        "wires": []
    },
    {
        "id": "ee84e5ba352c18d6",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "F ON",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 550,
        "y": 580,
        "wires": [
            [
                "fa6d858db77c9acf",
                "03906e3167426796"
            ]
        ]
    },
    {
        "id": "fa6d858db77c9acf",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "apply fan speed/ open SV20",
        "mode": "link",
        "links": [
            "443d3afa06f7e3e5",
            "962ed7f4b121978f"
        ],
        "x": 605,
        "y": 640,
        "wires": []
    },
    {
        "id": "53fedaef35cd36ad",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "wait",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 970,
        "y": 580,
        "wires": [
            [
                "f9893c5822234b4c"
            ]
        ]
    },
    {
        "id": "f676f765215b01f2",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "get permission status",
        "func": "let stop = global.get(\"AutoMode\") || false;\n\nif (!stop) {\n    node.status({ fill: \"red\", shape: \"ring\", text: \"Stopped\" });\n    return null; // stop this branch\n}\nnode.status({ fill: \"green\", shape: \"ring\", text: \"running\" });\nlet columnTurn=global.get(\"currentColumnTurn\")\nlet greenHouseA10Value = global.get(\"3A10GHCo2\")||60\nlet greenHouseThresholdValue=global.get(\"autoParams\")[\"1-permission-GHCo2Threshold\"]\n\nmsg.columnTurn=columnTurn\nmsg.GHCo2Value=greenHouseA10Value\nmsg.GHThershold=greenHouseThresholdValue\nif (columnTurn ==1 && greenHouseA10Value<greenHouseThresholdValue){\n    msg.payload=\"Start Desorption\"\n}else{\n    msg.payload=\"Standby\"\n}\nnode.status({});\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1920,
        "y": 580,
        "wires": [
            [
                "32c088be8ec1b972"
            ]
        ]
    },
    {
        "id": "e8e73e462e78236d",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "stop fan, close SV02",
        "mode": "link",
        "links": [
            "f891c7e34bac21b4",
            "bcdcae869ad783bf"
        ],
        "x": 2365,
        "y": 500,
        "wires": []
    },
    {
        "id": "e615011df45d0e6d",
        "type": "link in",
        "z": "32981e8e6835223e",
        "name": "repeat cycle column1 in",
        "links": [
            "46e9681082c64fb8",
            "523ffa83b522201b"
        ],
        "x": 415,
        "y": 320,
        "wires": [
            [
                "75130c280fac259f"
            ]
        ]
    },
    {
        "id": "46e9681082c64fb8",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "repeat cycle column1 out",
        "mode": "link",
        "links": [
            "e615011df45d0e6d"
        ],
        "x": 2735,
        "y": 1020,
        "wires": []
    },
    {
        "id": "4e41ac535b2d371d",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "adjust desorption fan",
        "func": "let fanSpeed = global.get(\"autoParams\")[\"1-Desorption-FanSpeed\"]\n\nmsg.payload = fanSpeed \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 960,
        "wires": [
            [
                "434aab6c708b932a",
                "60a0898d105cab77"
            ]
        ]
    },
    {
        "id": "434aab6c708b932a",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "adjust fan speed",
        "mode": "link",
        "links": [
            "144ab0e01fe98894"
        ],
        "x": 455,
        "y": 1040,
        "wires": []
    },
    {
        "id": "b63dbd62d31d66de",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "F speed",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 760,
        "y": 960,
        "wires": [
            [
                "c000a50ff806cc6c",
                "46b74b221a13985b",
                "17ec9af626820c7d"
            ]
        ]
    },
    {
        "id": "c000a50ff806cc6c",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "apply fan speed,and turn on fan",
        "mode": "link",
        "links": [
            "9fe8d5b4bdc03a43"
        ],
        "x": 795,
        "y": 1080,
        "wires": []
    },
    {
        "id": "774657f71c1bc61e",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Open 1W01",
        "mode": "link",
        "links": [
            "8455081bb4738b55"
        ],
        "x": 1305,
        "y": 900,
        "wires": []
    },
    {
        "id": "476c31ec9d392f8a",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Close 1W01",
        "mode": "link",
        "links": [
            "bf1c544424eadbf8"
        ],
        "x": 1315,
        "y": 960,
        "wires": []
    },
    {
        "id": "f9ded39232025bab",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Open V02",
        "mode": "link",
        "links": [
            "443d3afa06f7e3e5"
        ],
        "x": 2145,
        "y": 920,
        "wires": []
    },
    {
        "id": "f718d6ace64bd26f",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "currentColumnTurn",
                "pt": "global",
                "to": "2",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2490,
        "y": 1020,
        "wires": [
            [
                "46e9681082c64fb8"
            ]
        ]
    },
    {
        "id": "5837b668b3d564a1",
        "type": "link in",
        "z": "32981e8e6835223e",
        "name": "Enable AutoMode in",
        "links": [
            "4af76fc8fb2e9345"
        ],
        "x": 235,
        "y": 340,
        "wires": [
            [
                "9ea0fe7bd908325e"
            ]
        ]
    },
    {
        "id": "cac24c9778e2151c",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 2285,
        "y": 160,
        "wires": []
    },
    {
        "id": "ba85250e1e0b9eb4",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status regen",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Regenration",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Regenration",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2170,
        "y": 160,
        "wires": [
            [
                "cac24c9778e2151c"
            ]
        ]
    },
    {
        "id": "f4dc0e223b5fd429",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 3355,
        "y": 320,
        "wires": []
    },
    {
        "id": "294b751c2434bab4",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Adsorption",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Adsorption",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3270,
        "y": 320,
        "wires": [
            [
                "f4dc0e223b5fd429"
            ]
        ]
    },
    {
        "id": "64066fd69df5fbd2",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 2475,
        "y": 660,
        "wires": []
    },
    {
        "id": "e3d1116d88a6a539",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Desorption",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Desorption",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2380,
        "y": 660,
        "wires": [
            [
                "64066fd69df5fbd2"
            ]
        ]
    },
    {
        "id": "5e264ffaf8564af8",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 2635,
        "y": 520,
        "wires": []
    },
    {
        "id": "f3fa91ca67ce1a2e",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status standby",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Standby",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Standby",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2510,
        "y": 520,
        "wires": [
            [
                "5e264ffaf8564af8"
            ]
        ]
    },
    {
        "id": "59cdf3544ef736c9",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 765,
        "y": 180,
        "wires": []
    },
    {
        "id": "f022827f879e2234",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Automation Disabled",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Automation Disabled",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 180,
        "wires": [
            [
                "59cdf3544ef736c9"
            ]
        ]
    },
    {
        "id": "377956e56076f835",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "AHumidity(A01) is >% criteria AHumidity (A02)",
        "func": "let stop = global.get(\"AutoMode\") || false;\n\nif (!stop) {\n    node.status({ fill: \"red\", shape: \"ring\", text: \"Stopped\" });\n    return null; // stop this branch\n}\n\n/*let a02ABSHum = global.get(\"1A02-AbsHum\")\nlet a01AbsHum = global.get(\"1A01-AbsHum\")\nlet percentageThreshold = (global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"])/100\nlet ceriteria = a02ABSHum*percentageThreshold\n\nmsg.a02AbsHum=a02ABSHum\nmsg.a01AbsHum=a01AbsHum\nmsg.percentage = percentageThreshold\nmsg.absHumCriteria=ceriteria\nif (a01AbsHum>ceriteria ){\n    //go adsorption\n    msg.payload = true\n    return msg;\n    \n}else{\n    //go regen\n    msg.payload = false\n    return msg;\n}*/\n\n\nlet a02RHum = global.get(\"1A02-inRH\")\n//let a01RHum = global.get(\"1A01-inRH\")\n//let percentageThreshold = (global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"])/100\nlet ceriteria = global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"]\n\nmsg.a02AbsHum = a02RHum\n//msg.a01AbsHum = a01RHum\n//msg.percentage = percentageThreshold\nmsg.rHumCriteria=ceriteria\nif (a02RHum <ceriteria ){\n    //go adsorption\n    msg.payload = true\n    return msg;\n    \n}else{\n    //go regen\n    msg.payload = false\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2880,
        "y": 200,
        "wires": [
            [
                "56948e68bbd266ee",
                "58b8b28e26528411",
                "71b3bcd2f8d6affc"
            ]
        ]
    },
    {
        "id": "60d32cb808cdb2ac",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "AHumidity(A01) is >%criteria AHumidity (A02)",
        "func": "let stop = global.get(\"AutoMode\") || false;\n\nif (!stop) {\n    node.status({ fill: \"red\", shape: \"ring\", text: \"Stopped\" });\n    return null; // stop this branch\n}\n\n/*let a02ABSHum = global.get(\"1A02-AbsHum\")\nlet a01AbsHum = global.get(\"1A01-AbsHum\")\nlet percentageThreshold = (global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"])/100\nlet ceriteria = a02ABSHum*percentageThreshold\n\nmsg.a02AbsHum=a02ABSHum\nmsg.a01AbsHum=a01AbsHum\nmsg.percentage = percentageThreshold\nmsg.absHumCriteria=ceriteria\nif (a01AbsHum>ceriteria ){\n    //go adsorption\n    msg.payload = true\n    return msg;\n    \n}else{\n    //go regen\n    msg.payload = false\n    return msg;\n}*/\n\n\nlet a02RHum = global.get(\"1A02-inRH\")\n//let a01RHum = global.get(\"1A01-inRH\")\n//let percentageThreshold = (global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"])/100\nlet ceriteria = global.get(\"autoParams\")[\"1-regen-HumidtyDiffThreshold\"]\n\nmsg.a02AbsHum = a02RHum\n//msg.a01AbsHum = a01RHum\n//msg.percentage = percentageThreshold\nmsg.rHumCriteria=ceriteria\nif (a02RHum <ceriteria ){\n    //go adsorption\n    msg.payload = true\n    return msg;\n    \n}else{\n    //go regen\n    msg.payload = false\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1780,
        "y": 220,
        "wires": [
            [
                "036560ec3996b9d7",
                "7bf5f7648772315b"
            ]
        ]
    },
    {
        "id": "036560ec3996b9d7",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2070,
        "y": 220,
        "wires": [
            [
                "ba85250e1e0b9eb4",
                "9a7f34455bd92757"
            ],
            [
                "88aa3105fd704bb8",
                "cceaf29472520ce1",
                "fa8202a1341903fd"
            ]
        ]
    },
    {
        "id": "f9893c5822234b4c",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "CO2(A02) is higher than threshold% of (A01)",
        "func": "let stop = global.get(\"AutoMode\") || false;\n\nif (!stop) {\n    node.status({ fill: \"red\", shape: \"ring\", text: \"Stopped\" });\n    return null; // stop this branch\n}\n\nlet a02Co2Avg = global.get(\"1A02-Co2Avg\")\nlet a01Co2Avg = global.get(\"1A01-Co2Avg\")\n//let percentageThreshold = (global.get(\"autoParams\")[\"1-Adsorption-CO2Threshold\"])/100\nlet ceriteria = (global.get(\"autoParams\")[\"1-Adsorption-CO2Threshold\"])\n\nmsg.a02Co2 = a02Co2Avg\nmsg.a01Co2 = a01Co2Avg\n//msg.Co2percentage = percentageThreshold\nmsg.Co2criteria=ceriteria\nif (a02Co2Avg >=ceriteria){\n    msg.payload=true\n    return msg;\n}else{\n    msg.payload=false\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 580,
        "wires": [
            [
                "7dbe6c8c13294d05",
                "e9217b1c75881119",
                "4c7f342c27009ca9"
            ]
        ]
    },
    {
        "id": "7dbe6c8c13294d05",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1510,
        "y": 580,
        "wires": [
            [
                "a269f35cd451a37c",
                "b798e2a52e237646"
            ],
            [
                "53fedaef35cd36ad",
                "79740fd5ec8d9492"
            ]
        ]
    },
    {
        "id": "c2c379ca53c199b6",
        "type": "function",
        "z": "32981e8e6835223e",
        "name": "CO2<threshold",
        "func": "let stop = global.get(\"AutoMode\") || false;\n\nif (!stop) {\n    node.status({ fill: \"red\", shape: \"ring\", text: \"Stopped\" });\n    return null; // stop this branch\n}\n\nlet a02Co2Avg = global.get(\"1A02-Co2Avg\")\nlet desorptionCriteria = global.get(\"autoParams\")[\"1-Desorption-Co2StopThreshold\"]\n\n\nmsg.a02_des_Co2 = a02Co2Avg\nmsg.desorptionCriteria = desorptionCriteria\nif (a02Co2Avg < desorptionCriteria){\n    //go regen\n    msg.payload=true\n    return msg;\n}else{\n    //stay in desorption\n    msg.payload=false\n    return msg;\n}\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 980,
        "wires": [
            [
                "95ae368a73282093",
                "3e64d3561044b8a6",
                "0fa9f5291fc9a5b1"
            ]
        ]
    },
    {
        "id": "95ae368a73282093",
        "type": "switch",
        "z": "32981e8e6835223e",
        "name": "check",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1930,
        "y": 980,
        "wires": [
            [
                "ca46cb1352d8b206",
                "030c8d536ed4a9c8"
            ],
            [
                "30ce1e621ea1940f",
                "184760e09bf69ca4"
            ]
        ]
    },
    {
        "id": "ea06f205d7631253",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2870,
        "y": 100,
        "wires": [
            [
                "5627e235af99cdfa"
            ]
        ]
    },
    {
        "id": "a269f35cd451a37c",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1090,
        "y": 520,
        "wires": [
            [
                "53fedaef35cd36ad"
            ]
        ]
    },
    {
        "id": "4f8f77dba9c24d53",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1870,
        "y": 760,
        "wires": [
            [
                "b798e2a52e237646"
            ]
        ]
    },
    {
        "id": "ca46cb1352d8b206",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 900,
        "wires": [
            [
                "30ce1e621ea1940f"
            ]
        ]
    },
    {
        "id": "547a8a616f7dafbe",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 2165,
        "y": 320,
        "wires": []
    },
    {
        "id": "fa8202a1341903fd",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Adsorption",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Adsorption",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2070,
        "y": 320,
        "wires": [
            [
                "547a8a616f7dafbe"
            ]
        ]
    },
    {
        "id": "e9217b1c75881119",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Automation_data_out",
        "mode": "link",
        "links": [
            "38612e187d343efc"
        ],
        "x": 1415,
        "y": 660,
        "wires": []
    },
    {
        "id": "71b3bcd2f8d6affc",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Automation_data_out",
        "mode": "link",
        "links": [
            "38612e187d343efc"
        ],
        "x": 3055,
        "y": 160,
        "wires": []
    },
    {
        "id": "3e64d3561044b8a6",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Automation_data_out",
        "mode": "link",
        "links": [
            "38612e187d343efc"
        ],
        "x": 1885,
        "y": 1040,
        "wires": []
    },
    {
        "id": "4c7f342c27009ca9",
        "type": "debug",
        "z": "32981e8e6835223e",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1460,
        "y": 500,
        "wires": []
    },
    {
        "id": "58b8b28e26528411",
        "type": "debug",
        "z": "32981e8e6835223e",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 3160,
        "y": 100,
        "wires": []
    },
    {
        "id": "0fa9f5291fc9a5b1",
        "type": "debug",
        "z": "32981e8e6835223e",
        "name": "debug 10",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1740,
        "y": 1080,
        "wires": []
    },
    {
        "id": "7bf5f7648772315b",
        "type": "debug",
        "z": "32981e8e6835223e",
        "name": "debug 12",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1900,
        "y": 120,
        "wires": []
    },
    {
        "id": "523ffa83b522201b",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "repeat cycle column1 out",
        "mode": "link",
        "links": [
            "e615011df45d0e6d"
        ],
        "x": 1075,
        "y": 280,
        "wires": []
    },
    {
        "id": "11a9160222c30abf",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 1075,
        "y": 340,
        "wires": []
    },
    {
        "id": "8d1c5e39875bc443",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Wait start time",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Wait start time",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 340,
        "wires": [
            [
                "11a9160222c30abf"
            ]
        ]
    },
    {
        "id": "947b10e0362a21ad",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 3355,
        "y": 140,
        "wires": []
    },
    {
        "id": "bc4e13f3ddeb6431",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Regeneration - Waiting Humidity(A02) criteria Column 1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "msg",
                "to": "Regeneration - Waiting Humidity(A02) criteria Column 1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3260,
        "y": 140,
        "wires": [
            [
                "947b10e0362a21ad"
            ]
        ]
    },
    {
        "id": "b510aafd9341edd6",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 1665,
        "y": 680,
        "wires": []
    },
    {
        "id": "79740fd5ec8d9492",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Adsorption - Waiting CO2(A02) > threshold% of (A01)",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1570,
        "y": 680,
        "wires": [
            [
                "b510aafd9341edd6"
            ]
        ]
    },
    {
        "id": "4981114b5ff18ccd",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 1135,
        "y": 1040,
        "wires": []
    },
    {
        "id": "46b74b221a13985b",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Desorption - Spraying water",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Desorption - Spraying water",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1050,
        "y": 1040,
        "wires": [
            [
                "4981114b5ff18ccd"
            ]
        ]
    },
    {
        "id": "229093dc1ce8dfb8",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 2145,
        "y": 1100,
        "wires": []
    },
    {
        "id": "184760e09bf69ca4",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Desorption - CO2(A02) < Threshold Column 1",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "msg",
                "to": "Desorption - CO2(A02) < Threshold Column 1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2050,
        "y": 1100,
        "wires": [
            [
                "229093dc1ce8dfb8"
            ]
        ]
    },
    {
        "id": "03906e3167426796",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "Apply speed",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 710,
        "y": 580,
        "wires": [
            [
                "53fedaef35cd36ad",
                "d7f168a60869fcbe"
            ]
        ]
    },
    {
        "id": "d7f168a60869fcbe",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "apply fan speed",
        "mode": "link",
        "links": [
            "9fe8d5b4bdc03a43"
        ],
        "x": 835,
        "y": 620,
        "wires": []
    },
    {
        "id": "60a0898d105cab77",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "V03 on V020 off",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 580,
        "y": 960,
        "wires": [
            [
                "60289543f0de3b18",
                "b63dbd62d31d66de"
            ]
        ]
    },
    {
        "id": "60289543f0de3b18",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "apply fan speed,and turn on fan",
        "mode": "link",
        "links": [
            "93b789bcc3907053",
            "bcdcae869ad783bf"
        ],
        "x": 655,
        "y": 1040,
        "wires": []
    },
    {
        "id": "1f45f3e856c25745",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "Turn Off Fan",
        "mode": "link",
        "links": [
            "f891c7e34bac21b4"
        ],
        "x": 225,
        "y": 1020,
        "wires": []
    },
    {
        "id": "0358abc77c63570f",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 160,
        "y": 940,
        "wires": [
            [
                "4e41ac535b2d371d",
                "1f45f3e856c25745"
            ]
        ]
    },
    {
        "id": "17ec9af626820c7d",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "F ON",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 910,
        "y": 960,
        "wires": [
            [
                "af8f46640494b64a",
                "893bc293429c09aa",
                "076b8261c88038cd"
            ]
        ]
    },
    {
        "id": "893bc293429c09aa",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "apply fan speed,and turn on fan",
        "mode": "link",
        "links": [
            "962ed7f4b121978f"
        ],
        "x": 915,
        "y": 1100,
        "wires": []
    },
    {
        "id": "030c8d536ed4a9c8",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "V02 open",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2089.5078125,
        "y": 1019.5078125,
        "wires": [
            [
                "f9ded39232025bab",
                "4a25b1a068f05e9f"
            ]
        ]
    },
    {
        "id": "4a25b1a068f05e9f",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "V03 close",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2240,
        "y": 1020,
        "wires": [
            [
                "f718d6ace64bd26f",
                "1ee8aa68b553a93d"
            ]
        ]
    },
    {
        "id": "1ee8aa68b553a93d",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLose V03",
        "mode": "link",
        "links": [
            "faf81b990d1ae70e"
        ],
        "x": 2268.5078125,
        "y": 900.5078125,
        "wires": []
    },
    {
        "id": "7957e86d06734db5",
        "type": "delay",
        "z": "32981e8e6835223e",
        "name": "",
        "pauseType": "delay",
        "timeout": "60",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1460,
        "y": 240,
        "wires": [
            [
                "60d32cb808cdb2ac",
                "d3eb96caf8b19411"
            ]
        ]
    },
    {
        "id": "076b8261c88038cd",
        "type": "debug",
        "z": "32981e8e6835223e",
        "name": "debug 15",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1100,
        "y": 1140,
        "wires": []
    },
    {
        "id": "d3eb96caf8b19411",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "reset",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 180,
        "wires": [
            [
                "7957e86d06734db5"
            ]
        ]
    },
    {
        "id": "258658c7dffb8bc8",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLM1_AUTO_Status in",
        "mode": "link",
        "links": [
            "0fba521e6efa0ca7"
        ],
        "x": 1125,
        "y": 80,
        "wires": []
    },
    {
        "id": "5bb1a7596b3da967",
        "type": "change",
        "z": "32981e8e6835223e",
        "name": "status regen",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "Regenration",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "AutomationStatus",
                "pt": "global",
                "to": "Regenration",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 990,
        "y": 80,
        "wires": [
            [
                "258658c7dffb8bc8"
            ]
        ]
    },
    {
        "id": "83e0199a48b9dac2",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "prepare for Regen",
        "mode": "link",
        "links": [
            "c9f039ed1a54aa86"
        ],
        "x": 1115,
        "y": 240,
        "wires": []
    },
    {
        "id": "baa7d1a9c71bed71",
        "type": "link in",
        "z": "32981e8e6835223e",
        "name": "regen prep done",
        "links": [
            "1d2ed20b2ba0f301"
        ],
        "x": 1315,
        "y": 240,
        "wires": [
            [
                "7957e86d06734db5"
            ]
        ]
    },
    {
        "id": "9a7f34455bd92757",
        "type": "link out",
        "z": "32981e8e6835223e",
        "name": "CLMN1 Regen",
        "mode": "link",
        "links": [
            "626e46fbe51bc6f5"
        ],
        "x": 2215,
        "y": 200,
        "wires": []
    },
    {
        "id": "5fc24968fa3c9af6",
        "type": "link in",
        "z": "32981e8e6835223e",
        "name": "RegnApplied",
        "links": [
            "7c4962fec30a0cb3"
        ],
        "x": 2475,
        "y": 200,
        "wires": [
            [
                "5627e235af99cdfa"
            ]
        ]
    },
    {
        "id": "f6d2d2917c8df183",
        "type": "ui-text",
        "z": "ef2b65986b3fe2a6",
        "group": "edb3219708e56efd",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "Column 1 current status",
        "label": "Current Status:",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "x": 490,
        "y": 220,
        "wires": []
    },
    {
        "id": "0fba521e6efa0ca7",
        "type": "link in",
        "z": "ef2b65986b3fe2a6",
        "name": "CLM1_AUTO_Status in",
        "links": [
            "cac24c9778e2151c",
            "f4dc0e223b5fd429",
            "64066fd69df5fbd2",
            "5e264ffaf8564af8",
            "59cdf3544ef736c9",
            "547a8a616f7dafbe",
            "11a9160222c30abf",
            "947b10e0362a21ad",
            "b510aafd9341edd6",
            "4981114b5ff18ccd",
            "229093dc1ce8dfb8",
            "258658c7dffb8bc8",
            "9eee0479eeed86e0"
        ],
        "x": 285,
        "y": 220,
        "wires": [
            [
                "f6d2d2917c8df183"
            ]
        ]
    },
    {
        "id": "12100600db99c1d1",
        "type": "ui-table",
        "z": "ef2b65986b3fe2a6",
        "group": "edb3219708e56efd",
        "name": "tr",
        "label": "",
        "order": 1,
        "width": "5",
        "height": "4",
        "maxrows": "0",
        "passthru": false,
        "autocols": true,
        "showSearch": false,
        "deselect": true,
        "selectionType": "click",
        "columns": [],
        "mobileBreakpoint": "sm",
        "mobileBreakpointType": "defaults",
        "action": "replace",
        "x": 650,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "38612e187d343efc",
        "type": "link in",
        "z": "ef2b65986b3fe2a6",
        "name": "CLM1_AUTO_Data in",
        "links": [
            "e9217b1c75881119",
            "71b3bcd2f8d6affc",
            "3e64d3561044b8a6"
        ],
        "x": 355,
        "y": 320,
        "wires": [
            [
                "23f36edc0ab0a1e8"
            ]
        ]
    },
    {
        "id": "23f36edc0ab0a1e8",
        "type": "function",
        "z": "ef2b65986b3fe2a6",
        "name": "function 1",
        "func": "msg.payload = {\n    a02: msg.a02,\n    a01: msg.a01,\n    percentage: msg.percentage,\n    criteria: msg.criteria,\n    a02Co2: msg.a02Co2,\n    a01Co2: msg.a01Co2,\n    Co2percentage: msg.Co2percentage,\n    Co2criteria: msg.Co2criteria,\n    columnTurn: msg.columnTurn,\n    GHC02Value: msg.GHC02Value,\n    GHThershold: msg.GHThershold\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 320,
        "wires": [
            [
                "12100600db99c1d1"
            ]
        ]
    },
    {
        "id": "9e6972e4d4d26080",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "apply fan speed,and turn on fan",
        "mode": "link",
        "links": [],
        "x": 2375,
        "y": 320,
        "wires": []
    },
    {
        "id": "7aa7eeb9003d3a28",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "V02 open",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 520,
        "y": 260,
        "wires": [
            [
                "b3d393c762260c3a",
                "900845b76fabd6e1"
            ]
        ]
    },
    {
        "id": "b3d393c762260c3a",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "Open V02",
        "mode": "link",
        "links": [
            "443d3afa06f7e3e5"
        ],
        "x": 575,
        "y": 340,
        "wires": []
    },
    {
        "id": "aa1ad20d8c1ef185",
        "type": "function",
        "z": "e6706dcb92e97a2c",
        "name": "regen fan speed",
        "func": "let fanSpeed=global.get(\"autoParams\")[\"1-regen-FanSpeed\"] \n\nmsg.payload = fanSpeed \nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 260,
        "wires": [
            [
                "5b71c621da2a29d6",
                "e2ee1c0307521803"
            ]
        ]
    },
    {
        "id": "5b71c621da2a29d6",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "adjust fan speed",
        "mode": "link",
        "links": [
            "144ab0e01fe98894"
        ],
        "x": 1405,
        "y": 340,
        "wires": []
    },
    {
        "id": "e2ee1c0307521803",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "F speed",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1580,
        "y": 260,
        "wires": [
            [
                "d23db37e6618c74d",
                "0dc128c200d4386b"
            ]
        ]
    },
    {
        "id": "d23db37e6618c74d",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "apply fan speed",
        "mode": "link",
        "links": [
            "9fe8d5b4bdc03a43"
        ],
        "x": 1645,
        "y": 320,
        "wires": []
    },
    {
        "id": "e87fcfd886a0e4bd",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "F ON",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2270,
        "y": 260,
        "wires": [
            [
                "9e6972e4d4d26080",
                "f2cc5298e83dca48"
            ]
        ]
    },
    {
        "id": "c9f039ed1a54aa86",
        "type": "link in",
        "z": "e6706dcb92e97a2c",
        "name": "Prepare for Regen",
        "links": [
            "83e0199a48b9dac2"
        ],
        "x": 395,
        "y": 260,
        "wires": [
            [
                "7aa7eeb9003d3a28"
            ]
        ]
    },
    {
        "id": "1d2ed20b2ba0f301",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "RegenPrep done",
        "mode": "link",
        "links": [
            "baa7d1a9c71bed71"
        ],
        "x": 2835,
        "y": 260,
        "wires": []
    },
    {
        "id": "e719801da7e3393e",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1V02Status",
        "property": "1V02Status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 970,
        "y": 260,
        "wires": [
            [
                "aa1ad20d8c1ef185",
                "03e9db41f417a236"
            ],
            [
                "7aa7eeb9003d3a28"
            ]
        ]
    },
    {
        "id": "900845b76fabd6e1",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 720,
        "y": 260,
        "wires": [
            [
                "e719801da7e3393e"
            ]
        ]
    },
    {
        "id": "f2a605572561392a",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1FN01Freq",
        "property": "1FN01Freq",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "payload",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1990,
        "y": 260,
        "wires": [
            [
                "e87fcfd886a0e4bd",
                "a3d1d3a09aa1abde"
            ],
            [
                "e2ee1c0307521803"
            ]
        ]
    },
    {
        "id": "0dc128c200d4386b",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1780,
        "y": 260,
        "wires": [
            [
                "f2a605572561392a"
            ]
        ]
    },
    {
        "id": "03e9db41f417a236",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 830,
        "y": 140,
        "wires": [
            [
                "900845b76fabd6e1"
            ]
        ]
    },
    {
        "id": "a3d1d3a09aa1abde",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1880.333251953125,
        "y": 150.3333282470703,
        "wires": [
            [
                "0dc128c200d4386b"
            ]
        ]
    },
    {
        "id": "6204d67fd006cc7c",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1FN01Status",
        "property": "1FN01Status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2650,
        "y": 260,
        "wires": [
            [
                "a2301937c13fc4fe",
                "1d2ed20b2ba0f301"
            ],
            [
                "e87fcfd886a0e4bd"
            ]
        ]
    },
    {
        "id": "f2cc5298e83dca48",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2440,
        "y": 260,
        "wires": [
            [
                "6204d67fd006cc7c"
            ]
        ]
    },
    {
        "id": "a2301937c13fc4fe",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2540.333251953125,
        "y": 150.3333282470703,
        "wires": [
            [
                "f2cc5298e83dca48"
            ]
        ]
    },
    {
        "id": "4fe82e643fdd455d",
        "type": "function",
        "z": "e6706dcb92e97a2c",
        "name": "Get Fan speed",
        "func": "let params = global.get(\"autoParams\")\nlet fanSpeed = { payload: params[\"1-regen-FanSpeed\"] }\n\n//heatersSetpoint.payload = global.get(\"1-regen-T\")\n//fanSpeed.payload = global.get(\"1-regen-FanSpeed\")\nreturn fanSpeed;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 600,
        "wires": [
            [
                "76a8ef84012737af",
                "99fbfd992871e5ad"
            ]
        ]
    },
    {
        "id": "78ac0308dcc39614",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "CTRL_1H01_Setpoint out",
        "mode": "link",
        "links": [
            "846d0692c7204b8d"
        ],
        "x": 2845,
        "y": 740,
        "wires": []
    },
    {
        "id": "99fbfd992871e5ad",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "CTRL_1FN01_Speed out",
        "mode": "link",
        "links": [
            "144ab0e01fe98894"
        ],
        "x": 625,
        "y": 520,
        "wires": []
    },
    {
        "id": "ff7341214a22508b",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "turn on Heater and fan close SV03 open SV02",
        "mode": "link",
        "links": [
            "443d3afa06f7e3e5",
            "962ed7f4b121978f",
            "faf81b990d1ae70e"
        ],
        "x": 825,
        "y": 520,
        "wires": []
    },
    {
        "id": "3443fb9e960e724c",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "H ON",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3570,
        "y": 600,
        "wires": [
            [
                "0371a3fb8e30cb3d",
                "4a845a918d3f0a90"
            ]
        ]
    },
    {
        "id": "0371a3fb8e30cb3d",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "turn on Heater and fan close SV03 open SV02",
        "mode": "link",
        "links": [
            "5553aaa637e267fb"
        ],
        "x": 3555,
        "y": 700,
        "wires": []
    },
    {
        "id": "0a2180290ca06702",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "Apply setpoints",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2960,
        "y": 600,
        "wires": [
            [
                "fa3d9b03a4b7d840",
                "8f1377f2b5a00552"
            ]
        ]
    },
    {
        "id": "fa3d9b03a4b7d840",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "Apply heater setpoint",
        "mode": "link",
        "links": [
            "9fe8d5b4bdc03a43",
            "e345219d2d18d6d7"
        ],
        "x": 2945,
        "y": 680,
        "wires": []
    },
    {
        "id": "626e46fbe51bc6f5",
        "type": "link in",
        "z": "e6706dcb92e97a2c",
        "name": "CLMN 1 Regen",
        "links": [
            "9a7f34455bd92757"
        ],
        "x": 355,
        "y": 600,
        "wires": [
            [
                "4fe82e643fdd455d"
            ]
        ]
    },
    {
        "id": "76a8ef84012737af",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "V02 open",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 700,
        "y": 600,
        "wires": [
            [
                "58888668826e5d92",
                "54933de91ef7fa6b"
            ]
        ]
    },
    {
        "id": "58888668826e5d92",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "Open V02",
        "mode": "link",
        "links": [
            "443d3afa06f7e3e5",
            "faf81b990d1ae70e"
        ],
        "x": 755,
        "y": 680,
        "wires": []
    },
    {
        "id": "6269a0f1809b2b32",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1V02Status",
        "property": "1V02Status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1150,
        "y": 600,
        "wires": [
            [
                "cc16037ce66ba47b",
                "05dbc69058de7fa3"
            ],
            [
                "76a8ef84012737af"
            ]
        ]
    },
    {
        "id": "54933de91ef7fa6b",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 900,
        "y": 600,
        "wires": [
            [
                "6269a0f1809b2b32"
            ]
        ]
    },
    {
        "id": "cc16037ce66ba47b",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1010,
        "y": 480,
        "wires": [
            [
                "54933de91ef7fa6b"
            ]
        ]
    },
    {
        "id": "05dbc69058de7fa3",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "F speed",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1409.666748046875,
        "y": 609.6666717529297,
        "wires": [
            [
                "082ffe42d4c4ee61",
                "46aadca5bebbd5e7"
            ]
        ]
    },
    {
        "id": "082ffe42d4c4ee61",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "apply fan speed",
        "mode": "link",
        "links": [
            "9fe8d5b4bdc03a43"
        ],
        "x": 1474.666748046875,
        "y": 669.6666717529297,
        "wires": []
    },
    {
        "id": "32476f83af0179be",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1FN01Freq",
        "property": "1FN01Freq",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "payload",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1819.666748046875,
        "y": 609.6666717529297,
        "wires": [
            [
                "cda92c0ff587c5ea",
                "3bc620adc256f007"
            ],
            [
                "05dbc69058de7fa3"
            ]
        ]
    },
    {
        "id": "46aadca5bebbd5e7",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1609.666748046875,
        "y": 609.6666717529297,
        "wires": [
            [
                "32476f83af0179be"
            ]
        ]
    },
    {
        "id": "cda92c0ff587c5ea",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1710,
        "y": 500,
        "wires": [
            [
                "46aadca5bebbd5e7"
            ]
        ]
    },
    {
        "id": "b5b666e6256558d7",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "apply fan speed,and turn on fan",
        "mode": "link",
        "links": [],
        "x": 2205,
        "y": 660,
        "wires": []
    },
    {
        "id": "3bc620adc256f007",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "F ON",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2100,
        "y": 600,
        "wires": [
            [
                "b5b666e6256558d7",
                "e24d6c45a62fb8bc"
            ]
        ]
    },
    {
        "id": "3c1803b3a9bb308c",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1FN01Status",
        "property": "1FN01Status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 2480,
        "y": 600,
        "wires": [
            [
                "e06cfceb9a84681d",
                "1d980a148c1298c1"
            ],
            [
                "3bc620adc256f007"
            ]
        ]
    },
    {
        "id": "e24d6c45a62fb8bc",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 2270,
        "y": 600,
        "wires": [
            [
                "3c1803b3a9bb308c"
            ]
        ]
    },
    {
        "id": "e06cfceb9a84681d",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2370.333251953125,
        "y": 490.3333282470703,
        "wires": [
            [
                "e24d6c45a62fb8bc"
            ]
        ]
    },
    {
        "id": "17af1920f96635fe",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1PIDSV",
        "property": "1PIDSV",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "payload",
                "vt": "msg"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3360,
        "y": 600,
        "wires": [
            [
                "42cbafbdbdf84713",
                "3443fb9e960e724c"
            ],
            [
                "0a2180290ca06702"
            ]
        ]
    },
    {
        "id": "8f1377f2b5a00552",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3160,
        "y": 600,
        "wires": [
            [
                "17af1920f96635fe"
            ]
        ]
    },
    {
        "id": "42cbafbdbdf84713",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3260.333251953125,
        "y": 490.3333282470703,
        "wires": [
            [
                "8f1377f2b5a00552"
            ]
        ]
    },
    {
        "id": "1d980a148c1298c1",
        "type": "function",
        "z": "e6706dcb92e97a2c",
        "name": "Get temp setpoint",
        "func": "let params = global.get(\"autoParams\")\nlet heaterSetpoint = { payload: params[\"1-regen-T\"] }\n\n\nreturn heaterSetpoint;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2730,
        "y": 600,
        "wires": [
            [
                "0a2180290ca06702",
                "78ac0308dcc39614"
            ]
        ]
    },
    {
        "id": "5b11983fc3194d69",
        "type": "switch",
        "z": "e6706dcb92e97a2c",
        "name": "1H01Status",
        "property": "1H01Status",
        "propertyType": "global",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 3990,
        "y": 600,
        "wires": [
            [
                "3b5b81e2c48da1c5",
                "7c4962fec30a0cb3"
            ],
            [
                "3443fb9e960e724c"
            ]
        ]
    },
    {
        "id": "4a845a918d3f0a90",
        "type": "delay",
        "z": "e6706dcb92e97a2c",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 3780,
        "y": 600,
        "wires": [
            [
                "5b11983fc3194d69"
            ]
        ]
    },
    {
        "id": "3b5b81e2c48da1c5",
        "type": "change",
        "z": "e6706dcb92e97a2c",
        "name": "reset delay",
        "rules": [
            {
                "t": "set",
                "p": "reset",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3880.333251953125,
        "y": 490.3333282470703,
        "wires": [
            [
                "4a845a918d3f0a90"
            ]
        ]
    },
    {
        "id": "7c4962fec30a0cb3",
        "type": "link out",
        "z": "e6706dcb92e97a2c",
        "name": "RegnApplied",
        "mode": "link",
        "links": [
            "5fc24968fa3c9af6"
        ],
        "x": 4195,
        "y": 600,
        "wires": []
    },
    {
        "id": "e6544c4442963821",
        "type": "ui-number-input",
        "z": "35bbe611d2f9a0ea",
        "group": "8e9cba7b0e41fe3c",
        "name": "1A01 CO2 AVG",
        "label": "1A01 CO2 AVG",
        "order": 1,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 480,
        "y": 380,
        "wires": [
            [
                "552d9e271d7eb884"
            ]
        ]
    },
    {
        "id": "d3e1d5d5e8cad3e9",
        "type": "ui-number-input",
        "z": "35bbe611d2f9a0ea",
        "group": "8e9cba7b0e41fe3c",
        "name": "1A01-inT",
        "label": "1A01-inT",
        "order": 6,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 480,
        "y": 440,
        "wires": [
            [
                "0f436853eae0eedf"
            ]
        ]
    },
    {
        "id": "552d9e271d7eb884",
        "type": "link out",
        "z": "35bbe611d2f9a0ea",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "2cec8c3747c8c28b"
        ],
        "x": 705,
        "y": 380,
        "wires": []
    },
    {
        "id": "1f9dbd6ae3c0d79d",
        "type": "ui-number-input",
        "z": "35bbe611d2f9a0ea",
        "group": "8e9cba7b0e41fe3c",
        "name": "1A01-inRH",
        "label": "1A01-inRH",
        "order": 5,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 490,
        "y": 480,
        "wires": [
            [
                "5d4734532b85705d"
            ]
        ]
    },
    {
        "id": "e852b20dadee3b95",
        "type": "link out",
        "z": "35bbe611d2f9a0ea",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "f3d686166b1bebab"
        ],
        "x": 755,
        "y": 440,
        "wires": []
    },
    {
        "id": "ab259f57d4afffb6",
        "type": "link out",
        "z": "35bbe611d2f9a0ea",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "51d5d7840b6ce935"
        ],
        "x": 705,
        "y": 480,
        "wires": []
    },
    {
        "id": "bbdd4bd0bc30410e",
        "type": "ui-number-input",
        "z": "35bbe611d2f9a0ea",
        "group": "8e9cba7b0e41fe3c",
        "name": "1A02 CO2 AVG",
        "label": "1A02 CO2 AVG",
        "order": 2,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1060,
        "y": 380,
        "wires": [
            [
                "6ef9599b592031ef"
            ]
        ]
    },
    {
        "id": "a96ed7fda6eeee3b",
        "type": "ui-number-input",
        "z": "35bbe611d2f9a0ea",
        "group": "8e9cba7b0e41fe3c",
        "name": "1A02-inT",
        "label": "1A02-inT",
        "order": 3,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1040,
        "y": 420,
        "wires": [
            [
                "5e2bfeae62d13b47"
            ]
        ]
    },
    {
        "id": "84b65b028ebfec03",
        "type": "ui-number-input",
        "z": "35bbe611d2f9a0ea",
        "group": "8e9cba7b0e41fe3c",
        "name": "1A02-inRH",
        "label": "1A02-inRH",
        "order": 4,
        "width": 0,
        "height": 0,
        "topic": "topic",
        "topicType": "msg",
        "min": 0,
        "max": "100",
        "step": 1,
        "tooltip": "",
        "passthru": true,
        "sendOnBlur": true,
        "sendOnEnter": true,
        "className": "",
        "clearable": false,
        "icon": "",
        "iconPosition": "left",
        "iconInnerPosition": "inside",
        "spinner": "default",
        "x": 1050,
        "y": 460,
        "wires": [
            [
                "56fd2c78720146d3"
            ]
        ]
    },
    {
        "id": "ea4003615b2077a6",
        "type": "link out",
        "z": "35bbe611d2f9a0ea",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "6d1476f303b06de3"
        ],
        "x": 1385,
        "y": 380,
        "wires": []
    },
    {
        "id": "6f49cdc8a3843697",
        "type": "link out",
        "z": "35bbe611d2f9a0ea",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "c24802f6ed886eec"
        ],
        "x": 1385,
        "y": 420,
        "wires": []
    },
    {
        "id": "df07c2e684c6dd3a",
        "type": "link out",
        "z": "35bbe611d2f9a0ea",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "89dd3844580081fc"
        ],
        "x": 1385,
        "y": 460,
        "wires": []
    },
    {
        "id": "6ef9599b592031ef",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LU.CO2.avg",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 380,
        "wires": [
            [
                "ea4003615b2077a6"
            ]
        ]
    },
    {
        "id": "5d4734532b85705d",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.RH.%",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 610,
        "y": 540,
        "wires": [
            [
                "ab259f57d4afffb6"
            ]
        ]
    },
    {
        "id": "0f436853eae0eedf",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LD.Temp.C",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 630,
        "y": 440,
        "wires": [
            [
                "e852b20dadee3b95"
            ]
        ]
    },
    {
        "id": "56fd2c78720146d3",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LU.RH.%",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 460,
        "wires": [
            [
                "df07c2e684c6dd3a"
            ]
        ]
    },
    {
        "id": "5e2bfeae62d13b47",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "LU.Temp.C",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 420,
        "wires": [
            [
                "6f49cdc8a3843697"
            ]
        ]
    },
    {
        "id": "6a7f2abb413f2589",
        "type": "inject",
        "z": "35bbe611d2f9a0ea",
        "name": "Start Flow",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0,
        "topic": "",
        "payload": "start",
        "payloadType": "str",
        "x": 480,
        "y": 720,
        "wires": [
            [
                "73c54ee56b0691f9"
            ]
        ]
    },
    {
        "id": "cb4931763638e3f8",
        "type": "function",
        "z": "35bbe611d2f9a0ea",
        "name": "Check Condition",
        "func": "// Check global condition\nlet cond = global.get(\"myCondition\") || false;\n\nif (cond === true) {\n    // Stop trigger loop\n    //msg.reset = true;\n    msg.payload = \"Condition met!\";\n    return msg;\n}\nelse{\n    //msg.reset = false;\n    msg.payload = \"False\";\n    return msg; \n}\n// Otherwise keep waiting → return null\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 720,
        "wires": [
            [
                "787c9e1a404da4e1"
            ]
        ]
    },
    {
        "id": "ae822e66dfaea1dd",
        "type": "debug",
        "z": "35bbe611d2f9a0ea",
        "name": "Flow Continues Here",
        "active": true,
        "tosidebar": true,
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 720,
        "wires": []
    },
    {
        "id": "6d434a881ec78ec8",
        "type": "inject",
        "z": "35bbe611d2f9a0ea",
        "name": "Set Condition TRUE",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "once": false,
        "onceDelay": 0,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 520,
        "y": 820,
        "wires": [
            [
                "06b22da8e12c4984"
            ]
        ]
    },
    {
        "id": "06b22da8e12c4984",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "global.myCondition = true",
        "rules": [
            {
                "t": "set",
                "p": "myCondition",
                "pt": "global",
                "to": "true",
                "tot": "bool"
            }
        ],
        "x": 780,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "a5395d6f10b74fdc",
        "type": "inject",
        "z": "35bbe611d2f9a0ea",
        "name": "Set Condition FALSE",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "once": false,
        "onceDelay": 0,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 520,
        "y": 880,
        "wires": [
            [
                "a9db22f66b9a7100"
            ]
        ]
    },
    {
        "id": "a9db22f66b9a7100",
        "type": "change",
        "z": "35bbe611d2f9a0ea",
        "name": "global.myCondition = false",
        "rules": [
            {
                "t": "set",
                "p": "myCondition",
                "pt": "global",
                "to": "false",
                "tot": "bool"
            }
        ],
        "x": 780,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "787c9e1a404da4e1",
        "type": "switch",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "Condition met!",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "False",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1230,
        "y": 720,
        "wires": [
            [
                "ae822e66dfaea1dd"
            ],
            [
                "73c54ee56b0691f9",
                "cc36cc44e736b09a"
            ]
        ]
    },
    {
        "id": "73c54ee56b0691f9",
        "type": "delay",
        "z": "35bbe611d2f9a0ea",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 800,
        "y": 720,
        "wires": [
            [
                "cb4931763638e3f8"
            ]
        ]
    },
    {
        "id": "cc36cc44e736b09a",
        "type": "debug",
        "z": "35bbe611d2f9a0ea",
        "name": "debug 7",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1400,
        "y": 800,
        "wires": []
    },
    {
        "id": "c4eb1285ca85c5bf",
        "type": "function",
        "z": "25d6fa6412edd03b",
        "name": "check heaters",
        "func": "let heater1=global.get(\"1PIDPV\")\nlet heater2 = global.get(\"2PIDPV\")\nif(heater1>60||heater2>60 ){\n    msg.payload=\"DANGER\"\n    return msg;\n}\nreturn null",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 240,
        "wires": [
            [
                "f6efca94e60c3937",
                "f46992726badd113"
            ]
        ]
    },
    {
        "id": "437fe107ec87fb20",
        "type": "inject",
        "z": "25d6fa6412edd03b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 450,
        "y": 240,
        "wires": [
            [
                "c4eb1285ca85c5bf"
            ]
        ]
    },
    {
        "id": "f6efca94e60c3937",
        "type": "switch",
        "z": "25d6fa6412edd03b",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "DANGER",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 810,
        "y": 240,
        "wires": [
            [
                "4323dfdbf6672f22",
                "74c157d054c78d54"
            ],
            []
        ]
    },
    {
        "id": "4323dfdbf6672f22",
        "type": "revpi-output",
        "z": "25d6fa6412edd03b",
        "server": "0becb6a714bc83bf",
        "outputpin": "RevPiOutput",
        "overwritevalue": true,
        "outputvalue": "1",
        "x": 1080,
        "y": 220,
        "wires": []
    },
    {
        "id": "a2674c9cf2477592",
        "type": "inject",
        "z": "25d6fa6412edd03b",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 580,
        "y": 380,
        "wires": [
            [
                "4323dfdbf6672f22"
            ]
        ]
    },
    {
        "id": "f46992726badd113",
        "type": "debug",
        "z": "25d6fa6412edd03b",
        "name": "debug 13",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 780,
        "y": 300,
        "wires": []
    },
    {
        "id": "74c157d054c78d54",
        "type": "debug",
        "z": "25d6fa6412edd03b",
        "name": "debug 14",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 160,
        "wires": []
    },
    {
        "id": "e2080ad22bf570c1",
        "type": "comment",
        "z": "25d6fa6412edd03b",
        "name": "Heater safety",
        "info": "",
        "x": 710,
        "y": 160,
        "wires": []
    }
]